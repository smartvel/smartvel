!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("angular"),require("angular-resource"),require("angular-cookies"),require("angular-translate"),require("angular-animate"),require("angular-sanitize"),require("angular-touch"),require("lodash"),require("jQuery"),require("ngDraggable"),require("angular-leaflet-directive"),require("moment"),require("leaflet-providers"));else if("function"==typeof define&&define.amd)define(["angular","angular-resource","angular-cookies","angular-translate","angular-animate","angular-sanitize","angular-touch","lodash","jQuery","ngDraggable","angular-leaflet-directive","moment","leaflet-providers"],t);else{var n="object"==typeof exports?t(require("angular"),require("angular-resource"),require("angular-cookies"),require("angular-translate"),require("angular-animate"),require("angular-sanitize"),require("angular-touch"),require("lodash"),require("jQuery"),require("ngDraggable"),require("angular-leaflet-directive"),require("moment"),require("leaflet-providers")):t(e.angular,e["angular-resource"],e["angular-cookies"],e["angular-translate"],e["angular-animate"],e["angular-sanitize"],e["angular-touch"],e.lodash,e.jQuery,e.ngDraggable,e["angular-leaflet-directive"],e.moment,e["leaflet-providers"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(__WEBPACK_EXTERNAL_MODULE_3__,__WEBPACK_EXTERNAL_MODULE_4__,__WEBPACK_EXTERNAL_MODULE_5__,__WEBPACK_EXTERNAL_MODULE_6__,__WEBPACK_EXTERNAL_MODULE_7__,__WEBPACK_EXTERNAL_MODULE_8__,__WEBPACK_EXTERNAL_MODULE_9__,__WEBPACK_EXTERNAL_MODULE_10__,__WEBPACK_EXTERNAL_MODULE_11__,__WEBPACK_EXTERNAL_MODULE_23__,__WEBPACK_EXTERNAL_MODULE_24__,__WEBPACK_EXTERNAL_MODULE_39__,__WEBPACK_EXTERNAL_MODULE_122__){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(113)},function(e,t,n){n(3),n(7),n(8),n(9),n(2),angular.module("smartvel-calendar",["ngAnimate","ngSanitize","ngTouch","smartvel-common","matchmedia-ng"]),n(99),n(74),n(106)},function(e,t,n){n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(14),n(22),n(23),n(24),angular.module("smartvel-common",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","pascalprecht.translate","ui.bootstrap.datetimepicker","ngDraggable","leaflet-directive"]).config(["$provide","$locationProvider",function(e,t){return e.decorator("$browser",["$delegate",function(e){return e.onUrlChange=function(){},e._url=e.url,e.url=function(){return""},e}])}]),n(25),n(32),n(48),n(61),n(86)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_4__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_5__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_6__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_7__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_8__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_9__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_10__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_11__},function(e,t,n){n(13)},function(e,t){e.exports={verbose:!0,styleLoader:"style-loader!css-loader!sass-loader",scripts:{transition:!0,alert:!0,button:!0,carousel:!0,collapse:!0,dropdown:!0,modal:!0,tooltip:!0,popover:!0,scrollspy:!0,tab:!0,affix:!0},styles:{mixins:!0,normalize:!0,print:!0,glyphicons:!0,scaffolding:!0,type:!0,code:!0,grid:!0,tables:!0,forms:!0,buttons:!0,"component-animations":!0,dropdowns:!0,"button-groups":!0,"input-groups":!0,navs:!0,navbar:!0,breadcrumbs:!0,pagination:!0,pager:!0,labels:!0,badges:!0,jumbotron:!0,thumbnails:!0,alerts:!0,"progress-bars":!0,media:!0,"list-group":!0,panels:!0,wells:!0,"responsive-embed":!0,close:!0,modals:!0,tooltip:!0,popovers:!0,carousel:!0,utilities:!0,"responsive-utilities":!0}}},function(e,t,n){n(15),n(19)},function(e,t){},,,,function(e,t,n){n(20),n(21)},function(e,t,n){(function(e){+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(a).remove(),e(i).each(function(){var r=e(this),a=t(r),i={relatedTarget:this};a.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(a[0],n.target)||(a.trigger(n=e.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),a.removeClass("open").trigger("hidden.bs.dropdown",i))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var a=".dropdown-backdrop",i='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.5",o.prototype.toggle=function(r){var a=e(this);if(!a.is(".disabled, :disabled")){var i=t(a),o=i.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(i.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var a=t(r),o=a.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&a.find(i).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",u=a.find(".dropdown-menu"+s);if(u.length){var l=u.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<u.length-1&&l++,~l||(l=0),u.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(e)}).call(t,n(11))},function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),a=r.data("bs.tab");a||r.data("bs.tab",a=new n(this)),"string"==typeof t&&a[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=n.find(".active:last a"),i=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(i),t.trigger(o),!o.isDefaultPrevented()&&!i.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){a.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:a[0]})})}}},n.prototype.activate=function(t,r,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),a&&a()}var o=r.find("> .active"),s=a&&e.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);o.length&&s?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var a=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(e)}).call(t,n(11))},function(e,t,n){(function(e){!function(e){"use strict";function t(t){e(t).on("click"+p,this.toggle)}function n(e,t){e.hasClass("pull-center")&&e.css("margin-right",e.outerWidth()/-2),e.hasClass("pull-middle")&&e.css("margin-top",e.outerHeight()/-2-t.outerHeight()/2)}function r(t,n){if(o){n||(n=[o]);var r;o[0]!==n[0][0]?r=o:(r=n[n.length-1],r.parent().hasClass(c)&&(r=r.parent())),r.find("."+h).removeClass(h),r.hasClass(h)&&r.removeClass(h),r===o&&(o=null,e(l).remove())}}function a(e){for(var t,n=[e];!t||t.hasClass(d);)t=(t||e).parent(),t.hasClass(c)&&(t=t.parent()),t.children(s)&&n.unshift(t);return n}function i(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var o,s='[data-toggle="dropdown"]',u=".disabled, :disabled",l=".dropdown-backdrop",c="dropdown-menu",d="dropdown-submenu",f=".bs.dropdown.data-api",p=".bs.dropdown",h="open",m="ontouchstart"in document.documentElement,_=t.prototype;_.toggle=function(t){var s=e(this);if(!s.is(u)){var f=i(s),p=f.hasClass(h),_=f.hasClass(d),v=_?a(f):null;if(r(t,v),!p){v||(v=[f]),!m||f.closest(".navbar-nav").length||v[0].find(l).length||e('<div class="'+l.substr(1)+'"/>').appendTo(v[0]).on("click",r);for(var g=0,y=v.length;y>g;g++)v[g].hasClass(h)||(v[g].addClass(h),n(v[g].children("."+c),v[g]));o=v[0]}return!1}},_.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),a=r.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&r.find(s).trigger("focus"),n.trigger("click");var o=" li:not(.divider):visible a",u="li:not(.divider):visible > input:not(disabled) ~ label",l=r.find(u+', [role="menu"]'+o+', [role="listbox"]'+o);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}},_.change=function(t){var n,r,a,i="";if(n=e(this).closest("."+c),r=n.parent().find("[data-label-placement]"),r&&r.length||(r=n.parent().find(s)),r&&r.length&&r.data("placeholder")!==!1){void 0==r.data("placeholder")&&r.data("placeholder",e.trim(r.text())),i=e.data(r[0],"placeholder"),a=n.find("li > input:checked"),a.length&&(i=[],a.each(function(){var t=e(this).parent().find("label").eq(0),n=t.find(".data-label");if(n.length){var r=e("<p></p>");r.append(n.clone()),t=r.html()}else t=t.html();t&&i.push(e.trim(t))}),i=i.length<4?i.join(", "):i.length+" selected");var o=r.find(".caret");r.html(i||"&nbsp;"),o.length&&r.append(" ")&&o.appendTo(r)}};var v=e.fn.dropdown;e.fn.dropdown=function(n){return this.each(function(){var r=e(this),a=r.data("bs.dropdown");a||r.data("bs.dropdown",a=new t(this)),"string"==typeof n&&a[n].call(r)})},e.fn.dropdown.Constructor=t,e.fn.dropdown.clearMenus=function(t){return e(l).remove(),e("."+h+" "+s).each(function(){var n=i(e(this)),r={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide"+p,r)),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden"+p,r))}),this},e.fn.dropdown.noConflict=function(){return e.fn.dropdown=v,this},e(document).off(f).on("click"+f,r).on("click"+f,s,_.toggle).on("click"+f,'.dropdown-menu > li > input[type="checkbox"] ~ label, .dropdown-menu > li > input[type="checkbox"], .dropdown-menu.noclose > li',function(e){e.stopPropagation()}).on("change"+f,'.dropdown-menu > li > input[type="checkbox"], .dropdown-menu > li > input[type="radio"]',_.change).on("keydown"+f,s+', [role="menu"], [role="listbox"]',_.keydown)}(e)}).call(t,n(11))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_23__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_24__},function(e,t,n){n(27),n(28),n(29),n(26),n(30),n(31)},function(e,t){"use strict";angular.module("smartvel-common").filter("no_underscores",function(){return function(e){return null!=e?e.replace(/_/g," "):void 0}})},function(e,t,n){"use strict";var r;r=n(3),r.module("smartvel-common").filter("capitalize",function(){return function(e){var t;return t=_.trim(e),t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}}).filter("capitalize_all",function(){return function(e){return null!=e?e.replace(/([^\W_]+[^\s-]*) */g,function(e){return _.size(e)>1?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e.toLowerCase()}):void 0}}).filter("capitalize_paragraph",function(){return function(e){return _.map(null!=e?e.split("."):void 0,function(e){var t;return t=_.trim(e),t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}).join(". ")}})},function(e,t){"use strict";angular.module("smartvel-common").filter("safe",["$filter",function(e){return function(t){return e("no_underscores")(null!=t?t.replace(/\*/g,""):void 0)}}])},function(e,t){"use strict";angular.module("smartvel-common").filter("take",function(){return function(e,t){return _.take(e,t)}})},function(e,t){"use strict";angular.module("smartvel-common").filter("visible_on_map",function(){return function(e,t){return t&&t.southWest?_.filter(e,function(e){var n,r;return("event"===e.type||"place"===e.type)&&e&&e.lat&&e.lng&&t.southWest.lat<(n=e.lat)&&n<t.northEast.lat&&t.southWest.lng<(r=e.lng)&&r<t.northEast.lng}):e}})},function(e,t,n){"use strict";var r;r=n(3),r.module("smartvel-common").filter("asReplica",function(){var e;return e=function(e){return e.event?e:{event:e,starts:e.starts,ends:e.ends,region:e.place.region}},function(t){return Array.isArray(t)?_.map(t,e):e(t)}}).filter("asEvent",function(){var e;return e=function(e){return e.event},function(t){return Array.isArray(t)?_.map(t,e):e(t)}})},function(e,t,n){n(34),n(35),n(36),n(37),n(38),n(40),n(41),n(33),n(42),n(43),n(44),n(45),n(46),n(47)},function(e,t){"use strict";angular.module("smartvel-common").factory("params",function(){var e,t,n,r;return r={},t=function(e){var t,n,r,a;return a={},t="",r="=",n="*",null==a.searchBox&&null!=(null!=e?e.searchBox:void 0)&&e.searchBox!==r&&(a.searchBox=t),null==a.bookParams&&null!=(null!=e?e.bookParams:void 0)&&e.bookParams!==r&&(a.bookParams=e.bookParams),null==a.allowTickets&&null!=(null!=e?e.allowTickets:void 0)&&e.allowTicket!==r&&(a.allowTickets=t),null==a.allowTravelplan&&null!=(null!=e?e.allowTravelplan:void 0)&&e.allowTravelplan!==r&&(a.allowTravelplan=t),null==a.latitude&&null!=(null!=e?e.latitude:void 0)&&e.latitude!==r&&(a.latitude=e.latitude),null==a.longitude&&null!=(null!=e?e.longitude:void 0)&&e.longitude!==r&&(a.longitude=e.longitude),null==a.zoom&&null!=(null!=e?e.zoom:void 0)&&e.zoom!==r&&(a.zoom=e.zoom),null==a.showPlaces&&null!=(null!=e?e.showPlaces:void 0)&&e.showPlaces!==r&&(a.showPlaces=t),null==a.latestMonthDay&&e.latestMonthDay!==r&&(a.latestMonthDay=parseInt(e.latestMonthDay)||10),a},e=function(e){return r[e]||{}},n=function(n,a){var i;return i=t(a),r[n]=i,e(n)},{getParams:e,setParams:n,parseParams:t}})},function(e,t){"use strict";angular.module("smartvel-common").factory("api",["$http","$q","Session",function(e,t,n){var r,a,i,o,s;return i="http://api.smartvel.com/v1",s=function(e){return _.reduce(e,function(e,t){return e?e+"&"+t[0]+"="+t[1]:"?"+t[0]+"="+t[1]},"")},o=function(r,a){var o;return null==a&&(a=[]),o=t.defer(),n.getApiKey()?(a.push(["key",n.getApiKey()]),o.resolve(e.get(""+i+r+s(a)))):n.getToken().then(function(t){return o.resolve(e.get(""+i+r+s(a),{headers:{Authorization:"Token "+t}}))}),o.promise},a=function(e,t){var n,a,i,o;for(o=e,a=0,i=t.length;i>a;a++)n=t[a],r(o,n);return o},r=function(t,r){return t["_"+r]=t[r],t[r]=function(a,i,o){var s;return s={},n.getApiKey()?(a.key=n.getApiKey(),t["_"+r](a,i,o)):n.getToken().then(function(n){return e.defaults.headers.common.Authorization="Token "+n,s=t["_"+r](a,i,o),e.defaults.headers.common.Authorization=void 0,s})}},{request:o,resource:a,url:i}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("customEvents",["$resource","$q","api","locale","customPlaces","filters","taxonomies",function(e,t,n,r,a,i,o){var s,u,l,c,d,f,p,h;return h=[],u=n.resource(e(n.url+"/user-events/:id",{id:"@id"},{query:{isArray:!0,method:"GET",transformResponse:function(e){var t;return t=JSON.parse(e),t.results}},update:{method:"PUT"}}),["get","query","save","update","delete"]),s=function(e){t.all({taxonomies:o.request(),places:a.all()}).then(function(t){return e.taxonomies=c(e.taxonomies,t.taxonomies),e.place=l(e.place,t.places),h.push(e)})},p=function(e){_.forEach(h,function(n){var r;return n.id===e.id?(r=h.indexOf(n),h[r]=e,t.all({taxonomies:o.request(),places:a.all()}).then(function(e){return h[r].taxonomies=c(h[r].taxonomies,e.taxonomies),h[r].place=l(h[r].place,e.places)})):void 0})},d=function(e){_.remove(h,function(t){return t.id===e.id})},f=function(e,n){var a,s,l,d;return null==n&&(n={}),d=t.defer(),s=r.currentLang(),l=_.defaults(i.getDictParams(e),n,{unrolled:""}),a=_.defaults(i.getDictParams(),{unrolled:""}),_.isEqual(l,a)&&h.length>0?d.resolve(h):u.query(l,function(e){return o.request().then(function(t){var n;return n=_.map(e,function(e){return e.taxonomies=c(e.taxonomies,t),e=_.defaults(e,e.translations[s.abbr])}),d.resolve(n),_.isEqual(l,a)?h=n:void 0})}),d.promise},c=function(e,t){return _.filter(t,function(t){return t.id===e[0]})},l=function(e,t){var n;return n=_.filter(t,function(t){return t.id===e}),n[0]},{get:function(e){return u.get({id:e,unrolled:""})},all:function(){return f({})},query:f,update:function(e,t){return null==t&&(t=function(){}),p(e),e.$update(t)},create:function(e,n){var r,a,i,o;null==n&&(n=function(){}),a=new u;for(r in e)o=e[r],a[r]=o;return i=t.defer(),a.$save(n).then(function(e){return e.$promise.then(function(e){return a.id=e.id,s(a)}),i.resolve(e)}),i.promise},"delete":function(e,t){return null==t&&(t=function(){}),d(e),e.$delete(t)},deleteBatch:function(e,t){var n,r,a,i;for(null==t&&(t=function(){}),i=[],r=0,a=e.length;a>r;r++)n=e[r],d(n),i.push(n.$delete(t));return i}}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("customPlaces",["$resource","$q","api",function(e,t,n){var r,a,i,o,s,u;return u=[],a=n.resource(e(n.url+"/user-places/:id",{id:"@id"},{query:{isArray:!0,method:"GET",transformResponse:function(e){var t;return t=JSON.parse(e),t.results}},update:{method:"PUT"}}),["get","query","save","update","delete"]),r=function(e){u.push(e)},s=function(e){var t;t=_.map(u,function(n){return n.id===e.id?(t=u.indexOf(n),u[t]=e):void 0})},i=function(e){_.remove(u,function(t){return t.id===e.id})},o=function(e){var n;return n=t.defer(),0===_.size(e)&&u.length>0?n.resolve(u):a.query(e,function(e){return u=e,n.resolve(u)}),n.promise},{get:function(e){return a.get({id:e})},all:function(){return o({})},query:o,update:function(e){return s(e),e.$update()},create:function(e){var n,i,o,s;i=new a;for(n in e)s=e[n],i[n]=s;return o=t.defer(),i.$save().then(function(e){return o.resolve(e),r(e)}),o.promise},"delete":function(e){return i(e),e.$delete()}}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("events",["$resource","$http","$filter","$q","api","locale","taxonomies","filters",function(e,t,n,r,a,i,o,s){var u,l,c;return l="/events/local",c=function(e){var t,n;return t=r.defer(),n=s.getUrlParams(e),a.request(l,n).then(function(e){return t.resolve(_.map(e.data.results,function(e){var t;return t=i.currentLang(),(null!=e?e.translations:void 0)&&t&&(e=_.defaults(e,e.translations[t.abbr])),e.taxonomies=_.map(e.taxonomies,function(e){return{name:o.translate(e.name)}}),e}))}),t.promise},u=function(e){return{event:e,enable:["popupopen","popupclose"],type:"event",lng:e.place.location.coordinates[0],lat:e.place.location.coordinates[1],layer:"main",label:{message:e.name,options:{noHide:!1}},message:'<div class="event-popup" align="center">\n  <h4>\n    <p class=event-name>\n      <b><font size="3">'+e.name+"</font></b>\n    </p>\n  </h4>\n    <p class=event-description>\n      "+e.place.name+"\n    </p>\n  <br/>\n</div>"}},{request:function(e){return c(e)},toMarker:u}}])},function(e,t,n){"use strict";var r;r=n(39),angular.module("smartvel-common").factory("filters",["$filter","$q","taxonomies","regions","locale",function(e,t,n,a,i){var o,s,u,l,c;return s=function(t){var n,r,a,o,s,u;return r=[],n=i.currentLang(),n&&r.push(["lang",n.abbr]),(null!=t?t.starts:void 0)&&r.push(["starts",e("date")(t.starts,"MM-dd-yyyy")]),(null!=t?t.ends:void 0)&&r.push(["ends",e("date")(t.ends,"MM-dd-yyyy")]),(null!=t?t.region:void 0)&&r.push(["region",t.region.name]),(null!=t?t.bounding_box:void 0)&&(null!=t?t.bounding_box.northEast:void 0)&&r.push(["in_bbox",[[null!=(a=t.bounding_box.northEast)?a.lat:void 0,null!=(o=t.bounding_box.southWest)?o.lng:void 0],[null!=(s=t.bounding_box.southWest)?s.lat:void 0,null!=(u=t.bounding_box.northEast)?u.lng:void 0]]]),(null!=t?t.taxonomies:void 0)&&_.forEach(_.pluck(_.filter(t.taxonomies,"selected"),"code"),function(e){return r.push(["taxonomies",e])}),(null!=t?t.text:void 0)&&r.push(["text",t.text]),r.push(["page_size",250]),r},o=function(e){return _.reduce(s(e),function(e,t){return e[t[0]]=t[1],e},{})},l=function(e){return e?_.map(e,function(e){return{code:e,selected:!0}}):void 0},u=function(e){return e?{name:e}:void 0},c=function(e){var i,o,s;return o=void 0!==e.date_forced?r(e.date_forced,"YYYY-MM-DD").toDate():r().toDate(),i={taxonomies:[],taxonomies_forced:void 0!==(null!=e?e.taxonomies_forced:void 0),region:void 0,regions:[],regions_forced:void 0!==(null!=e?e.regions_forced:void 0),starts:o,ends:o,text:""},s=t.defer(),t.all({taxonomies:n.request(null!=e?e.taxonomies_forced:void 0),regions:a.request(null!=e?e.regions_forced:void 0)}).then(function(e){return i.taxonomies=e.taxonomies,i.regions=e.regions,i.regions_forced&&(i.region=_.head(i.regions)),s.resolve(i)}),s.promise},{request_for_events:c,getUrlParams:s,getDictParams:o}}])},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_39__},function(e,t){"use strict";angular.module("smartvel-common").factory("images",function(){var e,t,n,r,a;return r=[],n=0,a="http://static.smartvel.com/images",e="linear-gradient(rgba(0,0,0,0.0), rgba(0,0,0,0.5))",t=function(){return n=(n+1)%10,a+"/img_generic_"+n+".jpg"},{next_generic_image:function(){return t()},image_tint:e}})},function(e,t,n){"use strict";var r;r=n(39),angular.module("smartvel-common").factory("locale",["$resource","$translate",function(e,t){var n,a,i,o,s,u;return n={en:{name:"English",abbr:"en",locale:"en_US"},es:{name:"Español",abbr:"es",locale:"es_ES"},de:{name:"Deutsch",abbr:"de",locale:"de_DE"},pt:{name:"Português",abbr:"pt",locale:"pt_PT"},it:{name:"Italiano",abbr:"it",locale:"it_IT"},fr:{name:"Française",abbr:"fr",locale:"fr_FR"},ja:{name:"日本語",abbr:"ja",locale:"ja_JP"},zh:{name:"中國",abbr:"zh",locale:"zh_CN"},ru:{name:"русский",abbr:"ru",locale:"ru_RU"},ca:{name:"Català",abbr:"ca",locale:"ca_CA"},eu:{name:"Euskera",abbr:"eu",locale:"eu_EU"},ga:{name:"Galego",abbr:"ga",locale:"ga_GA"}},i="en",a=_.trunc(t.use(),{length:2,omission:""})||u(i),s=function(){return n},u=function(e){return t.use(e),r.locale(e),a=e},o=function(){return n[a]},t.use(a),r.locale(a),{getAvailableLanguages:s,currentLang:o,setLang:u}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("places",["$resource","$http","$filter","$q","api","locale","taxonomies","filters",function(e,t,n,r,a,i,o,s){var u,l,c;return l="/places",c=function(e){var t,n;return t=r.defer(),n=s.getUrlParams(e),a.request(l,n).then(function(e){return t.resolve(_.map(e.data.results,function(e){var t;return t=i.currentLang(),(null!=e?e.translations:void 0)&&t&&(e=_.defaults(e,e.translations[t.abbr])),e.taxonomies=_.map(e.taxonomies,function(e){return{name:o.translate(e.name)}}),e}))}),t.promise},u=function(e){var t;return t="Smartvel Landmark",{place:e,type:"place",lng:e.location.coordinates[0],lat:e.location.coordinates[1],layer:"places",icon:{iconUrl:"http://static.smartvel.com/images/icons/place-marker-icon.png",popupAnchor:[12,5],shadowAnchor:[2,12],shadowUrl:"http://static.smartvel.com/images/icons/marker-shadow.png"},label:{message:e.name,options:{noHide:!1}},message:'<div class="place-popup" align="center">\n  <!--<p class=place-type>\n    '+t+'\n  </p>-->\n  <h4>\n    <p class=place-name>\n      <b><font size="3">'+e.name+"</font></b>\n    </p>\n  </h4>\n    <p class=place-description>\n      "+e.description+"\n    </p>\n  <br/>\n</div>"}},{request:function(e){return c(e)},toMarker:u}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("regions",["$q","$filter","api",function(e,t,n){var r,a,i,o;return o="/regions",r=[],a=function(e){return _.map(e,function(e){return{name:t("capitalize")(e.name?e.name:e),id:e.id,coverage:e.coverage,url:e.url,selected:!1}})},i=function(t){var i;return i=e.defer(),t?i.resolve(a([t])):n.request(o).then(function(e){return 0===r.length&&_.each(a(e.data.results),function(e){return r.push(e)}),i.resolve(r)}),i.promise},{request:i}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("replicas",["$resource","$http","$filter","$q","api","locale","taxonomies","filters",function(e,t,n,r,a,i,o,s){var u,l;return u="/events",l=function(e){var t,n;return t=r.defer(),n=s.getUrlParams(e),a.request(u,n).then(function(e){return t.resolve(_.map(e.data.results,function(e){var t,n;return t=i.currentLang(),(null!=e&&null!=(n=e.event)?n.translations:void 0)&&t&&(e.event=_.defaults(e.event,e.event.translations[t.abbr])),e.event.taxonomies=_.map(e.event.taxonomies,function(e){return{name:o.translate(e.name)}}),e}))}),t.promise},{request:function(e){return l(e)}}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("Session",["$http","$location","$cookies","$q","$window",function(e,t,n,r,a){var i,o,s,u,l,c,d,f,p,h,m,v,g,y,T,L,S,E;return L=n.smartToken,E=n.smartUser,u=null,S=r.defer(),v=[],y=[],m=function(r,a,i,o){var s;null==r&&(r=""),null==a&&(a=""),null==i&&(i="/"),null==o&&(o=function(){}),s={username:r,password:a},e.post("http://api.smartvel.com/v1/auth/token",s).success(function(e){L=e.token,n.smartToken=e.token,n.smartUser=r,t.path(i),S.resolve(L),_.forEach(v,function(e){return e(r,r)})}).error(function(e){return o()})},h=function(){return null!=L},f=function(){var e;return e=r.defer(),L?e.resolve(L):e=S,e.promise},d=function(){var e;return e=r.defer(),f().then(function(t){return e.resolve({Authorization:"Token "+t})}),e.promise},p=function(){return h()?E:void 0},g=function(){L=null,delete n.smartToken,delete n.smartUser,t.path("/login"),_.forEach(y,function(e){return e()})},l=function(e,t){var n,r,a,o;for(o=e,r=0,a=t.length;a>r;r++)n=t[r],i(o,n);return o},i=function(t,n){return t["_"+n]=t[n],t[n]=function(r,a,i){var o;return o={},c()?(r.key=c(),t["_"+n](r,a,i)):f().then(function(r){return e.defaults.headers.common.Authorization="Token "+r,o=t["_"+n](data,a,i),e.defaults.headers.common.Authorization=void 0,o})}},T=function(e){return u=e},c=function(){return u},o=function(e){return v.push(e)},s=function(e){return y.push(e)},{login:m,isLogged:h,getToken:f,getCredentials:d,getUser:p,logout:g,authenticateResource:l,setApiKey:T,getApiKey:c,addLoginHook:o,addLogoutHook:s}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("taxonomies",["$http","$q","$filter","api","locale",function(e,t,n,r,a){var i,o,s,u;return u="/taxonomies",i=[],o=function(e){return e?_.map(e,function(e){return{code:e,selected:!0}}):void 0},s=function(e){var s;return s=t.defer(),e?s.resolve(o(e)):0===i.length?r.request(u).then(function(e){return 0===i.length&&_.each(e.data.results,function(e){return i.push({name:n("capitalize_all")(n("no_underscores")(e.translations[a.currentLang().abbr].name)),code:e.slug,translations:e.translations,id:parseInt(e.url.match(/\/(\d+)$/)[1]),url:e.url,selected:!1})}),s.resolve(i)}):s.resolve(i),s.promise},{request:s,translate:function(e){return _.each(e,function(e){return e.translations?e.name=e.translations[a.currentLang().abbr].name:void 0})}}}])},function(e,t){"use strict";angular.module("smartvel-common").factory("travelPlan",["$resource","$http","$filter","$q","Session","locale","taxonomies","filters","customEvents","customPlaces",function(e,t,n,r,a,i,o,s,u,l){var c,d,f,p,h,m,v,g,y,T;return T={events:{},places:{}},s={},v=r.defer(),y=r.defer(),g=function(){return r.all({userEvents:u.query(s,{show_in_travelplan:""}),userPlaces:l.query({show_in_travelplan:""})}).then(function(e){return T.events=_.assign(T.events,_.indexBy(e.userEvents,"id")),T.places=_.assign(T.places,_.indexBy(e.userPlaces,"id")),v.resolve(T.events),y.resolve(T.places)})},c=function(e){return null!=e.id?T.events[e.id]=e:void 0},f=function(e){return _.has(T.events,null!=e?e.id:void 0)},h=function(e){return null!=e.id?delete T.events[e.id]:void 0},d=function(e){return null!=e.id?T.places[e.id]=e:void 0},p=function(e){return _.has(T.places,null!=e?e.id:void 0)},m=function(e){return null!=e.id?delete T.places[e.id]:void 0},g(),{empty:function(){return 0===_.size(T.events)&&0===_.size(T.places)},events:function(){return v.promise},addEvent:c,hasEvent:f,removeEvent:h,places:function(){return y.promise},addPlace:d,hasPlace:p,removePlace:m}}])},function(e,t,n){n(50),n(51),n(52),n(53),n(54),n(55),n(49),n(56),n(57),n(58),n(59),n(60)},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("pt",{COOKIES_TEXT:"Smartvel usar cookies. Nós usamos cookies para personalizar a sua experiência do usuário e para estudar como nosso site está sendo usado. Você concorda com nossos cookies, se você continuar a usar o site.",CUST_ACTIONS:"ações",CUST_ADD_TO_TRAVELPLAN:"Adicionar ao meu plano de viagem",CUST_ALL_CATEGORIES:"Todas as categorias",CUST_BOOK_HOTEL:"Reserva hotel",CUST_CLOSE:"perto",CUST_CONTINUE:"Continuar",CUST_DELETE:"excluir",CUST_DESCRIPTION:"descrição",CUST_EDIT:"editar",CUST_EVENTS:"EVENTOS",CUST_EVENTS_ADD:"Adicionar Evento",CUST_EVENTS_EDIT:"Editar evento",CUST_EVENTS_ENDS:"Termina",CUST_EVENTS_PLACE:"lugares",CUST_EVENTS_STARTS:"Inicia",CUST_EVENTS_TAXONOMY:"Taxonomia",CUST_LINK:"link",CUST_MANUAL:"Escolha data",CUST_NAME:"nome",CUST_NEXT_MONTH:"Próximos 30 dias",CUST_NEXT_WEEK:"Próximos 7 dias",CUST_PLACES_ADD:"Adicionar Lugar",CUST_PLACES_ADDRESS:"endereço",CUST_PLACES_ADDRESS_LONG:"local endereço",CUST_PLACES_EDIT:"Editar Local",CUST_PLACES_HEAD:"Meus Locais",CUST_PLACES_LAT:"latitude",CUST_PLACES_LNG:"longitude",CUST_PLACES_REGION:"região",CUST_PURCHASE_TICKETS:"Compra de passagens",CUST_READ_MORE:"Leia mais",CUST_REMOVE_FROM_TRAVELPLAN:"Retire do meu plano de viagem",CUST_SAVE:"Salvar",CUST_SAVE_CHANGES:"Salvar alterações",CUST_SHOW_MORE:"Mostre mais",CUST_SHOW_LESS:"Mostrar menos",CUST_TODAY:"Hoje",CUST_TOMORROW:"amanhã",CUST_WEBSITE:"site",EVENT_FROM:"De",EVENT_TO:"a",EVENT_AT:"às",FILTERS_CATEGORIES:"Categorias:",FILTERS_FROM:"A partir de:",FILTERS_REGIONS:"Regiões:",FILTERS_RELOAD:"Recarregar",FILTERS_TEXT:"Texto:",FILTERS_TEXT_PLACEHOLDER:"Sinta-se livre, ou seja: jazz ...",FILTERS_TO:"Para:",FILTERS_WHEN:"Quando",INSPIRE_TEXT:"Desfrute de uma experiência única , onde quer que você vá com Smartvel .",MAIN_CONTACT:"Para qualquer exigência que possa ter, por favor contacte -nos no sales@smartvel.com ou on +34 917 55 85 40",MAIN_H1:"ACESSO DE TODOS OS NOSSOS PRODUTOS",MAIN_H2:"SIMULAÇÕES REAL EM SEU DESTINOS",MAIN_H3:"TODA A INFORMAÇÃO QUE VOCÊ PRECISA",MAIN_H4:"CARREGAR SEU PRU00f3PRIO CONTEU00faDO",MAIN_TEXT1:"Todo o produto disponível aqui está trabalhando em tempo real e com um conteúdo real",MAIN_TEXT2:"Produtos e demos são configurados com as cidades que você nos forneceu . Smartvel atualmente tem conteúdo em mais de uma centena de cidades, vinte países e três continentes",MAIN_TEXT3:"Encontre as vantagens de cada produto no nosso web para entender melhor como eles podem melhorar a sua conversibilidade e serviço ao cliente",MAIN_TEXT4:"Nós convidamos você a carregar seu próprio conteúdo e verificar como seus clientes iria vê-lo . Você pode fazer isso no menu principal, na opção de configurações",
MAIN_WELCOME:"Bem-vindo ao site de demonstração de produtos Smartvel",NAV_CUST_EVENTS:"Meus eventos",NAV_CUST_PLACES:"Meus lugares",NAV_LOGOUT:"Sair",NAV_MAIN:"Painel de instrumentos",NAV_OPTIONS:"Opções",NAV_SETTINGS:"Definições",NAV_TRAVELPLAN:"O meu plano de viagem",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"Restaurar senha",RESTORE:"Restaurar",TRAVELPLAN_TEXT:"O meu plano de viagem"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("de",{COOKIES_TEXT:"Smartvel verwendet Cookies. Wir verwenden Cookies, um Ihren Benutzererlebnis persönlicher zu gestalten und zu untersuchen, wie unsere Website genutzt wird. Sie stimmen zu, unsere Cookies, wenn Sie weiterhin zur Nutzung dieser Website.",CUST_ACTIONS:"Aktionen",CUST_ADD_TO_TRAVELPLAN:"Zu meinen Reiseplan",CUST_ALL_CATEGORIES:"Alle Kategorien",CUST_BOOK_HOTEL:"Hotel buchen",CUST_CONTINUE:"Fortsetzen",CUST_CLOSE:"Zu Schließen",CUST_DELETE:"löschen",CUST_DESCRIPTION:"Beschreibung",CUST_EDIT:"bearbeiten",CUST_EVENTS:"GESCHEHEN",CUST_EVENTS_ADD:"Ereignis hinzufügen",CUST_EVENTS_EDIT:"Ereignis bearbeiten",CUST_EVENTS_ENDS:"Enden",CUST_EVENTS_PLACE:"Platz",CUST_EVENTS_STARTS:"Startet",CUST_EVENTS_TAXONOMY:"Taxonomie",CUST_LINK:"Link",CUST_MANUAL:"Datum wählen",CUST_NAME:"Name",CUST_NEXT_MONTH:"Nächsten 30 Tage",CUST_NEXT_WEEK:"Nächste 7 Tage",CUST_PLACES_ADD:"Platz hinzufügen",CUST_PLACES_ADDRESS:"Anschrift",CUST_PLACES_ADDRESS_LONG:"Platz -Adresse",CUST_PLACES_EDIT:"Platz bearbeiten",CUST_PLACES_HEAD:"Meine Orte",CUST_PLACES_LAT:"Breite",CUST_PLACES_LNG:"Länge",CUST_PLACES_REGION:"Region",CUST_PURCHASE_TICKETS:"Tickets kaufen",CUST_READ_MORE:"Weiterlesen",CUST_REMOVE_FROM_TRAVELPLAN:"Von meinem Reiseplan entfernen",CUST_SAVE:"Speichern",CUST_SAVE_CHANGES:"Änderungen speichern",CUST_SHOW_MORE:"Zeig mehr",CUST_SHOW_LESS:"Verbergen",CUST_TODAY:"Heute",CUST_TOMORROW:"Morgen",CUST_WEBSITE:"Webseite",EVENT_FROM:"Von",EVENT_TO:"bis",EVENT_AT:"um",FILTERS_CATEGORIES:"Kategorien:",FILTERS_FROM:"Desde:",FILTERS_REGIONS:"Regionen:",FILTERS_RELOAD:"Neu Laden",FILTERS_TEXT:"Text:",FILTERS_TEXT_PLACEHOLDER:"Fühlen Sie sich frei, das heißt: jazz ...",FILTERS_TO:"bis Zur:",FILTERS_WHEN:"Wann:",INSPIRE_TEXT:"Genießen Sie eine einzigartige Erfahrung , wo immer Sie mit Smartvel gehen.",MAIN_CONTACT:"Für jeden Bedarf Sie haben, kontaktieren Sie uns unter sales@smartvel.com oder +34 917 55 85 40",MAIN_H1:"ACCESS ALL UNSERE PRODUKTE",MAIN_H2:"REAL SIMULATIONEN AUF IHRE ZIELE",MAIN_H3:"ALLE INFOS SIE",MAIN_H4:"LADEN SIE IHRE EIGENE INHALTE",MAIN_TEXT1:"Jedes Produkt, das hier arbeitet in Echtzeit und mit echten Inhalt",MAIN_TEXT2:"Produkte und Demos werden mit den Städte, die Sie uns zur Verfügung gestellt konfiguriert. Smartvel derzeit Inhalte auf mehr als hundert Städten , zwanzig Ländern und drei Kontinenten",MAIN_TEXT3:"Entdecken Sie die Vorteile von jedem Produkt auf unserer Web besser zu verstehen, wie sie Ihre Konvertibilität und den Kundenservice zu verbessern",MAIN_TEXT4:"Wir laden Sie ein, Ihre eigenen Inhalte zu laden und zu überprüfen, wie Ihre Kunden würde es sehen. Dies können Sie im Hauptmenü unter dem Punkt Einstellungen zu tun",MAIN_WELCOME:"Willkommen auf der Demo -Site von Smartvel Produkte",NAV_CUST_EVENTS:"Meine Veranstaltungen",NAV_CUST_PLACES:"Meine Adresse",NAV_LOGOUT:"Logout",NAV_MAIN:"Armaturenbrett",NAV_OPTIONS:"Optionen",NAV_SETTINGS:"Einstellungen",NAV_TRAVELPLAN:"Meinem Reiseplan",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"Passwort wiederherstellen",RESTORE:"Wiederherstellen",TRAVELPLAN_TEXT:"Meinem Reiseplan"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("en",{COOKIES_TEXT:"Smartvel uses cookies. We use cookies to personalize your user experience and to study how our website is being used. You consent to our cookies if you continue to use this website.",CUST_ACTIONS:"Actions",CUST_ADD_TO_TRAVELPLAN:"Add to my travel plan",CUST_ALL_CATEGORIES:"All categories",CUST_BOOK_HOTEL:"Book hotel",CUST_CLOSE:"Close",CUST_CONTINUE:"Continue",CUST_DELETE:"Delete",CUST_DESCRIPTION:"Description",CUST_EDIT:"Edit",CUST_EVENTS:"EVENTS",CUST_EVENTS_ADD:"Add Event",CUST_EVENTS_EDIT:"Edit Event",CUST_EVENTS_ENDS:"Ends",CUST_EVENTS_PLACE:"Place",CUST_EVENTS_STARTS:"Starts",CUST_EVENTS_TAXONOMY:"Taxonomy",CUST_LINK:"Link",CUST_MANUAL:"Choose date",CUST_NAME:"Name",CUST_NEXT_MONTH:"Next 30 days",CUST_NEXT_WEEK:"Next 7 days",CUST_PLACES_ADD:"Add Place",CUST_PLACES_ADDRESS:"Address",CUST_PLACES_ADDRESS_LONG:"Place address",CUST_PLACES_EDIT:"Edit Place",CUST_PLACES_HEAD:"My Places",CUST_PLACES_LAT:"Latitude",CUST_PLACES_LNG:"Longitude",CUST_PLACES_REGION:"Region",CUST_PURCHASE_TICKETS:"Purchase tickets",CUST_READ_MORE:"Read more",CUST_REMOVE_FROM_TRAVELPLAN:"Remove from my travel plan",CUST_SAVE:"Save",CUST_SAVE_CHANGES:"Save changes",CUST_SHOW_MORE:"Show more",CUST_SHOW_LESS:"Hide",CUST_TODAY:"Today",CUST_TOMORROW:"Tomorrow",CUST_WEBSITE:"Website",EVENT_FROM:"From",EVENT_TO:"to",EVENT_AT:"at",FILTERS_CATEGORIES:"Categories:",FILTERS_FROM:"From:",FILTERS_REGIONS:"Regions:",FILTERS_RELOAD:"Reload",FILTERS_TEXT:"Text:",FILTERS_TEXT_PLACEHOLDER:"Feel free, ie: jazz ...",FILTERS_TO:"To:",FILTERS_WHEN:"Where:",INSPIRE_TEXT:"Enjoy a unique experience wherever you go with Smartvel.",MAIN_CONTACT:"For any requirement you may have, please contact us on sales@smartvel.com or on +34 917 55 85 40 or let us know through our support widget on this page",MAIN_H1:"ACCESS ALL OUR PRODUCTS",MAIN_H2:"REAL SIMULATIONS ON YOUR DESTINATIONS",MAIN_H3:"ALL THE INFO YOU NEED",MAIN_H4:"LOAD YOUR OWN CONTENT",MAIN_TEXT1:"Every product available here is working real-time and with real content",MAIN_TEXT2:"Products and demos are configured with the cities you provided us. Smartvel currently has content on more than a hundred cities, twenty countries, and three continents",MAIN_TEXT3:"Find the advantages of every product on our web to better understand how they can improve your convertibility and customer service",MAIN_TEXT4:"We invite you to load your own content and check how your clients would see it. You can do this on the main menu, under the settings option",MAIN_WELCOME:"Welcome to the Demo Site of Smartvel Products",NAV_CUST_EVENTS:"My Events",NAV_CUST_PLACES:"My Places",NAV_LOGOUT:"Logout",NAV_MAIN:"Dashboard",NAV_OPTIONS:"Options",NAV_SETTINGS:"Settings",NAV_TRAVELPLAN:"My travel plan",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"Restore Password",RESTORE:"Restore",TRAVELPLAN_TEXT:"My travel plan"}),e.determinePreferredLanguage()}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("es",{COOKIES_TEXT:"Smartvel usa cookies. Usamos cookies para personalizar su experiencia de usuario y estudiar cómo se usa nuestra web. Al utilizar nuestros servicios, aceptas el uso que hacemos de las cookies.",CUST_ACTIONS:"Acciones",CUST_ADD_TO_TRAVELPLAN:"Añadir a mi plan de viajes",CUST_ALL_CATEGORIES:"Todas las categorías",CUST_BOOK_HOTEL:"Reservar hotel",CUST_CLOSE:"Cerrar",CUST_CONTINUE:"Continuar",CUST_DELETE:"Borrar",CUST_DESCRIPTION:"Descripción",CUST_EDIT:"Editar",CUST_EVENTS:"EVENTOS",CUST_EVENTS_ADD:"Añadir Evento",CUST_EVENTS_EDIT:"Editar Evento",CUST_EVENTS_ENDS:"Acaba",CUST_EVENTS_PLACE:"Lugar",CUST_EVENTS_STARTS:"Empieza",CUST_EVENTS_TAXONOMY:"Taxonomía",CUST_LINK:"Enlace",CUST_MANUAL:"Escoge fecha",CUST_NAME:"Nombre",CUST_NEXT_MONTH:"Próximos 30 días",CUST_NEXT_WEEK:"Próximos 7 días",CUST_PLACES_ADD:"Añadir Lugar",CUST_PLACES_ADDRESS:"Dirección",CUST_PLACES_ADDRESS_LONG:"Dirección del Lugar",CUST_PLACES_EDIT:"Editar Lugar",CUST_PLACES_HEAD:"Mis Lugares",CUST_PLACES_LAT:"Latitud",CUST_PLACES_LNG:"Longitud",CUST_PLACES_REGION:"Región",CUST_PURCHASE_TICKETS:"Comprar entradas",CUST_READ_MORE:"Leer más",CUST_REMOVE_FROM_TRAVELPLAN:"Quitar de mi plan de viajes",CUST_SAVE:"Guardar",CUST_SAVE_CHANGES:"Guardar cambios",CUST_SHOW_MORE:"Mostrar más",CUST_SHOW_LESS:"Mostrar menos",CUST_TODAY:"Hoy",CUST_TOMORROW:"Mañana",CUST_WEBSITE:"Página web",EVENT_FROM:"Desde",EVENT_TO:"hasta",EVENT_AT:"a las",FILTERS_CATEGORIES:"Categorías:",FILTERS_FROM:"Desde:",FILTERS_REGIONS:"Regiones:",FILTERS_RELOAD:"Recargar",FILTERS_TEXT:"Texto:",FILTERS_TEXT_PLACEHOLDER:"Superbuscador, ej. Jazz",FILTERS_TO:"Hasta:",FILTERS_WHEN:"Cuándo:",INSPIRE_TEXT:"Disfruta con Smartvel de una experiencia única allá donde vayas.",MAIN_CONTACT:"Cualquier duda o requisito que tengas, por favor contacta con nosotros en sales@smartvel.com o en +34 917 55 85 40 o cuéntanoslo en el icono de soporte",MAIN_H1:"ACCEDE A TODOS NUESTROS PRODUCTOS",MAIN_H2:"SIMULACIONES REALES EN TUS DESTINOS",MAIN_H3:"TODA LA INFORMACIÓN QUE NECESITAS",MAIN_H4:"CARGA TU PROPIO CONTENIDO",MAIN_TEXT1:"Todo el contenido y productos que están aquí disponibles están funcionando en tiempo real, con contenido real y vivo.",MAIN_TEXT2:"Los productos y demos están ajustados a las ciudades que nos has solicitado, Smartvel tiene en la actualidad contenido en más de cien ciudades, veinte países y tres continentes.",MAIN_TEXT3:"Encuentra las ventajas de cada producto en nuestra web para comprender mejor como pueden mejorar tu convertibilidad y servicio al cliente.",MAIN_TEXT4:"Te invitamos a cargar contenido propio y comprobar como quedaría para tus clientes a través del menú principal de la aplicación en “Mis eventos” o “Mis lugares”.",MAIN_WELCOME:"Bienvenidos a la Web de Demo de los productos de Smartvel.",NAV_CUST_EVENTS:"Mis Eventos",NAV_CUST_PLACES:"Mis Lugares",NAV_LOGOUT:"Salir",NAV_MAIN:"Página Principal",NAV_OPTIONS:"Opciones",NAV_SETTINGS:"Configuración",NAV_TRAVELPLAN:"Mi plan de viajes",NAV_CUST_COMPONENTS:"Mis componentes",NAV_COMPONENTS:"Componentes Web",NAV_API:"API de eventos",RESTORE_PASSWD:"Restaurar contraseña",RESTORE:"Restaurar",TRAVELPLAN_TEXT:"Mi plan de viajes"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("fr",{COOKIES_TEXT:"Smartvel utilise des cookies. Nous utilisons des cookies pour personnaliser votre expérience d'utilisateur et pour étudier comment notre site est utilisé. Si vous continuez votre visite sur ce site, vous consentez à l'utilisation de nos cookies.",CUST_ACTIONS:"actes",CUST_ALL_CATEGORIES:"Toutes catégories",CUST_ADD_TO_TRAVELPLAN:"Ajouter à mon plan de voyage",CUST_BOOK_HOTEL:"Rérserver l'hôtel",CUST_CLOSE:"près",CUST_CONTINUE:"Continuer",CUST_DELETE:"effacer",CUST_DESCRIPTION:"description",CUST_EDIT:"éditer",CUST_EVENTS:"ÉVÉNEMENTS",CUST_EVENTS_ADD:"Ajouter événement",CUST_EVENTS_EDIT:"Modifier l'événement",CUST_EVENTS_ENDS:"extrémités",CUST_EVENTS_PLACE:"lieu",CUST_EVENTS_STARTS:"commence",CUST_EVENTS_TAXONOMY:"taxonomie",CUST_LINK:"lien",CUST_MANUAL:"Choisissez une date",CUST_NAME:"nom",CUST_NEXT_MONTH:"Les 30 prochains jours",CUST_NEXT_WEEK:"Les 7 prochains jours",CUST_PLACES_ADD:"Ajouter place",CUST_PLACES_ADDRESS:"adresse",CUST_PLACES_ADDRESS_LONG:"lieu adresse",CUST_PLACES_EDIT:"Modifier Lieu",CUST_PLACES_HEAD:"Mes Lieux",CUST_PLACES_LAT:"latitude",CUST_PLACES_LNG:"longitude",CUST_PLACES_REGION:"région",CUST_PURCHASE_TICKETS:"Acheter dess tickets",CUST_READ_MORE:"En savoir plus",CUST_REMOVE_FROM_TRAVELPLAN:"Retirer de mon plan de voyage",CUST_SAVE:"Enregistrer",CUST_SAVE_CHANGES:"enregistrer les modifications",CUST_SHOW_MORE:"Montre plus",CUST_SHOW_LESS:"Cacher",CUST_TODAY:"Aujourd'hui",CUST_TOMORROW:"Demain",CUST_WEBSITE:"site Web",EVENT_FROM:"De",EVENT_TO:"au",EVENT_AT:"à",FILTERS_CATEGORIES:"Catégories:",FILTERS_FROM:"De:",FILTERS_REGIONS:"régions:",FILTERS_RELOAD:"recharger",FILTERS_TEXT:"Texte:",FILTERS_TEXT_PLACEHOLDER:"Sentez-vous libre, à savoir: le jazz ...",FILTERS_TO:"Pour:",FILTERS_WHEN:"Quand:",INSPIRE_TEXT:"Vivez une expérience unique où que vous alliez avec Smartvel .",MAIN_CONTACT:"Pour toute demande que vous pourriez avoir , se il vous plaît nous contacter sur sales@smartvel.com ou +34 917 55 85 40",MAIN_H1:"ACCÈS TOUS NOS PRODUITS",MAIN_H2:"REAL SIMULATIONS SUR VOS DESTINATIONS",MAIN_H3:"TOUTES LES INFOS VOUS AVEZ BESOIN",MAIN_H4:"Chargez votre propre contenu",MAIN_TEXT1:"Chaque produit ici travaille en temps réel et avec un contenu réel",MAIN_TEXT2:"Produits et démos sont configurés avec les villes que vous nous avez fournies . Smartvel dispose actuellement de contenu sur plus d' une centaine de villes, vingt pays et trois continents",MAIN_TEXT3:"Trouver les avantages de chaque produit sur notre site web afin de mieux comprendre comment ils peuvent améliorer votre convertibilité et service à la clientèle",MAIN_TEXT4:"Nous vous invitons à charger votre propre contenu et de vérifier la façon dont vos clients verraient . Vous pouvez le faire sur le menu principal, sous l'option Paramètres",MAIN_WELCOME:"Bienvenue sur le site de démonstration de Smartvel Produits",NAV_CUST_EVENTS:"Mes événements",NAV_CUST_PLACES:"Mes endroits",NAV_LOGOUT:"Déconnexion",NAV_MAIN:"Tableau de bord",NAV_OPTIONS:"Options",NAV_SETTINGS:"Paramètres",NAV_TRAVELPLAN:"Mon plan de voyage",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"Restaurer mot de passe",RESTORE:"Restaurer",TRAVELPLAN_TEXT:"Mon plan de voyage"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("it",{COOKIES_TEXT:"Smartvel utilizza cookie. Utilizziamo i cookie per personalizzare l' esperienza degli utenti e studiare come viene usato il nostro sito. Continuando ad usare il nostro sito, l' utente accetta il loro uso.",CUST_ACTIONS:"azioni",CUST_ADD_TO_TRAVELPLAN:"Aggiungere al mio piano di viaggio",CUST_ALL_CATEGORIES:"Tutte le categorie",CUST_BOOK_HOTEL:"Prenotare un albergo",CUST_CLOSE:"vicino",CUST_CONTINUE:"Continua",CUST_DELETE:"cancellare",CUST_DESCRIPTION:"descrizione",CUST_EDIT:"Modifica",CUST_EVENTS:"EVENTI",CUST_EVENTS_ADD:"Aggiungi evento",CUST_EVENTS_EDIT:"Modifica evento",CUST_EVENTS_ENDS:"Ends",CUST_EVENTS_PLACE:"luogo",CUST_EVENTS_STARTS:"Inizia",CUST_EVENTS_TAXONOMY:"Tassonomia",CUST_LINK:"collegamento",CUST_MANUAL:"Scegli la data",CUST_NAME:"nome",CUST_NEXT_MONTH:"Prossimi 30 giorni",CUST_NEXT_WEEK:"Prossimi 7 giorni",CUST_PLACES_ADD:"Aggiungi luogo",CUST_PLACES_ADDRESS:"indirizzo",CUST_PLACES_ADDRESS_LONG:"luogo indirizzo",CUST_PLACES_EDIT:"Modifica Luogo",CUST_PLACES_HEAD:"Luoghi",CUST_PLACES_LAT:"latitudine",CUST_PLACES_LNG:"longitudine",CUST_PLACES_REGION:"regione",CUST_PURCHASE_TICKETS:"Acquistare biglietti",CUST_READ_MORE:"Leggi",CUST_REMOVE_FROM_TRAVELPLAN:"Togliere dal mio piano di viaggio",CUST_SAVE:"Salva",CUST_SAVE_CHANGES:"Salva modifiche",CUST_SHOW_MORE:"Mostra di più",CUST_SHOW_LESS:"Mostra meno",CUST_TODAY:"Oggi",CUST_TOMORROW:"Domani",CUST_WEBSITE:"sito web",EVENT_FROM:"Dal",EVENT_TO:"al",EVENT_AT:"alle",FILTERS_CATEGORIES:"Categorie:",FILTERS_FROM:"Da:",FILTERS_REGIONS:"regioni:",FILTERS_RELOAD:"ricaricare",FILTERS_TEXT:"Testo",FILTERS_TEXT_PLACEHOLDER:"Sentiti libero, vale a dire: il jazz ...",FILTERS_TO:"a:",FILTERS_WHEN:"Quando:",INSPIRE_TEXT:"Goditi un'esperienza unica , ovunque tu vada con Smartvel .",MAIN_CONTACT:"Per qualsiasi esigenza doveste avere, non esitate a contattarci su sales@smartvel.com o su +34 917 55 85 40",MAIN_H1:"ACCESSO TUTTI I NOSTRI PRODOTTI",MAIN_H2:"SIMULAZIONI IN REAL TIME DELLE DESTINAZIONI",MAIN_H3:"TUTTE LE INFORMAZIONI DI CUI HAI BISOGNO",MAIN_H4:"CARICARE I PROPRI CONTENUTI",MAIN_TEXT1:"Ogni prodotto qui disponibile funziona in tempo reale e con contenuti reali",MAIN_TEXT2:"I prodotti e le demo sono configurati con le città che hai scelto. Smartvel ha attualmente contenuti di più di un centinaio di città , una ventina di paesi e tre continenti",MAIN_TEXT3:"Trovate i vantaggi di ogni prodotto sul nostro sito web per capire meglio come possono migliorare il servizio al cliente ed il convertion rate",MAIN_TEXT4:"Vi invitiamo a caricare i vostri contenuti e controllare come li vedrebbero i vostri clienti. È possibile farlo nel menu principale , sotto l'opzione Impostazioni",MAIN_WELCOME:"Benvenuti nel sito di Demo Smartvel Prodotti",NAV_CUST_EVENTS:"I miei Eventi",NAV_CUST_PLACES:"I miei posti",NAV_LOGOUT:"Logout",NAV_MAIN:"Pagina Principale",NAV_OPTIONS:"Opzioni",NAV_SETTINGS:"Impostazioni",NAV_TRAVELPLAN:"Il mio piano di viaggio",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"Recupera password",RESTORE:"Recupera",TRAVELPLAN_TEXT:"Il mio piano di viaggio"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("ja",{COOKIES_TEXT:"Smartvelはクッキーを使用しています。私たちはあなたのユーザー体験をパーソナライズすると、 当社のウェブサイトが使用されているかを研究するためにクッキーを使用しています。 あなたがこのウェブサイトを継続して使用する場合、あなたは私たちのクッキーに同意するものとします。",CUST_ACTIONS:"アクション",CUST_ADD_TO_TRAVELPLAN:"自身の旅行プランに追加します",CUST_ALL_CATEGORIES:"全てのカテゴリー",CUST_BOOK_HOTEL:"ホテル予約",CUST_CLOSE:"閉じる",CUST_CONTINUE:"続ける",CUST_DELETE:"削除",CUST_DESCRIPTION:"説明",CUST_EDIT:"編集",CUST_EVENTS:"イベント",CUST_EVENTS_ADD:"イベントを追加",CUST_EVENTS_EDIT:"イベントを編集",CUST_EVENTS_ENDS:"魔で",CUST_EVENTS_PLACE:"場所",CUST_EVENTS_STARTS:"から",CUST_EVENTS_TAXONOMY:"分類",CUST_LINK:"リン",CUST_MANUAL:"日付を選択してください",CUST_NAME:"名前",CUST_NEXT_MONTH:"次の30日",CUST_NEXT_WEEK:"次の7日",CUST_PLACES_ADD:"場所を追加",CUST_PLACES_ADDRESS:"住所",CUST_PLACES_ADDRESS_LONG:"置き住所",CUST_PLACES_EDIT:"アドレスの編集",CUST_PLACES_HEAD:"私の場所",CUST_PLACES_LAT:"緯度",CUST_PLACES_LNG:"経度",CUST_PLACES_REGION:"地域",CUST_PURCHASE_TICKETS:"購入チケット",CUST_READ_MORE:"続きを読む",CUST_REMOVE_FROM_TRAVELPLAN:"自身の旅行プランから削除します",CUST_SAVE:"保存",CUST_SAVE_CHANGES:"変更を保存します",CUST_SHOW_MORE:"もっと見せます",CUST_SHOW_LESS:"表示少ないです",CUST_TODAY:"今日",CUST_TOMORROW:"明日",CUST_WEBSITE:"ウェブサイト",EVENT_FROM:"From",EVENT_TO:"to",EVENT_AT:"at",FILTERS_CATEGORIES:"種類:",FILTERS_FROM:"から:",FILTERS_REGIONS:"地域:",FILTERS_RELOAD:"補充する",FILTERS_TEXT:"本文:",FILTERS_TEXT_PLACEHOLDER:"自由、すなわち感じ：ジャズ...",FILTERS_TO:"魔で:",FILTERS_WHEN:"いつ:",INSPIRE_TEXT:"あなたがSmartvelでどこへ行ってユニークな体験をお楽しみください。",MAIN_CONTACT:"あなたが持つかもしれない要件については、sales@smartvel.com上または+34917558540 にお問い合わせください。",MAIN_H1:"すべての製品をテストします",MAIN_H2:"あなたの目的地でのリアルなシミュレーション",MAIN_H3:"あなたが必要とするすべての情報",MAIN_H4:"独自のコンテンツをロード",MAIN_TEXT1:"ここで利用可能なすべての製品は、実際のコンテンツにリアルタイムと働いている",MAIN_TEXT2:"製品とデモはあなたが私たちを提供する都市で構成されている。Smartvelは現在、 百以上の都市で、20カ国、3大陸のコンテンツを持ってい",MAIN_TEXT3:"より良い彼らはあなたの兌換性と顧客サービスを向上させることができます方法を理解する ために、当社のウェブ上のすべての製品の長所を探す",MAIN_TEXT4:"私たちは、あなたがあなた自身のコンテンツをロードし、クライアントがそれを見るだろうか 確認することを勧めます。あなたは、設定オプションの下、メインメニューでこれを行うことができます",MAIN_WELCOME:"Smartvel製品のデモサイトへようこそ",NAV_CUST_EVENTS:"自分のイベント",NAV_CUST_PLACES:"自分の場所",NAV_LOGOUT:"ログアウト",NAV_MAIN:"計器盤",NAV_OPTIONS:"オプション",NAV_SETTINGS:"設定",NAV_TRAVELPLAN:"自身の旅行プラン",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"パスワードの復元",RESTORE:"復元",TRAVELPLAN_TEXT:"自身の旅行プラン"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("ru",{COOKIES_TEXT:"Smartvel используем куки. Мы используем куки, чтобы персонализировать свой пользовательский опыт и изучить, как используется наш сайт. Вы соглашаетесь с нашими печенье, если вы будете продолжать использовать этот сайт.",CUST_ACTIONS:"действия",CUST_ADD_TO_TRAVELPLAN:"Добавить в мой план путешествия",CUST_ALL_CATEGORIES:"Все категории",CUST_BOOK_HOTEL:"отель книга",CUST_CLOSE:"близко",CUST_CONTINUE:"продолжать",CUST_DELETE:"удалять",CUST_DESCRIPTION:"описание",CUST_EDIT:"редактировать",CUST_EVENTS:"СОБЫТИЯ",CUST_EVENTS_ADD:"Добавить событие",CUST_EVENTS_EDIT:"Редактировать событие",CUST_EVENTS_ENDS:"концы",CUST_EVENTS_PLACE:"место",CUST_EVENTS_STARTS:"Начинает",CUST_EVENTS_TAXONOMY:"систематика",CUST_LINK:"ссылка",CUST_MANUAL:"Выберите дату",CUST_NAME:"имя",CUST_NEXT_MONTH:"Следующие 30 дней",CUST_NEXT_WEEK:"Следующие 7 дней",CUST_PLACES_ADD:"Добавить место",CUST_PLACES_ADDRESS:"адрес",CUST_PLACES_ADDRESS_LONG:"Место адрес",CUST_PLACES_EDIT:"Редактировать Место",CUST_PLACES_HEAD:"Мои места",CUST_PLACES_LAT:"широта",CUST_PLACES_LNG:"долгота",CUST_PLACES_REGION:"область",CUST_PURCHASE_TICKETS:"Покупка билетов",CUST_READ_MORE:"читать далее",CUST_REMOVE_FROM_TRAVELPLAN:"Удалить из мой план путешествия",CUST_SAVE:"Сохранить",CUST_SAVE_CHANGES:"Сохранить изменения",CUST_SHOW_MORE:"Показать больше",CUST_SHOW_LESS:"Показать меньше",CUST_TODAY:"сегодня",CUST_TOMORROW:"завтра",CUST_WEBSITE:"сайт",EVENT_FROM:"С",EVENT_TO:"по",EVENT_AT:"в",FILTERS_CATEGORIES:"Категории:",FILTERS_FROM:"от:",FILTERS_REGIONS:"районы:",FILTERS_RELOAD:"перезагружать",FILTERS_TEXT:"текст:",FILTERS_TEXT_PLACEHOLDER:"Не стесняйтесь, а именно: джаз ...",FILTERS_TO:"для:",FILTERS_WHEN:"когда:",INSPIRE_TEXT:"Насладитесь уникальным опытом, где бы вы пойти с Smartvel.",MAIN_CONTACT:"Для любого требования вы можете иметь, пожалуйста, свяжитесь с нами по sales@smartvel.com или на 34 917 55 85 40",MAIN_H1:"Доступ все наши продукты",MAIN_H2:"Реальные моделирования на ваших мест",MAIN_H3:"Все инф вам нужно",MAIN_H4:"Загрузите у вас есть содержание",MAIN_TEXT1:"Каждый продукт можно ознакомиться здесь работает в режиме реального времени и с реальным содержанием",MAIN_TEXT2:"Продукты и демонстрации настроены с городами вы предоставили нам. Smartvel в настоящее время имеет содержание на более чем ста городах, в двадцати странах, и на трех континентах",MAIN_TEXT3:"Найти преимущества каждого продукта на нашем сайте, чтобы лучше понять, как они могут улучшить свою конвертируемости и обслуживания клиентов",MAIN_TEXT4:"Мы приглашаем Вас, чтобы загрузить свое собственное содержание и проверить, как ваши клиенты будут видеть это. Вы можете сделать это в главном меню, в опции настроек",MAIN_WELCOME:"Добро пожаловать в Демо Сайт Smartvel Продукция",NAV_CUST_EVENTS:"Мои события",NAV_CUST_PLACES:"Мои места",NAV_LOGOUT:"Выход",NAV_MAIN:"приборная панель",NAV_OPTIONS:"опции",NAV_SETTINGS:"настройки",NAV_TRAVELPLAN:"Мой план путешествия",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"восстановить пароль",RESTORE:"восстановление",TRAVELPLAN_TEXT:"Мой план путешествия"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("zh",{COOKIES_TEXT:"Smartvel使用cookies。我们使用cookies来个性化您的用户体验， 并研究如何我们网站的使用情况。您同意我们的cookies，如果你继续使用这个网站。",CUST_ACTIONS:"行动",CUST_ADD_TO_TRAVELPLAN:"添加到我的旅游计划",CUST_ALL_CATEGORIES:"所有分类",CUST_BOOK_HOTEL:"预订酒店",CUST_CLOSE:"近",CUST_CONTINUE:"继续",CUST_DELETE:"删除",CUST_DESCRIPTION:"描述",CUST_EDIT:"编辑",CUST_EVENTS:"活动",CUST_EVENTS_ADD:"添加事件",CUST_EVENTS_EDIT:"编辑事件",CUST_EVENTS_ENDS:"完",CUST_EVENTS_PLACE:"地方",CUST_EVENTS_STARTS:"开始",CUST_EVENTS_TAXONOMY:"分类",CUST_LINK:"链接",CUST_MANUAL:"选择日期",CUST_NAME:"名字",CUST_NEXT_MONTH:"未来30天",CUST_NEXT_WEEK:"未来7天",CUST_PLACES_ADD:"添加地区",CUST_PLACES_ADDRESS:"地址",CUST_PLACES_ADDRESS_LONG:"地点地址",CUST_PLACES_EDIT:"编辑的地方",CUST_PLACES_HEAD:"我的位置",CUST_PLACES_LAT:"纬度",CUST_PLACES_LNG:"经度",CUST_PLACES_REGION:"区域",CUST_PURCHASE_TICKETS:"购买门票",CUST_READ_MORE:"阅读更多",CUST_REMOVE_FROM_TRAVELPLAN:"从我的旅行计划中删除",CUST_SAVE:"保存",CUST_SAVE_CHANGES:"保存更改",CUST_SHOW_MORE:"显示更多",CUST_SHOW_LESS:"显示较少",CUST_TODAY:"今天",CUST_TOMORROW:"明天",CUST_WEBSITE:"网站",EVENT_FROM:"From",EVENT_TO:"to",EVENT_AT:"at",FILTERS_CATEGORIES:"分类:",FILTERS_FROM:"从:",FILTERS_REGIONS:"地区:",FILTERS_RELOAD:"刷新",FILTERS_TEXT:"文本:",FILTERS_TEXT_PLACEHOLDER:"随意，即：爵士...",FILTERS_TO:"到:",FILTERS_WHEN:"什么时候:",INSPIRE_TEXT:"您可以随时随地与Smartvel的独特体验。",MAIN_CONTACT:"对于任何要求，你可能有，请联系我们sales@smartvel.com或+34917558540",MAIN_H1:"试试我们所有的产品",MAIN_H2:"在你的目的地真正模拟",MAIN_H3:"所有你需要的信息",MAIN_H4:"加载自己的内容",MAIN_TEXT1:"可在这里的每一件产品正在实时和实时内容",MAIN_TEXT2:"产品展示和演示都配置了，你提供给我们的城市。Smartvel目前有超过一百个城市， 20个国家和3大洲的内容",MAIN_TEXT3:"找到我们的网站的每一个产品的优势，更好地了解他们如何能提高你的兑换和客户服务",MAIN_TEXT4:"我们邀请您来加载自己的内容，并检查您的客户会怎么看它。你可以这样做在主菜单上， 在设置选项",MAIN_WELCOME:"欢迎来到Smartvel产品的演示站点",NAV_CUST_EVENTS:"我的事件",NAV_CUST_PLACES:"我的地方",NAV_LOGOUT:"注销",NAV_MAIN:"仪表盘",NAV_OPTIONS:"选项",NAV_SETTINGS:"设置",NAV_TRAVELPLAN:"我的旅游计划",NAV_CUST_COMPONENTS:"My components",NAV_COMPONENTS:"Web components",NAV_API:"Events API",RESTORE_PASSWD:"恢复密码",RESTORE:"恢复",TRAVELPLAN_TEXT:"我的旅游计划"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("ca",{COOKIES_TEXT:"Smartvel fa servir galetes. Utilizem cookies per personalitzar la vostra expèriencia d'usuari i estudiar com es fa servir la nostra web. En utilitzar els nostres serveis, acceptes l'ús que fem dels cookies.",CUST_ACTIONS:"Accions",CUST_ADD_TO_TRAVELPLAN:"Afegir al meu pla de viatges",CUST_ALL_CATEGORIES:"Totes les categories",CUST_BOOK_HOTEL:"Reservar hotel",CUST_CLOSE:"Tancar",CUST_CONTINUE:"Continuar",CUST_DELETE:"Esborrar",CUST_DESCRIPTION:"Descripció",CUST_EDIT:"Edita",CUST_EVENTS:"ESDEVENIMENTS",CUST_EVENTS_ADD:"Afegeix Esdeveniment",CUST_EVENTS_EDIT:"Edita Esdeveniment",CUST_EVENTS_ENDS:"Acaba",CUST_EVENTS_PLACE:"Lloc",CUST_EVENTS_STARTS:"Comença",CUST_EVENTS_TAXONOMY:"Taxonomia",CUST_LINK:"Enllaç",CUST_MANUAL:"Escull data",CUST_NAME:"Nom",CUST_NEXT_MONTH:"Propers 30 dies",CUST_NEXT_WEEK:"Propers 7 dies",CUST_PLACES_ADD:"Afegeix Lloc",CUST_PLACES_ADDRESS:"Direcció",CUST_PLACES_ADDRESS_LONG:"Direcció del Lloc",CUST_PLACES_EDIT:"Edita Lloc",CUST_PLACES_HEAD:"Els meus Llocs",CUST_PLACES_LAT:"Latitud",CUST_PLACES_LNG:"Longitud",CUST_PLACES_REGION:"Regió",CUST_PURCHASE_TICKETS:"Comprar entrades",CUST_READ_MORE:"Llegir més",CUST_REMOVE_FROM_TRAVELPLAN:"Treure del meu pla de viatges",CUST_SAVE:"Guardar",CUST_SAVE_CHANGES:"Desa els canvis",CUST_SHOW_MORE:"Mostra més",CUST_SHOW_LESS:"Mostrar menys",CUST_TODAY:"Avui",CUST_TOMORROW:"Demà",CUST_WEBSITE:"Pàgina web",EVENT_FROM:"Des",EVENT_TO:"Fins a",EVENT_AT:"A les",FILTERS_CATEGORIES:"Categories:",FILTERS_FROM:"Des de:",FILTERS_REGIONS:"Regions:",FILTERS_RELOAD:"Recarregar",FILTERS_TEXT:"Text:",FILTERS_TEXT_PLACEHOLDER:"Supercercador, ex. Jazz",FILTERS_TO:"Fins:",FILTERS_WHEN:"Quan:",INSPIRE_TEXT:"Gaudeix amb Smartvel d'una experiència única allà on vagis.",MAIN_CONTACT:"Qualsevol dubte o requisit que tinguis, per favor contacta amb nosaltres a sales@smartvel.com o en +34 917 55 85 40 o explica'ns-a la icona de suport",MAIN_H1:"ACCEDEIX A TOTS ELS NOSTRES PRODUCTES",MAIN_H2:"SIMULACIONS REALS EN ELS TEUS DESTINACIONS",MAIN_H3:"TOTA LA INFORMACIÓ QUE NECESSITES",MAIN_H4:"CÀRREGA TEU PROPI CONTINGUT",MAIN_TEXT1:"Tot el contingut i productes que són aquí disponibles estan funcionant en temps real, amb contingut real i viu.",MAIN_TEXT2:"Els productes i donem estan ajustats a les ciutats que ens has sol·licitat, Smartvel té en l'actualitat contingut en més de cent ciutats, vint països i continents.",MAIN_TEXT3:"Troba les avantatges de cada producte a la nostra web per a comprendre millor com poden millorar la teva convertibilitat i servei al client.",MAIN_TEXT4:"Et convidem a carregar contingut propi i comprovar com quedaria per als teus clients a través del menú principal de l'aplicació a Els meus esdeveniments o Els meus llocs",MAIN_WELCOME:"Benvinguts a la web de Demo dels productes de Smartvel.",NAV_CUST_EVENTS:"Els meus Esdeveniments",NAV_CUST_PLACES:"Els meus Llocs",NAV_LOGOUT:"Sortir",NAV_MAIN:"Pàgina Principal",NAV_OPTIONS:"Opcions",NAV_SETTINGS:"Configuració",NAV_TRAVELPLAN:"El meu pla de viatges",NAV_CUST_COMPONENTS:"meus components",NAV_COMPONENTS:"components web",NAV_API:"API d'esdeveniments",RESTORE_PASSWD:"restaurar contrasenya",RESTORE:"restaurar",TRAVELPLAN_TEXT:"el meu pla de viatges"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("eu",{COOKIES_TEXT:"Smartvel-ek cookieak darabiltza. Cookieak darabiltzagu bere erabiltzaile-esperientzia neurrira egiteko eta nola erabiltzen den gure weba ikasteko. Gure zerbitzuak|komunak erabiltzerakoan, cookieen egiten dugun erabilera onartzen duzu.",CUST_ACTIONS:"Ekintzak",CUST_ADD_TO_TRAVELPLAN:"Gehitzea nire plana bidaietako",CUST_ALL_CATEGORIES:"Kategoria guztiak",CUST_BOOK_HOTEL:"Erreserba hotel",CUST_CLOSE:"Itxi",CUST_CONTINUE:"Jarraitu",CUST_DELETE:"Ezabatu",CUST_DESCRIPTION:"Deskribapen",CUST_EDIT:"Aldatu",CUST_EVENTS:"Ekitaldiak",CUST_EVENTS_ADD:"Ekitaldia gehitu",CUST_EVENTS_EDIT:"ekitaldia aldatzea",CUST_EVENTS_ENDS:"Amaiera data",CUST_EVENTS_PLACE:"Lekua",CUST_EVENTS_STARTS:"Hasiera data",CUST_EVENTS_TAXONOMY:"Kategoriak",CUST_LINK:"Webgunea",CUST_MANUAL:"Hautatu data",CUST_NAME:"Izena",CUST_NEXT_MONTH:"Hurrengo 30 Days",CUST_NEXT_WEEK:"Hurrengo 7 egunetako",CUST_PLACES_ADD:"Gehitu Helbidea",CUST_PLACES_ADDRESS:"Helbidea",CUST_PLACES_ADDRESS_LONG:"Kokapena helbidea",CUST_PLACES_EDIT:"Edit Helbidea",CUST_PLACES_HEAD:"Nire tokietan",CUST_PLACES_LAT:"Latitude",CUST_PLACES_LNG:"Luzera",CUST_PLACES_REGION:"Eskualdean",CUST_PURCHASE_TICKETS:"Erosi sarrerak",CUST_READ_MORE:"Gehiago irakurri",CUST_REMOVE_FROM_TRAVELPLAN:"Kendu nire bidaia plana",CUST_SAVE:"Save",CUST_SAVE_CHANGES:"Aldaketak gorde",CUST_SHOW_MORE:"gehiago erakustea",CUST_SHOW_LESS:"Erakutsi gutxiago",CUST_TODAY:"Gaur egun",CUST_TOMORROW:"Morning",CUST_WEBSITE:"Web orria",EVENT_FROM:"Geroztik",EVENT_TO:"Arte",EVENT_AT:"etan",FILTERS_CATEGORIES:"Kategoriak",FILTERS_FROM:"Geroztik:",FILTERS_REGIONS:"Eskualde",FILTERS_RELOAD:"Eguneratu",FILTERS_TEXT:"Testua",FILTERS_TEXT_PLACEHOLDER:"Supersearch, adibidez. Jazz",FILTERS_TO:"eta guzti",FILTERS_WHEN:"Noiz",INSPIRE_TEXT:"Smartvel Gozatu esperientzia paregabea edonora joan zaitezke.",MAIN_CONTACT:"Edozein galdera edo baldintza, jarri harremanetan gurekin at sales@smartvel.com edo +34 917 55 85 40 edo kontatu dut gurekin media ikonoa ere",MAIN_H1:"Gure produktu guztiak sarbidea",MAIN_H2:"Simulazioak zure helmuga bizi dira",MAIN_H3:"Liburuaren guztiak behar duzu",MAIN_H4:"Kargatu zure OWN CONTENT",MAIN_TEXT1:"Eskuragarri daude hemen edukia eta produktu guztiak ari dira lanean denbora errealean, edukirik eta bizirik.",MAIN_TEXT2:"Produktu eta demoak dira izan diren galdetzen zigun hiri gisa ezarrita, Smartvel Une edukiaren ehun baino gehiago hiri, hogeita hiru herrialdetan ditu kontinentetan. ",MAIN_TEXT3:"Aurkitu produktu bakoitzaren abantailak gure webgunean hobeto ulertzen Zure bihurgarriak eta bezeroarentzako zerbitzua hobetzeko duzun bezala. ",MAIN_TEXT4:"Zuk egin edukia igo gonbidatzen lo ikusteko nola dugu zure Nire Events' edo aplikazioaren menu nagusiaren bidez, bezeroei 'Nire Lekuak'.",MAIN_WELCOME:"Ongi Web Demo Smartvel produktuak.",NAV_CUST_EVENTS:"Nire Events",NAV_CUST_PLACES:"Nire tokietan",NAV_LOGOUT:"Utzi",NAV_MAIN:"Hasiera",NAV_OPTIONS:"Aukerak",NAV_SETTINGS:"Ezarpenak",NAV_TRAVELPLAN:"Nire bidaia plana",NAV_CUST_COMPONENTS:"Nire osagaiak",NAV_COMPONENTS:"Web osagaiak",NAV_API:"Gertaera API",RESTORE_PASSWD:"Berrezarri pasahitza",RESTORE:"Berreskuratu",TRAVELPLAN_TEXT:"Nire bidaia plana"})}])},function(e,t){"use strict";angular.module("smartvel-common").config(["$translateProvider",function(e){return e.translations("ga",{COOKIES_TEXT:"Smartvel usa cookies. Usamos cookies para persoalizar a súa experiencia de usuario e estudar como úsase a nosa web. Ó utilizar os nosos servicios, aceptas o uso de facemos das cookies.",CUST_ACTIONS:"Accións",CUST_ADD_TO_TRAVELPLAN:"Engadir ó meu plan de viaxe",CUST_ALL_CATEGORIES:"Todas as categorías",CUST_BOOK_HOTEL:"Reservar hotel",CUST_CLOSE:"Pechar",CUST_CONTINUE:"Continuar",CUST_DELETE:"Borrar",CUST_DESCRIPTION:"Descrición",CUST_EDIT:"Editar",CUST_EVENTS:"Eventos",CUST_EVENTS_ADD:"Engadir Evento",CUST_EVENTS_EDIT:"Editar Evento",CUST_EVENTS_ENDS:"Remata",CUST_EVENTS_PLACE:"Lugar",CUST_EVENTS_STARTS:"Comeza",CUST_EVENTS_TAXONOMY:"Taxonomía",CUST_LINK:"Ligazón",CUST_MANUAL:"Escolle data",CUST_NAME:"Nome",CUST_NEXT_MONTH:"Vindeiros 30 días",CUST_NEXT_WEEK:"Vindeiros 7 días",CUST_PLACES_ADD:"Engadir Lugar",
CUST_PLACES_ADDRESS:"Enderezo",CUST_PLACES_ADDRESS_LONG:"Enderezo do Lugar",CUST_PLACES_EDIT:"Editar lugar",CUST_PLACES_HEAD:"Os Meus Lugares",CUST_PLACES_LAT:"Latitude",CUST_PLACES_LNG:"Lonxitude",CUST_PLACES_REGION:"Rexión",CUST_PURCHASE_TICKETS:"Mercar boletos",CUST_READ_MORE:"Ler máis",CUST_REMOVE_FROM_TRAVELPLAN:"Quitar do meu plan de viaxe",CUST_SAVE:"Gardar",CUST_SAVE_CHANGES:"Gardar cambios",CUST_SHOW_MORE:"Amosar máis",CUST_SHOW_LESS:"Amosar menos",CUST_TODAY:"Hoxe",CUST_TOMORROW:"Mañá",CUST_WEBSITE:"Páxina web",EVENT_FROM:"Dende",EVENT_TO:"até",EVENT_AT:"ás",FILTERS_CATEGORIES:"Categorías",FILTERS_FROM:"Dende que: ",FILTERS_REGIONS:"Rexións",FILTERS_RELOAD:"Recargar",FILTERS_TEXT:"Texto",FILTERS_TEXT_PLACEHOLDER:"Superbuscador, ex. Jazz",FILTERS_TO:"Até",FILTERS_WHEN:"Cando",INSPIRE_TEXT:"Goza con Smartvel dunha experiencia única alá onde queira que vaias.",MAIN_CONTACT:"Calquera dúbida ou requisito que teñas, por favor contacte connosco en sales@smartvel.com ou no +34 917 55 85 40 ou cóntanoslo na icona de soporte",MAIN_H1:"ACCESO A TODOLOS NOSOS PRODUTOS",MAIN_H2:"SIMULACIÓNS REAIS NOS TEUS DESTINOS",MAIN_H3:"TODA A INFORMACIÓN QUE PRECISAS",MAIN_H4:"CARGA O TEU PROPIO CONTIDO",MAIN_TEXT1:"Todo o contido e os produtos que están aquí dispoñibles están traballand en tempo real, cun contido real e vivo.",MAIN_TEXT2:"Os produtos e demos están definidas para as cidades que nos solicitou, Smartvel ten na actualidade contido en máis de cen cidades, vinte países e tres continentes.",MAIN_TEXT3:"Atopar as vantaxes de cada produto no noso web para comprender mellor como poden mellorar a túa conbertibilidade e servizo ó cliente.",MAIN_TEXT4:"Invitámoste a subir contido propio e comprobar como sentaría para os teus clientes por medio do menú principal da aplicación en 'Os Meus Eventos' ou 'Meus Lugares'.",MAIN_WELCOME:"Benvido á web Demo dos produtos de Smartvel.",NAV_CUST_EVENTS:"Os Meus Eventos",NAV_CUST_PLACES:"Os Meus Lugares",NAV_LOGOUT:"Saír",NAV_MAIN:"Páxina principal",NAV_OPTIONS:"Opcións",NAV_SETTINGS:"Configuración",NAV_TRAVELPLAN:"O meu plan de viaxe",NAV_CUST_COMPONENTS:"Os meus compoñentes",NAV_COMPONENTS:"Componentes web",NAV_API:"API de eventos",RESTORE_PASSWD:"Restaurar contrasinal",RESTORE:"Restaurar",TRAVELPLAN_TEXT:"O meu plan de viaxe"})}])},function(e,t,n){n(62),n(63),n(68),n(72),n(78),n(83),n(89)},function(module,exports){"use strict";angular.module("smartvel-common").directive("smartimg",["images",function(images){return{restrict:"C",scope:{pictures:"@"},link:function(scope,element,attrs){var css_pictures,pictures,ref,ref1;return pictures=[null!=(ref=eval(null!=attrs?attrs.pictures:void 0))&&null!=(ref1=ref.reverse()[0])?ref1.link:void 0]||[],pictures.push(images.next_generic_image()),css_pictures=_.map(pictures,function(e){return"url("+e+")"}),element.css({"background-image":images.image_tint+", "+css_pictures.join(", ")})}}}])},function(e,t,n){"use strict";var r;r=n(39),n(64),n(65),angular.module("smartvel-common").directive("smtDate",function(){return{template:n(67),restrict:"E",scope:{filters:"=",period:"@"},link:function(e,t,n){return e.controlWidth=n.controlWidth},controller:["$scope","$filter",function(e,t){var n,a,i,o;return i=function(){var t,n,r,a,i,o;return"day"===e.period&&(e.viewType="CUST_TODAY",null!=(t=e.filters)&&(t.starts=e.today),null!=(n=e.filters)&&(n.ends=e.today)),"week"===e.period&&(e.viewType="CUST_NEXT_WEEK",null!=(r=e.filters)&&(r.starts=e.today),null!=(a=e.filters)&&(a.ends=e.next_week)),"month"===e.period?(e.viewType="CUST_NEXT_MONTH",null!=(i=e.filters)&&(i.starts=e.today),null!=(o=e.filters)?o.ends=e.next_month:void 0):void 0},o=!1,e.viewType="CUST_TODAY",angular.extend(e,{today:r().toDate(),tomorrow:r().add(1,"day").toDate(),next_week:r().add(1,"week").toDate(),next_month:r().add(1,"month").toDate(),showCalendar:!1,showView:function(){var n,r;return t("translate")(e.viewType)||a(null!=(n=e.filters)?n.starts:void 0)+" - "+a(null!=(r=e.filters)?r.ends:void 0)}}),i(),a=function(e){return t("date")(e,"dd/MM/yyyy")},e.changeDate=function(t,n,r){var a,i;null==r&&(r=null),o=!1,null!=(a=e.filters)&&(a.starts=t),null!=(i=e.filters)&&(i.ends=n),e.changeView(t,n,r)},e.toggleView=function(){return e.showCalendar=!e.showCalendar,o=!o},e.changeView=function(t,n,r){return null==r&&(r=null),o?e.viewType=null:r?e.viewType=r:void 0},n=function(e,t){var n,a,i,o,s,u;for(s=r(t).format("YYYY-MM-DD"),u=[],i=0,o=e.length;o>i;i++)n=e[i],a=r.utc(n.utcDateValue).format("YYYY-MM-DD"),s>a?u.push(n.selectable=!1):u.push(void 0);return u},e.beforeRenderStarts=function(t){return n(t,e.today)},e.beforeRenderEnds=function(t){var r;return n(t,null!=(r=e.filters)?r.starts:void 0)},e.$watch("starts",function(t,n){var r,a;return o&&null!=(r=e.filters)&&(r.ends=t),e.changeView(t,null!=(a=e.filters)?a.ends:void 0)}),e.$watch("ends",function(t,n){var r;return e.changeView(null!=(r=e.filters)?r.starts:void 0,t)})}]}})},function(e,t,n){var r,a,i;(function(o){/**
	 * @license angular-bootstrap-datetimepicker  version: 0.3.13
	 * Copyright 2013-2015 Knight Rider Consulting, Inc. http://www.knightrider.com
	 * License: MIT
	 */
!function(o){"use strict";a=[n(3),n(39)],r=o,i="function"==typeof r?r.apply(t,a):r,!(void 0!==i&&(e.exports=i))}(function(e,t){"use strict";e.module("ui.bootstrap.datetimepicker",[]).constant("dateTimePickerConfig",{dropdownSelector:null,minuteStep:5,minView:"minute",startView:"day"}).directive("datetimepicker",["$log","dateTimePickerConfig",function(n,r){function a(){var e=new Date,t=6e4*e.getTimezoneOffset();this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t};var n=["utcDateValue","localDateValue","display","active","selectable","past","future"];for(var r in arguments[0])n.indexOf(r)>=0&&(this[r]=arguments[0][r])}var i=function(t){var r=["startView","minView","minuteStep","dropdownSelector"];for(var a in t)if(r.indexOf(a)<0)throw"invalid option: "+a;var i=["minute","hour","day","month","year"];if(i.indexOf(t.startView)<0)throw"invalid startView value: "+t.startView;if(i.indexOf(t.minView)<0)throw"invalid minView value: "+t.minView;if(i.indexOf(t.minView)>i.indexOf(t.startView))throw"startView must be greater than minView";if(!e.isNumber(t.minuteStep))throw"minuteStep must be numeric";if(t.minuteStep<=0||t.minuteStep>=60)throw"minuteStep must be greater than zero and less than 60";if(null!==t.dropdownSelector&&!e.isString(t.dropdownSelector))throw"dropdownSelector must be a string";null===t.dropdownSelector||"undefined"!=typeof o&&"function"==typeof o().dropdown||(n.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete t.dropdownSelector)};return{restrict:"E",require:"ngModel",template:'<div class="datetimepicker table-responsive"><table class="table table-striped  {{ data.currentView }}-view">   <thead>       <tr>           <th class="left" data-ng-click="changeView(data.currentView, data.leftDate, $event)" data-ng-show="data.leftDate.selectable"><i class="glyphicon glyphicon-arrow-left"/></th>           <th class="switch" colspan="5" data-ng-show="data.previousViewDate.selectable" data-ng-click="changeView(data.previousView, data.previousViewDate, $event)">{{ data.previousViewDate.display }}</th>           <th class="right" data-ng-click="changeView(data.currentView, data.rightDate, $event)" data-ng-show="data.rightDate.selectable"><i class="glyphicon glyphicon-arrow-right"/></th>       </tr>       <tr>           <th class="dow" data-ng-repeat="day in data.dayNames" >{{ day }}</th>       </tr>   </thead>   <tbody>       <tr data-ng-if="data.currentView !== \'day\'" >           <td colspan="7" >              <span    class="{{ data.currentView }}"                        data-ng-repeat="dateObject in data.dates"                         data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}"                        data-ng-click="changeView(data.nextView, dateObject, $event)">{{ dateObject.display }}</span>            </td>       </tr>       <tr data-ng-if="data.currentView === \'day\'" data-ng-repeat="week in data.weeks">           <td data-ng-repeat="dateObject in week.dates"                data-ng-click="changeView(data.nextView, dateObject, $event)"               class="day"                data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}" >{{ dateObject.display }}</td>       </tr>   </tbody></table></div>',scope:{onSetTime:"&",beforeRender:"&"},replace:!0,link:function(n,s,u,l){var c={};u.datetimepickerConfig&&(c=n.$parent.$eval(u.datetimepickerConfig));var d={};e.extend(d,r,c),i(d);var f=function(e){var n=10*parseInt(t.utc(e).year()/10,10);return t.utc(e).year(n).startOf("year")},p={year:function(e){for(var n=t.utc(e).startOf("year"),r=10*parseInt(n.year()/10,10),i=t.utc(f(e)).subtract(1,"year").startOf("year"),o=l.$modelValue?t(l.$modelValue).year():0,s={currentView:"year",nextView:"year"===d.minView?"setTime":"month",previousViewDate:new a({utcDateValue:null,display:r+"-"+(r+9)}),leftDate:new a({utcDateValue:t.utc(i).subtract(9,"year").valueOf()}),rightDate:new a({utcDateValue:t.utc(i).add(11,"year").valueOf()}),dates:[]},u=0;12>u;u+=1){var c=t.utc(i).add(u,"years"),p={utcDateValue:c.valueOf(),display:c.format("YYYY"),past:c.year()<r,future:c.year()>r+9,active:c.year()===o};s.dates.push(new a(p))}return s},month:function(e){for(var n=t.utc(e).startOf("year"),r=f(e),i=l.$modelValue?t(l.$modelValue).format("YYYY-MMM"):0,o={previousView:"year",currentView:"month",nextView:"month"===d.minView?"setTime":"day",previousViewDate:new a({utcDateValue:r.valueOf(),display:n.format("YYYY")}),leftDate:new a({utcDateValue:t.utc(n).subtract(1,"year").valueOf()}),rightDate:new a({utcDateValue:t.utc(n).add(1,"year").valueOf()}),dates:[]},s=0;12>s;s+=1){var u=t.utc(n).add(s,"months"),c={utcDateValue:u.valueOf(),display:u.format("MMM"),active:u.format("YYYY-MMM")===i};o.dates.push(new a(c))}return o},day:function(e){for(var n=t.utc(e),r=t.utc(n).startOf("month"),i=t.utc(n).startOf("year"),o=t.utc(n).endOf("month"),s=t.utc(r).subtract(Math.abs(r.weekday()),"days"),u=l.$modelValue?t(l.$modelValue).format("YYYY-MMM-DD"):"",c={previousView:"month",currentView:"day",nextView:"day"===d.minView?"setTime":"hour",previousViewDate:new a({utcDateValue:i.valueOf(),display:r.format("YYYY-MMM")}),leftDate:new a({utcDateValue:t.utc(r).subtract(1,"months").valueOf()}),rightDate:new a({utcDateValue:t.utc(r).add(1,"months").valueOf()}),dayNames:[],weeks:[]},f=0;7>f;f+=1)c.dayNames.push(t.utc().weekday(f).format("dd"));for(var p=0;6>p;p+=1){for(var h={dates:[]},m=0;7>m;m+=1){var _=t.utc(s).add(7*p+m,"days"),v={utcDateValue:_.valueOf(),display:_.format("D"),active:_.format("YYYY-MMM-DD")===u,past:_.isBefore(r),future:_.isAfter(o)};h.dates.push(new a(v))}c.weeks.push(h)}return c},hour:function(e){for(var n=t.utc(e).startOf("day"),r=t.utc(n).startOf("month"),i=l.$modelValue?t(l.$modelValue).format("YYYY-MM-DD H"):"",o={previousView:"day",currentView:"hour",nextView:"hour"===d.minView?"setTime":"minute",previousViewDate:new a({utcDateValue:r.valueOf(),display:n.format("ll")}),leftDate:new a({utcDateValue:t.utc(n).subtract(1,"days").valueOf()}),rightDate:new a({utcDateValue:t.utc(n).add(1,"days").valueOf()}),dates:[]},s=0;24>s;s+=1){var u=t.utc(n).add(s,"hours"),c={utcDateValue:u.valueOf(),display:u.format("LT"),active:u.format("YYYY-MM-DD H")===i};o.dates.push(new a(c))}return o},minute:function(e){for(var n=t.utc(e).startOf("hour"),r=t.utc(n).startOf("day"),i=l.$modelValue?t(l.$modelValue).format("YYYY-MM-DD H:mm"):"",o={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new a({utcDateValue:r.valueOf(),display:n.format("lll")}),leftDate:new a({utcDateValue:t.utc(n).subtract(1,"hours").valueOf()}),rightDate:new a({utcDateValue:t.utc(n).add(1,"hours").valueOf()}),dates:[]},s=60/d.minuteStep,u=0;s>u;u+=1){var c=t.utc(n).add(u*d.minuteStep,"minute"),f={utcDateValue:c.valueOf(),display:c.format("LT"),active:c.format("YYYY-MM-DD H:mm")===i};o.dates.push(new a(f))}return o},setTime:function(e){var t=new Date(e),r=new Date(t.getTime()+6e4*t.getTimezoneOffset()),a=l.$modelValue;return l.$setViewValue(r),d.dropdownSelector&&o(d.dropdownSelector).dropdown("toggle"),n.onSetTime({newDate:r,oldDate:a}),p[d.startView](e)}},h=function(e){var n=e?t(e).toDate():new Date;return n.getTime()-6e4*n.getTimezoneOffset()};n.changeView=function(e,t,r){if(r&&(r.stopPropagation(),r.preventDefault()),e&&t.utcDateValue>-(1/0)&&t.selectable&&p[e]){var a=p[e](t.utcDateValue),i=[];if(a.weeks)for(var o=0;o<a.weeks.length;o+=1)for(var s=a.weeks[o],u=0;u<s.dates.length;u+=1){var l=s.dates[u];i.push(l)}n.beforeRender({$view:a.currentView,$dates:a.dates||i,$leftDate:a.leftDate,$upDate:a.previousViewDate,$rightDate:a.rightDate}),n.data=a}},l.$render=function(){n.changeView(d.startView,new a({utcDateValue:h(l.$viewValue)}))}}}}])})}).call(t,n(11))},function(e,t){},,function(e,t){e.exports="<div class=\"searchbox-field starts\" style=\"width: {{ control_width }}\"><div class=btn-group><button class=\"btn btn-default control\" id=dropdown-to data-placeholder=false data-toggle=dropdown data-label-placement=\"\">{{ showView() }} <span class=caret></span></button><ul class=dropdown-menu><li><input type=checkbox><label ng-click=\"changeDate(today, today, 'CUST_TODAY')\">{{'CUST_TODAY' | translate}}</label></li><li><input type=checkbox><label ng-click=\"changeDate(today, next_week, 'CUST_NEXT_WEEK')\">{{'CUST_NEXT_WEEK' | translate}}</label></li><li><input type=checkbox><label ng-click=\"changeDate(today, next_month, 'CUST_NEXT_MONTH')\">{{'CUST_NEXT_MONTH' | translate}}</label></li><li><input type=checkbox><label ng-click=\"toggleView();changeView(filters.starts, filters.ends);$event.stopPropagation()\">{{'CUST_MANUAL' | translate}}</label><ul class=calendar role=menu aria-labelledby=dLabel ng-show=showCalendar><span>{{'FILTERS_FROM' | translate}}</span><datetimepicker data-before-render=beforeRenderStarts($dates) data-ng-model=filters.starts data-datetimepicker-config=\"{\n                                                dropdownSelector: '#dropdown-from',\n                                                startView:'day',\n                                                minView:'day'\n                                                }\"></datetimepicker></ul><ul class=calendar role=menu aria-labelledby=dLabel ng-show=showCalendar><span>{{'FILTERS_TO' | translate}}</span><datetimepicker data-before-render=beforeRenderEnds($dates) data-ng-model=filters.ends data-datetimepicker-config=\"{\n                                                startView:'day',\n                                                minView:'day'\n                                                }\"></datetimepicker></ul></li></ul></div></div>"},function(e,t,n){"use strict";n(69),angular.module("smartvel-common").directive("smtDescription",["$timeout",function(e){return{template:n(71),transclude:!0,restrict:"E",link:function(t,n,r){return e(function(){return t.expanded=n[0].clientHeight<70,t.more=!t.expanded},200)},controller:["$scope",function(e){return e.toggleView=function(){return e.expanded=!e.expanded},e.showMore=function(){return e.more}}]}}])},function(e,t){},,function(e,t){e.exports="<div class=event-description ng-class=\"{'short': !expanded, 'long': expanded}\"><div class=content ng-transclude=\"\"></div></div><div class=more ng-show=showMore()><span ng-show=!expanded ng-click=toggleView()>{{'CUST_SHOW_MORE' | translate}}</span> <span ng-show=expanded ng-click=toggleView()>{{'CUST_SHOW_LESS' | translate}}</span></div>"},function(module,exports,__webpack_require__){"use strict";var moment;moment=__webpack_require__(39),__webpack_require__(74),angular.module("smartvel-common").directive("smtEvent",["$compile","images",function($compile,images){var getTemplate,templates;return templates={overlay:__webpack_require__(76),list:__webpack_require__(73),thumb:__webpack_require__(77),"default":__webpack_require__(73)},getTemplate=function(e){return templates[e]||templates["default"]},{restrict:"E",template:templates["default"],scope:{event:"=",day:"="},link:function(e,t,n){t[0].innerHTML=getTemplate(n.type),$compile(t.contents())(e)},controller:["$scope","$cookies","$attrs","params","images","travelPlan",function($scope,$cookies,$attrs,params,images,travelPlan){var myParams,parentParams,ref;return parentParams=params.getParams($attrs.params),myParams=params.parseParams($attrs),$scope._params=_.defaults(myParams,parentParams),$scope.bookParams=$scope.$eval(null!=(ref=$scope._params)?ref.bookParams:void 0),$scope.getPictures=function(){var ref1,ref2;return(null!=(ref1=eval(null!=(ref2=$scope.event)?ref2.pictures:void 0))?ref1.reverse():void 0)||[]},$scope.getRegionName=function(){var e,t,n,r,a;return(null!=(e=$scope.event)&&null!=(t=e.place)&&null!=(n=t.region)?n.name:void 0)||(null!=(r=$scope.event)&&null!=(a=r.region)?a.name:void 0)},$scope.one_day_event=function(){var e;return null!=(null!=(e=$scope.event)?e.starts:void 0)?moment($scope.event.starts).utc().dayOfYear()===moment($scope.event.ends).utc().dayOfYear():!1},$scope.canBookHotel=function(){return!(void 0===$scope.bookParams)},$scope.getBookingLink=function(){var e,t,n,r,a,i,o,s,u,l,c,d,f,p,h,m,_;return e=moment($scope.day?$scope.day:$scope.event.starts),e.startOf("day").isBefore(moment().startOf("day"))&&(e=moment().startOf("day")),r=null!=(a=$scope.bookParams)?a.url:void 0,(null!=(s=$scope.bookParams)?s.startDate:void 0)&&r&&(_=null!=(u=$scope.bookParams)&&null!=(l=u.startDate)?l.param:void 0,m=e.format(null!=(c=$scope.bookParams)&&null!=(d=c.startDate)?d.format:void 0),r=r+"&"+_+"="+m),(null!=(f=$scope.bookParams)?f.endDate:void 0)&&r&&(n=null!=(p=$scope.bookParams)&&null!=(h=p.endDate)?h.param:void 0,t=e.add(1,"day").format(null!=(i=$scope.bookParams)&&null!=(o=i.endDate)?o.format:void 0),r=r+"&"+n+"="+t),r||"#"},$scope.canGotTicket=function(){var e,t,n;return!(void 0===(null!=(e=$scope._params)?e.allowTickets:void 0))&&(null!=(t=$scope.event)&&null!=(n=t.purchase_link)?n.length:void 0)>0},$scope.getTicketLink=function(){var e;return null!=(e=$scope.event)?e.purchase_link:void 0},$scope.addToTravelPlan=function(){travelPlan.addEvent($scope.event)},$scope.isInTravelPlan=function(){return travelPlan.hasEvent($scope.event)},$scope.showTravelPlan=function(){var e;return!(void 0===(null!=(e=$scope._params)?e.allowTravelplan:void 0))},$scope.removeFromTravelPlan=function(){travelPlan.removeEvent($scope.event)},$scope.downloadEvent=function(){var e;return e=ics(),e.addEvent($scope.event.name,$scope.event.description,$scope.event.place.name,$scope.event.starts,$scope.event.ends),e.download()}}]}}])},function(e,t){e.exports='<div class=list><div class=picture><div class=smartimg data-pictures="{{ getPictures() }}"></div></div><div class="facets clearfix"><h3 class=category ng-repeat="tx in event.taxonomies">{{ tx.name | no_underscores | capitalize }}</h3><h2 class=title ng-drag=true ng-drag-data=event ng-drag-success="onDragComplete($data, $event)">{{ event.name }}</h2><h4 class=place><span class="icon icon-location">{{ getRegionName(event) }} |&nbsp; {{ event.place.name | capitalize_all }}</span></h4><h4 class=dates><span class="icon icon-calendar"><a ng-click=downloadEvent() href=""><span ng-hide=one_day_event()>{{\'EVENT_FROM\' | translate}} {{ event.starts | date: \'dd-MM-yy\' }} &nbsp;{{\'EVENT_TO\' | translate}}&nbsp; {{ event.ends | date: \'dd-MM-yy\' }}</span> <span ng-show=one_day_event()>{{ event.starts | date: \'dd-MM-yy\' }}</span></a></span></h4></div><smt-description><p>{{ event.description | safe | capitalize_paragraph }}</p></smt-description><div class=button-bar><div class=get-ticket ng-show=canGotTicket()><a href="{{ getTicketLink() }}" class="btn btn-primary" target=_blank>{{\'CUST_PURCHASE_TICKETS\' | translate}}</a></div><div class=book-hotel ng-show=canBookHotel()><a href="{{ getBookingLink() }}" class="btn btn-primary" target=_blank>{{\'CUST_BOOK_HOTEL\' | translate}}</a></div><div ng-show=showTravelPlan()><div class=book-hotel ng-hide=isInTravelPlan()><a ng-click=addToTravelPlan() class="btn btn-primary">{{\'CUST_ADD_TO_TRAVELPLAN\' | translate}}</a></div><div class=book-hotel ng-show=isInTravelPlan()><a ng-click=removeFromTravelPlan() class="btn btn-danger">{{\'CUST_REMOVE_FROM_TRAVELPLAN\' | translate}}</a></div></div></div></div>'},function(e,t){},,function(e,t){e.exports='<div class="overlay smartimg" data-pictures="{{ getPictures() }}"><div class=data><div class=taxonomies><h3 class=category ng-repeat="tx in event.taxonomies"><span ng-hide=$first>&nbsp;|&nbsp;</span> {{ tx.name | no_underscores | uppercase }}</h3></div><h2 class=title>{{ event.name }}</h2><h4 class=dates>{{ getRegionName() }} |&nbsp; {{ event.starts | date: \'dd-MM-yy\' }} <span ng-hide=one_day_event()>&nbsp;al&nbsp; {{ event.ends | date: \'dd-MM-yy\' }}</span></h4></div></div>'},function(e,t){e.exports='<div class=thumb><div class=picture><div class=smartimg data-pictures="{{ getPictures() }}"></div></div><div class=categories><ul><li class=category ng-repeat="tx in event.taxonomies">{{ tx.name | no_underscores | capitalize }}</li></ul></div><div class=facets><p class=title>{{ event.name }}</p><p class=place>{{ event.place.name | capitalize_all }}</p><p class=region>{{ getRegionName(event) }}</p></div></div>'},function(module,exports,__webpack_require__){"use strict";var moment;moment=__webpack_require__(39),__webpack_require__(79),angular.module("smartvel-common").directive("smtPlace",["$compile","images",function($compile,images){var getTemplate,templates;return templates={list:__webpack_require__(81),thumb:__webpack_require__(82),"default":__webpack_require__(81)},getTemplate=function(e){return templates[e]||templates["default"]},{restrict:"E",template:templates["default"],scope:{place:"="},link:function(e,t,n){t[0].innerHTML=getTemplate(n.type),$compile(t.contents())(e)},controller:["$scope","$cookies","$attrs","params","images","travelPlan",function($scope,$cookies,$attrs,params,images,travelPlan){var myParams,parentParams;return parentParams=params.getParams($attrs.params),myParams=params.parseParams($attrs),$scope._params=_.defaults(myParams,parentParams),$scope.getPictures=function(){var ref,ref1;return(null!=(ref=eval(null!=(ref1=$scope.place)?ref1.pictures:void 0))?ref.reverse():void 0)||[]},$scope.getRegionName=function(){var e,t;return null!=(e=$scope.place)&&null!=(t=e.region)?t.name:void 0},$scope.addToTravelPlan=function(){travelPlan.addPlace($scope.place)},$scope.isInTravelPlan=function(){return travelPlan.hasPlace($scope.place)},$scope.showTravelPlan=function(){var e;return!(void 0===(null!=(e=$scope._params)?e.allowTravelplan:void 0))},$scope.removeFromTravelPlan=function(){travelPlan.removePlace($scope.place)}}]}}])},function(e,t){},,function(e,t){e.exports='<div class=list><div class=picture><div class=smartimg data-pictures="{{ getPictures() }}"></div></div><div class="facets clearfix"><h3 class=place_category>Lugar</h3><h2 class=title>{{ place.name }}</h2></div><smt-description><p>{{ place.description | safe | capitalize_paragraph }}</p></smt-description><div class=button-bar><div ng-show=showTravelPlan()><div ng-hide=isInTravelPlan()><a ng-click=addToTravelPlan() class="btn btn-primary">{{\'CUST_ADD_TO_TRAVELPLAN\' | translate}}</a></div><div ng-show=isInTravelPlan()><a ng-click=removeFromTravelPlan() class="btn btn-danger">{{\'CUST_REMOVE_FROM_TRAVELPLAN\' | translate}}</a></div></div></div></div>'},function(e,t){e.exports='<div class=thumb><div class=picture><div class=smartimg data-pictures="{{ getPictures() }}"></div></div><div class=categories><ul><li class=category>Lugar</li></ul></div><div class=facets><p class=title>{{ place.name }}</p><p class=region>{{ getRegionName() }}</p></div></div>'},function(e,t,n){"use strict";n(22),n(84),n(86),angular.module("smartvel-common").directive("smtSearchbox",["locale",function(e){return{template:n(88),restrict:"E",scope:{filters:"=",customControls:"@",reload:"&"},link:function(e,t,n){return e.customControls=e.$eval(e.customControls),e.control_width=100/(_.size(e.customControls)+1)},controller:["$scope","$filter",function(t,n){return t.controlUtilityChecks={taxonomies:function(){var e;return!(null!=(e=t.filters)?e.taxonomies_forced:void 0)},regions:function(){var e,n,r;return!(null!=(e=t.filters)?e.regions_forced:void 0)&&(null!=(n=t.filters)&&null!=(r=n.regions)?r.length:void 0)>1}},t.isUseful=function(e){return!_.include(_.keys(t.controlUtilityChecks),e)||t.controlUtilityChecks[e]()},t.show=function(e){return _.include(t.customControls,e)&&t.isUseful(e)},t.getTaxonomyLabels=function(){var r;return _.map(_.filter(null!=(r=t.filters)?r.taxonomies:void 0,"selected"),function(t){var n;return null!=(n=t.translations)?n[e.currentLang().abbr].name:void 0}).join(", ")||n("translate")("CUST_ALL_CATEGORIES")},t.getTaxonomyTranslation=function(t){var n;return null!=(n=t.translations)?n[e.currentLang().abbr].name:void 0}}]}}])},function(e,t){},,function(e,t){},,function(e,t){e.exports='<div class=searchbox><form role=search><div class="searchbox-field taxonomies" style="width: {{ control_width }}%" ng-if="show(\'taxonomies\')"><div class=btn-group><button class="btn btn-default taxonomies-selected control" data-placeholder=false data-toggle=dropdown data-label-placement="">{{ getTaxonomyLabels() }} <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat="taxonomy in filters.taxonomies"><input type=checkbox id="{{ taxonomy.code }}" ng-model=taxonomy.selected><label for="{{ taxonomy.code }}" name="{{ taxonomy.name }}" value="{{ taxonomy.code }}">{{ getTaxonomyTranslation(taxonomy) }}</label></li></ul></div></div><div class="searchbox-field regions" style="width: {{ control_width }}%" ng-if="show(\'regions\')"><select class="form-control control" ng-model=filters.region ng-options="region as region.name for region in filters.regions"><option></select></div><div class="searchbox-field text" style="width: {{ control_width }}%" ng-if="show(\'text\')"><input class=control placeholder="{{\'FILTERS_TEXT_PLACEHOLDER\' | translate}}" ng-model=filters.text></div><smt-date filters=filters period=day control_width="{{ control_width }}%" ng-if="show(\'starts\')"></smt-date><div class="searchbox-field submit"><button type=submit class="btn btn-primary custom-pull-right" ng-click=reload()>{{\'FILTERS_RELOAD\' | translate}}</button></div></form></div>'},function(e,t,n){"use strict";var r;r=n(39),n(90),n(94),n(96),angular.module("smartvel-common").directive("smtTravelplan",["filters","Session","taxonomies","locale",function(e,t,a,i){return{template:n(98),restrict:"E",transclude:!0,scope:{filters:"=",taxonomies:"@",region:"@",searchBox:"@",key:"@",language:"@",allowTickets:"@",bookParams:"@",allowTravelplan:"@"},compile:function(e,n){return t.setApiKey(n.key),void 0!==n.language?i.setLang(n.language):void 0},controller:["$scope","$attrs","$q","leafletData","leafletBoundsHelpers","params","travelPlan","events","places",function(e,t,n,a,i,o,s,u,l){var c,d,f,p,h;return e._params=o.setParams("travelplan",t),e.starts=r().startOf("day").toDate(),e.ends=r().add(5,"days").toDate(),p=function(){return angular.extend(e,{layers:{baselayers:{positron:{name:"CartoDB Positron",url:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",type:"xyz",subdomains:"abcd",minZoom:0,maxZoom:18},osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"},googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}},overlays:{main:{name:"main",type:"markercluster",visible:!0,layerOptions:{chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}},places:{name:"places",type:"markercluster",visible:!0,layerOptions:{chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0,iconCreateFunction:function(e){var t,n;return n=e.getChildCount(),t=" marker-cluster-",t+=10>n?"small":100>n?"medium":"large",new L.DivIcon({html:"<div><span>"+n+"</span></div>",className:"places-cluster marker-cluster"+t,iconSize:new L.Point(40,40)})}}}}},bounds:{},center:{lat:parseFloat(e._params.latitude)||40.4444,lng:parseFloat(e._params.longitude)||-3.6707,zoom:parseInt(e._params.zoom)||6},defaults:{scrollWheelZoom:!1,zoomControl:!0,zoomControlPosition:"bottomleft"},markers:[],allowFitBounds:!0}),e.travelPlanEventsReload(),e.travelPlanPlacesReload(),a.getMap().then(function(t){return c(t),t.on("layeradd",function(e){return null!=e.layer.options.event||null!=e.layer.options.place?c(t):void 0}),t.on("layerremove",function(e){return null!=e.layer.options.event||null!=e.layer.options.place?c(t):void 0}),t.on("zoomstart",function(){return e.allowFitBounds=!1}),n.all({eventList:s.events(),placeList:s.places()}).then(function(t){return e.markers=_.union(_.map(t.eventList,u.toMarker),_.map(t.placeList,l.toMarker))})}),h(e.travelPlanEvents)},c=function(t){var n,r;return e.allowFitBounds&&(n=d(e.markers),n.length>0)?t.fitBounds(n,r=!0):void 0},d=function(e){return(null!=e?e.length:void 0)>0?_.map(e,function(e){return[e.lat,e.lng]}):[]},e.travelPlanEvents={},e.travelPlanEventsReload=function(){return s.events().then(function(t){return e.travelPlanEvents=t})},e.nonScheduledEvents=function(){return _.filter(e.travelPlanEvents,function(e){return!e.scheduledOn})},e.travelPlanPlaces={},e.travelPlanPlacesReload=function(){return s.places().then(function(t){return e.travelPlanPlaces=t})},e.nonScheduledPlaces=function(){return _.filter(e.travelPlanPlaces,function(e){return!e.scheduledOn})},e.hasTravelPlan=function(){return!s.empty()},e.bookHotel=function(){var t,n,a,i,o;return o=e.travelPlanEvents,o.length>0?(t=f(e.travelPlanEvents),a=r(t.starts).format("YYYY-MM-DD"),n=r(t.ends).format("YYYY-MM-DD"),i="Book Hotel from "+a+" to "+n,alert(i)):void 0},f=function(e){return{starts:_.first(_.map(e,"starts").sort()),ends:_.last(_.map(e,"ends").sort())}},h=function(t){var n;return n=f(t),n.starts&&(e.starts=r(r.max(n.starts,r(e.starts))).toDate()),n.ends?e.ends=r(r.max(n.ends,r(e.ends))).toDate():void 0},e.isDraggable=function(){return"Schedule"===e.tab},e.tab="Map",e.checkTab=function(t){return e.tab===t},e.changeTab=function(t){return e.tab=t},p()}]}}])},function(e,t,n){"use strict";var r;r=n(39),n(91),angular.module("smartvel-common").directive("smtAgenda",["locale",function(e){return{template:n(93),restrict:"E",controller:["$scope","$filter",function(e,t){var n;return e.draggingEvent=void 0,e.days=[],e.dayAllowed=function(t){return e._dayAllowed(t,e.draggingEvent)},e._dayAllowed=function(e,t){return void 0===t||void 0===t.starts?!0:void 0===t.ends?e.date.isAfter(t.starts,"day")||e.date.isSame(t.starts,"day"):e.date.isSame(t.starts,"day")||e.date.isBetween(t.starts,t.ends,"day")||e.date.isSame(t.ends)},e.onDropComplete=function(t,n){return e.draggingEvent=void 0,t.event&&e._dayAllowed(t.day,t.event)?t.event.scheduledOn=t.day.date:void 0},e.onEventDragStarts=function(t){return e.draggingEvent=t},e.scheduledEvents=function(t){return _.filter(e.travelPlanEvents,function(e){return e.scheduledOn&&t.date.isSame(e.scheduledOn,"day")})},e.scheduledPlaces=function(t){return _.filter(e.travelPlanPlaces,function(e){return e.scheduledOn&&t.date.isSame(e.scheduledOn,"day")})},e.removeFromAgenda=function(e){return delete e.scheduledOn},(n=function(){var t,n;if(e.starts){for(t=r(e.starts),n=[];;){if(e.days.push({date:t.clone()}),t.add(1,"days"),t.isAfter(e.ends))break;n.push(void 0)}return n}})()}]}}])},function(e,t){},,function(e,t){e.exports='<div class=smtagenda><div class=day-slider><div class=agenda-day ng-class="{\'disabled\': !dayAllowed(day)}" ng-repeat="day in days" ng-drop={{dayAllowed(day)}} ng-drag-start=onEventDragStarts($data) ng-drop-success="onDropComplete({day: day, event: $data}, $event)"><h2 class=date>{{day.date.format(\'ddd D/MMM\')}}</h2><hr class=separator><div class=scheduled-events><div ng-repeat="event in scheduledEvents(day)"><div><h4 class=close-icon ng-click=removeFromAgenda(event)>x</h4><div style=clear:both></div></div><smt-event ng-drag=true ng-drag-data=event type=thumb event=event></smt-event></div><div ng-repeat="place in scheduledPlaces(day)"><div><h4 class=close-icon ng-click=removeFromAgenda(place)>x</h4><div style=clear:both></div></div><smt-place ng-drag=true ng-drag-data=place type=thumb place=place></smt-place></div></div></div></div></div>'},function(e,t){},,function(e,t){},,function(e,t){e.exports='<div class=travelplan><div class=header><h1>Plan de viaje</h1></div><hr class=separator><div class=view-selector><ul class="nav nav-tabs tabs"><li class="active custom-tab"><a data-toggle=tab ng-click="changeTab(\'Map\')">Mapa</a></li><li class=custom-tab><a data-toggle=tab ng-click="changeTab(\'Schedule\')">Agenda</a></li></ul></div><div class=views><div class="map main-panel tab-pane" ng-show="checkTab(\'Map\')"><leaflet defaults=defaults layers=layers markers=markers center=center bounds=bounds height=300px width=100% class=map zoom=zoom></leaflet></div><div class="schedule main-panel tab-pane" ng-show="checkTab(\'Schedule\')"><smt-agenda></smt-agenda></div></div><div class="action-bar search-box btn-group"><div class=pull-left><div class=action-bar-field><label for=date-from>{{\'FILTERS_FROM\' | translate}}</label><div class=btn-group><button data-toggle=dropdown class="btn btn-default dropdown-toggle dates control" id=dropdown-from data-placeholder="Select date...">{{ starts | date: \'dd-MM-yyyy\'}} <span class=caret></span></button><ul class=dropdown-menu role=menu aria-labelledby=dLabel><datetimepicker data-ng-model=starts data-datetimepicker-config="{\n                                                dropdownSelector: \'#dropdown-from\',\n                                                startView:\'day\',\n                                                minView:\'day\'\n                                                }"></datetimepicker></ul></div></div><div class=action-bar-field><label for=date-from>{{\'FILTERS_TO\' | translate}}</label><div class=btn-group><button data-toggle=dropdown class="btn btn-default dropdown-toggle dates control" id=dropdown-to data-placeholder="Select date...">{{ ends | date: \'dd-MM-yyyy\'}} <span class=caret></span></button><ul class=dropdown-menu role=menu aria-labelledby=dLabel><datetimepicker data-ng-model=ends data-datetimepicker-config="{\n                                                dropdownSelector: \'#dropdown-to\',\n                                                startView:\'day\',\n                                                minView:\'day\'\n                                                }"></datetimepicker></ul></div></div></div><div class=pull-right><a ng-click=bookHotel() class="btn btn-primary">{{\'CUST_BOOK_HOTEL\' | translate}}</a></div></div><div class=scheduled-list><div class=event-list><h2>Estos son los eventos que no te quieres perder...</h2><hr class=separator><smt-event ng-repeat="item in nonScheduledEvents()" type=thumb event=item params=travelplan ng-drag=isDraggable() ng-drag-data=item ng-drag-start="onEventDragStarts($data, $event)"></smt-event></div><div class=event-list><h2>No dejes de visitar estos lugares...</h2><hr class=separator><smt-place ng-repeat="item in nonScheduledPlaces()" type=thumb place=item params=travelplan ng-drag=isDraggable() ng-drag-data=item ng-drag-start="onEventDragStarts($data, $event)"></smt-place></div></div></div>'},function(module,exports,__webpack_require__){"use strict";var moment;moment=__webpack_require__(39),__webpack_require__(100),__webpack_require__(101),__webpack_require__(103),angular.module("smartvel-calendar").directive("smtCalendar",["filters","Session","locale","taxonomies",function(filters,Session,locale,taxonomies){return{template:__webpack_require__(105),restrict:"E",scope:{filters:"=",startsDate:"@",taxonomies:"@",region:"@",searchBox:"@",key:"@",language:"@",bookParams:"@",allowTickets:"@",allowTravelplan:"@",latestMonthDay:"@"},compile:function(e,t){return Session.setApiKey(t.key),void 0!==t.language?locale.setLang(t.language):void 0},controller:["$scope","$compile","$filter","$element","$attrs","$q","matchmedia","params","replicas",function($scope,$compile,$filter,$element,$attrs,$q,matchmedia,params,replicas){var arrangeCalendarDays,getFilters;return $scope._params=params.setParams("calendar",$attrs),$scope.reloadDateLocale=function(){return $scope.current=$scope.current.locale(locale.currentLang().locale)},arrangeCalendarDays=function(){return $scope.current=$scope._getCalendarStarts($scope.startsDate),$scope.current_day=moment().startOf("day"),$scope.reloadDateLocale(),$scope.first=moment($scope.current).clone().startOf("month").startOf("isoWeek"),$scope.last=moment($scope.current).clone().endOf("month").endOf("isoWeek"),$scope.visible_days={},$scope.days={},$scope.selected_day=void 0,
$scope.details_displayed=!1},getFilters=function(){var forced_filters,result;return result=$q.defer(),$scope._filters||$scope.filters?result.resolve($scope._filters||$scope.filters):(forced_filters={taxonomies_forced:eval($scope.taxonomies),regions_forced:$scope.region},filters.request_for_events(forced_filters).then(function(e){return result.resolve(e)})),result.promise},$scope.next_month=function(){return $scope.current.add(1,"month").startOf("month"),$scope.reload()},$scope.prev_month=function(){return $scope.current.subtract(1,"month").startOf("month"),$scope.reload()},$scope.isInCurrentMonth=function(e){return e.m.isSame($scope.current,"month")},$scope.isPastDay=function(e){return e.m.isBefore($scope.current_day)},$scope.hasEvents=function(e){return _.size(e.events)>0},$scope.isDisabledDay=function(e){return $scope.isInCurrentMonth(e)&&($scope.isPastDay(e)||!$scope.hasEvents(e))},$scope.show_events=function(e){var t,n;$scope.isInCurrentMonth(e)&&!$scope.isPastDay(e)&&$scope.hasEvents(e)&&($scope.close_details(),e.m.format("YYYY-MM-DD")!==$scope.selected_day?($scope.remove_details_panel(),$scope.selected_day=e.m.format("YYYY-MM-DD"),$scope.visible_days[$scope.selected_day].selected=!0,t=$scope.$new(),t.events=e.events,n=matchmedia.isPhone()?"day-"+e.m.clone().format("YYYY-DD-MM"):"day-"+e.m.clone().endOf("isoWeek").format("YYYY-DD-MM"),angular.element(document.getElementById(n)).after($compile("<smt-event-day-list></smt-event-day-list>")(t)),$scope.details_displayed=!0):$scope.selected_day=void 0)},$scope.close_details=function(){return $scope.details_displayed=!1,$scope.selected_day&&$scope.visible_days[$scope.selected_day]?$scope.visible_days[$scope.selected_day].selected=!1:void 0},$scope.remove_details_panel=function(){var e;return e=document.getElementById("calendar-details"),e?e.remove():void 0},$scope.createCalendar=function(){var e,t;for($scope.reloadDateLocale(),$scope.week_days=function(){var t,n;for(n=[],e=t=1;7>=t;e=++t)n.push($scope.current.isoWeekday(e).format("dddd"));return n}(),$scope.days={},$scope.first=moment($scope.current).clone().startOf("month").startOf("isoWeek"),$scope.last=moment($scope.current).clone().endOf("month").endOf("isoWeek"),e=$scope.first.clone(),t=[];;){if($scope.days[e.format("YYYY-MM-DD")]={m:e.clone(),selected:!1,events:new Array,coverEvent:{},holidays:new Array},e.add(1,"days"),e.isAfter($scope.last))break;t.push(void 0)}return t},$scope.reloadEvents=function(){return replicas.request(_.merge($scope._filters,{starts:$scope.first.clone().toDate(),ends:$scope.last.clone().toDate()})).then(function(e){return taxonomies.translate($scope._filters.taxonomies),$scope.events=e,_.forEach($scope.events,function(e){var t,n;if(!_.some(e.event.taxonomies,{name:"holiday"})){for(t=moment.max(moment(e.starts),$scope.first).clone(),n=[];;){if(t.isAfter(moment.min(e.ends,$scope.last)))break;$scope.days[t.format("YYYY-MM-DD")].events.push(e),n.push(t.add(1,"days"))}return n}}),$scope.visible_days={},_.forEach($scope.days,function(e){return e.coverEvent=$scope._getRandomEvent(e.events),$scope.visible_days[e.m.format("YYYY-MM-DD")]=e}),$scope.days.length=0,$scope.reloadHolidays()})},$scope._getRandomEvent=function(e){return e?e[_.random(15)%(null!=e?e.length:void 0)]:void 0},$scope.reloadHolidays=function(){return replicas.request(_.defaults({starts:$scope.first.clone().toDate(),ends:$scope.last.clone().toDate(),taxonomies:{holidays:{code:"holiday",selected:!0}}},$scope._filters)).then(function(e){return _.forEach(e,function(e){var t,n;return t=moment.max(moment(e.starts),$scope.first).clone(),null!=(n=$scope.visible_days[t.format("YYYY-MM-DD")])?n.holidays.push(e):void 0})})},$scope._getCalendarStarts=function(e){var t;return t=e?moment(e,"YYYY-MM-DD"):moment(),$scope.displayNextMonth(t)&&t.add(1,"months").startOf("month"),t},$scope.displayNextMonth=function(e){return void 0!==$scope._params.latestMonthDay&&e.date()>parseInt($scope._params.latestMonthDay)},$scope.reload=function(){return getFilters().then(function(e){return $scope._filters=e,$scope.close_details(),$scope.visible_days.length=0,$scope.createCalendar(),$scope.reloadEvents()})},$scope.init=function(){return arrangeCalendarDays()},$scope.init(),$scope.reload()}]}}])},function(e,t){!function(e,t,n){"use strict";t.module("matchmedia-ng",[]).provider("matchmedia",function(){var e={rules:{print:"print",screen:"screen",phone:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 979px)",desktop:"(min-width: 979px)",portrait:"(orientation: portrait)",landscape:"(orientation: landscape)"}};return e.$get=["$window","safeApply","logger",function(t,r,a){function i(e,t){return function(n){r(function(){e(n)},t)}}a.log("Creating matchmedia");var o={};return o.on=function(e,r,o){var s=t.matchMedia!==n&&!!t.matchMedia("all").addListener;if(s){a.log("adding listener for query: "+e);var u=t.matchMedia(e),l=i(r,o);return u.addListener(l),l(u),function(){a.log("removing listener from query: "+e),u.removeListener(l)}}},o.is=function(e){return a.log("test query: "+e),t.matchMedia(e).matches},o.onPrint=function(t,n){return o.on(e.rules.print,t,n)},o.onScreen=function(t,n){return o.on(e.rules.screen,t,n)},o.onPhone=function(t,n){return o.on(e.rules.phone,t,n)},o.onTablet=function(t,n){return o.on(e.rules.tablet,t,n)},o.onDesktop=function(t,n){return o.on(e.rules.desktop,t,n)},o.onPortrait=function(t,n){return o.on(e.rules.portrait,t,n)},o.onLandscape=function(t,n){return o.on(e.rules.landscape,t,n)},o.isPrint=function(){return o.is(e.rules.print)},o.isScreen=function(){return o.is(e.rules.screen)},o.isPhone=function(){return o.is(e.rules.phone)},o.isTablet=function(){return o.is(e.rules.tablet)},o.isDesktop=function(){return o.is(e.rules.desktop)},o.isPortrait=function(){return o.is(e.rules.portrait)},o.isLandscape=function(){return o.is(e.rules.landscape)},o}],e}).directive("ajMatchmedia",["matchmedia",function(e){return{restrict:"E",scope:{queryListener:"&",queryMatches:"="},link:function(t,n,r,a){var i;r.on&&r.queryListener?(i="on"===r.on.slice(0,2)&&"undefined"!==e[r.on]?e[r.on](function(e){t.queryListener({mediaQueryList:e})}):e.on(r.on,function(e){t.queryListener({mediaQueryList:e})}),t.$on("$destroy",i)):r.is&&r.queryMatches&&("is"===r.is.slice(0,2)&&"undefined"!==e[r.is]?t.queryMatches=e[r.is]():t.queryMatches=e.is(r.is))}}}]).factory("safeApply",["$rootScope",function(e){return function(t,n){n=n||e;var r=n.$root.$$phase;"$apply"==r||"$digest"==r?t&&n.$eval(t):t?n.$apply(t):n.$apply()}}]).provider("logger",function(){this.DEVMODE=!1,this.setDEVMODE=function(e){this.DEVMODE=e},this.$get=["$window","$log",function(e,t){var n=this.DEVMODE,r={};return r.log=function(){n&&t.info(arguments)},r.always=function(){t.info(arguments)},r}]})}(window,window.angular)},function(e,t,n){"use strict";angular.module("smartvel-calendar").directive("smtDay",function(){return{template:n(102),restrict:"E",scope:{day:"="},controller:["$scope",function(e){return e.has_events=function(e){return _.size(e.events)>0},e.is_relevant=function(t){return e.has_events(t)}}]}})},function(e,t){e.exports="<div ng-class=\"{'empty-day': !is_relevant(day)}\" class=smartimg data-pictures=\"{{ day.coverEvent.event.pictures }}\"><div class=enabled-day-overlay ng-class=\"{'selected-day': day.selected}\"><div class=header><div class=date><div class=month-day>{{ day.m.format('D') }}</div><div class=weekday>{{ day.m.format('dddd') }}</div></div><div class=holiday>{{ day.holidays[0].event.name }}</div></div><div class=main_event><p class=event_taxonomy>{{ day.coverEvent.event.taxonomies[0].name | capitalize_all }}</p><p class=event_name>{{ day.coverEvent.event.name | capitalize_all }}</p></div><div class=summary><span class=total_events>+{{ day.events.length }} {{'CUST_EVENTS' | translate}}</span></div></div><div ng-hide=is_relevant(day) class=disabled-day-overlay ng-class=\"{'selected-day': day.selected}\"><div class=date><p class=day>{{ day.m.format('D') }}</p></div></div></div>"},function(e,t,n){"use strict";angular.module("smartvel-calendar").directive("smtEventDayList",function(){return{template:n(104),restrict:"E"}})},function(e,t){e.exports='<div class=events-day-list ng-class="{\'expanded\': details_displayed, \'collapsed\': !details_displayed}" id=calendar-details><div class="actions custom-pull-right"><span class="glyphicon glyphicon-menu-up" ng-click=close_details()></span></div><div class=events><div ng-repeat="item in events" class=list-element><smt-event type=list event=item.event day=selected_day params=calendar></smt-event></div></div></div>'},function(e,t){e.exports="<div class=\"smt-calendar events\"><smt-searchbox ng-show=\"_params.searchBox != undefined\" filters=_filters custom-controls=\"['taxonomies', 'regions', 'text']\" reload=reload()></smt-searchbox><div class=month-selector><p><span class=custom-pull-left ng-click=prev_month()>&lt;&lt;</span> {{ current.format('YYYY-MMMM') }} <span class=custom-pull-right ng-click=next_month()>&gt;&gt;</span></p></div><div class=days-panel><div ng-repeat=\"daylabel in week_days\" class=weekday>{{ daylabel | uppercase }}</div><div ng-repeat=\"day in visible_days\" class=calendar-day ng-attr-id=\"{{ 'day-'+day.m.format('YYYY-DD-MM') }}\" ng-class=\"{ 'past-day': isDisabledDay(day),\n                       'out-of-month': !isInCurrentMonth(day) }\" ng-click=show_events(day)><div class=calendar-day-placeholder ng-show=isInCurrentMonth(day)><smt-day day=day></smt-day></div></div></div></div>"},function(e,t){},,function(e,t,n){n(3),n(2),angular.module("smartvel-highlights",["ngAnimate","ngSanitize","ngTouch","smartvel-common"]),n(109),n(111)},function(module,exports,__webpack_require__){"use strict";var moment;moment=__webpack_require__(39),angular.module("smartvel-highlights").directive("smtHighlights",["filters","Session","taxonomies","locale",function(filters,Session,taxonomies,locale){return{template:__webpack_require__(110),restrict:"E",transclude:!0,scope:{filters:"=",startsDate:"@",taxonomies:"@",region:"@",searchBox:"@",key:"@",language:"@",allowTravelplan:"@"},compile:function(e,t){return Session.setApiKey(t.key),void 0!==t.language?locale.setLang(t.language):void 0},controller:["$scope","$attrs","$q","$filter","replicas","params","customEvents",function($scope,$attrs,$q,$filter,replicas,params,customEvents){var getFilters;return $scope._params=params.setParams("highlights",$attrs),getFilters=function(){var forced_filters,result;return result=$q.defer(),$scope._filters||$scope.filters?result.resolve($scope._filters||$scope.filters):(forced_filters={taxonomies_forced:eval($scope.taxonomies),regions_forced:$scope.region,date_forced:$scope.startsDate},filters.request_for_events(forced_filters).then(function(e){return result.resolve(e)})),result.promise},$scope.reload=function(){return getFilters().then(function(e){return $scope._filters=e,$q.all({replicas:replicas.request($scope._filters),userEvents:customEvents.query($scope._filters)}).then(function(e){return taxonomies.translate($scope._filters.taxonomies),$scope.events=$filter("asReplica")(e.userEvents).concat(e.replicas)})})},$scope.reload()}]}}])},function(e,t){e.exports='<div class="events highlights"><smt-searchbox ng-show="_params.searchBox != undefined" filters=_filters custom-controls="[\'taxonomies\', \'regions\', \'text\', \'starts\', \'ends\']" reload=reload()></smt-searchbox><div class=container-fluid><div class=row><div class="col-xs-12 col-sm-6 col-md-8 col-lg-9 col-md-push-4 col-lg-push-3 header"><div ng-transclude=""></div></div><div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 animated" ng-repeat="item in events | take:25" ng-class="{\'col-md-pull-8 col-lg-pull-9\':$first}"><smt-event class=single-event type=overlay event=item.event params=highlights></smt-event></div></div></div></div>'},function(e,t){},,function(e,t,n){n(3),n(2),n(1),n(114),n(108),angular.module("smartvel-inspire",["smartvel-common","smartvel-calendar","smartvel-map","smartvel-highlights"]),n(129)},function(e,t,n){var r;r=n(3),n(2),r.module("smartvel-map",["ngAnimate","ngSanitize","ngTouch","smartvel-common","leaflet-directive"]),n(115),n(74),n(96)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(120),__webpack_require__(24),__webpack_require__(122),__webpack_require__(123),__webpack_require__(116),__webpack_require__(124),__webpack_require__(126),angular.module("smartvel-map").directive("smtMap",["filters","Session","taxonomies","locale",function(filters,Session,taxonomies,locale){return{template:__webpack_require__(128),restrict:"E",scope:{filters:"=",startsDate:"@",taxonomies:"@",searchBox:"@",key:"@",language:"@",bookParams:"@",allowTickets:"@",allowTravelplan:"@"},compile:function(e,t){return Session.setApiKey(t.key),void 0!==t.language?locale.setLang(t.language):void 0},controller:["$scope","$compile","$filter","$attrs","$q","params","leafletData","events","places","customEvents","customPlaces",function($scope,$compile,$filter,$attrs,$q,params,leafletData,events,places,customEvents,customPlaces){var getFilters,getPlaces;return $scope._params=params.setParams("map",$attrs),getFilters=function(){var forced_filters,result;return result=$q.defer(),$scope._filters||$scope.filters?result.resolve($scope._filters||$scope.filters):(forced_filters={taxonomies_forced:eval($scope.taxonomies),date_forced:$scope.startsDate},filters.request_for_events(forced_filters).then(function(e){return result.resolve(e)})),result.promise},$scope.init=function(){return angular.extend($scope,{layers:{baselayers:{positron:{name:"CartoDB Positron",url:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",type:"xyz",subdomains:"abcd",minZoom:0,maxZoom:18},osm:{name:"OpenStreetMap",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"xyz"},googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}},overlays:{main:{name:"main",type:"markercluster",visible:!0,layerOptions:{chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0}},places:{name:"places",type:"markercluster",visible:!0,layerOptions:{chunkedLoading:!0,showCoverageOnHover:!1,removeOutsideVisibleBounds:!0,iconCreateFunction:function(e){var t,n;return n=e.getChildCount(),t=" marker-cluster-",t+=10>n?"small":100>n?"medium":"large",new L.DivIcon({html:"<div><span>"+n+"</span></div>",className:"places-cluster marker-cluster"+t,iconSize:new L.Point(40,40)})}}}}},bounds:{},center:{lat:parseFloat($scope._params.latitude)||40.4444,lng:parseFloat($scope._params.longitude)||-3.6707,zoom:parseInt($scope._params.zoom)||6},markers:[],defaults:{scrollWheelZoom:!1,zoomControl:!0,zoomControlPosition:"bottomleft"},events:{},places:{},eventSelected:[],placeSelected:[]}),leafletData.getMap().then(function(e){var t,n;n=e.getBounds(),t={northEast:n._northEast,southWest:n._southWest},$scope.reload(t)})},$scope.$on("leafletDirectiveMarker.popupopen",function(e,t){return"main"===t.model.layer&&($scope.eventSelected=[t.model]),"places"===t.model.layer?$scope.placeSelected=[t.model]:void 0}),$scope.$on("leafletDirectiveMarker.popupclose",function(e,t){return $scope.eventSelected=[],$scope.placeSelected=[]}),$scope.hasSomethingSelected=function(){return $scope.eventSelected.length>0||$scope.placeSelected.length>0},$scope.reload=function(e){return getFilters().then(function(t){var n;$scope._filters=t,$scope.markers=[],n=_.isEmpty($scope.bounds)?e:$scope.bounds,$q.all({events:events.request(_.defaults({bounding_box:n},_.omit($scope._filters,"region"))),userEvents:customEvents.query($scope._filters)}).then(function(e){var t,n;t=locale.currentLang(),n=e.events.concat(e.userEvents),taxonomies.translate($scope._filters.taxonomies),$scope.events=_.map(_.filter(n,function(e){var t;return null!=(t=e.place)?t.location:void 0}),events.toMarker),$scope.markers=_.union($scope.markers,$scope.events)}),void 0!==$scope._params.showPlaces&&$scope.center.zoom>9&&getPlaces()})},getPlaces=function(){return $q.all({places:places.request(_.defaults({bounding_box:$scope.bounds||{}},_.omit($scope._filters,"region"))),userPlaces:customPlaces.all()}).then(function(e){var t;t=e.places.concat(e.userPlaces),taxonomies.translate($scope._filters.taxonomies),$scope.places=_.map(_.filter(t,function(e){return null!=e?e.location:void 0}),places.toMarker),$scope.markers=_.union($scope.markers,$scope.places)})},$scope.downloadEvent=function(e){var t;return t=ics(),t.addEvent(e.name,e.description,e.place.name,e.starts,e.ends),t.download()},$scope.init()}]}}])},function(e,t){},,,,function(e,t,n){var r,a;!function(i,o,s){var u=i.L,l={};l.version="0.7.3","object"==typeof e&&"object"==typeof e.exports?e.exports=l:!0&&n(121)&&(r=l,a="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==a&&(e.exports=a))),l.noConflict=function(){return i.L=u,this},i.L=l,l.Util={extend:function(e){var t,n,r,a,i=Array.prototype.slice.call(arguments,1);for(n=0,r=i.length;r>n;n++){a=i[n]||{};for(t in a)a.hasOwnProperty(t)&&(e[t]=a[t])}return e},bind:function(e,t){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return e.apply(t,n||arguments)}},stamp:function(){var e=0,t="_leaflet_id";return function(n){return n[t]=n[t]||++e,n[t]}}(),invokeEach:function(e,t,n){var r,a;if("object"==typeof e){a=Array.prototype.slice.call(arguments,3);for(r in e)t.apply(n,[r,e[r]].concat(a));return!0}return!1},limitExecByInterval:function(e,t,n){var r,a;return function i(){var o=arguments;return r?void(a=!0):(r=!0,setTimeout(function(){r=!1,a&&(i.apply(n,o),a=!1)},t),void e.apply(n,o))}},falseFn:function(){return!1},formatNum:function(e,t){var n=Math.pow(10,t||5);return Math.round(e*n)/n},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},splitWords:function(e){return l.Util.trim(e).split(/\s+/)},setOptions:function(e,t){return e.options=l.extend({},e.options,t),e.options},getParamString:function(e,t,n){var r=[];for(var a in e)r.push(encodeURIComponent(n?a.toUpperCase():a)+"="+encodeURIComponent(e[a]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")},template:function(e,t){return e.replace(/\{ *([\w_]+) *\}/g,function(e,n){var r=t[n];if(r===s)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r})},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var t,n,r=["webkit","moz","o","ms"];for(t=0;t<r.length&&!n;t++)n=i[r[t]+e];return n}function t(e){var t=+new Date,r=Math.max(0,16-(t-n));return n=t+r,i.setTimeout(e,r)}var n=0,r=i.requestAnimationFrame||e("RequestAnimationFrame")||t,a=i.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){i.clearTimeout(e)};l.Util.requestAnimFrame=function(e,n,a,o){return e=l.bind(e,n),a&&r===t?void e():r.call(i,e,o)},l.Util.cancelAnimFrame=function(e){e&&a.call(i,e)}}(),l.extend=l.Util.extend,l.bind=l.Util.bind,l.stamp=l.Util.stamp,l.setOptions=l.Util.setOptions,l.Class=function(){},l.Class.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var r=new n;r.constructor=t,t.prototype=r;for(var a in this)this.hasOwnProperty(a)&&"prototype"!==a&&(t[a]=this[a]);e.statics&&(l.extend(t,e.statics),delete e.statics),e.includes&&(l.Util.extend.apply(null,[r].concat(e.includes)),delete e.includes),e.options&&r.options&&(e.options=l.extend({},r.options,e.options)),l.extend(r,e),r._initHooks=[];var i=this;return t.__super__=i.prototype,r.callInitHooks=function(){if(!this._initHooksCalled){i.prototype.callInitHooks&&i.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=r._initHooks.length;t>e;e++)r._initHooks[e].call(this)}},t},l.Class.include=function(e){l.extend(this.prototype,e)},l.Class.mergeOptions=function(e){l.extend(this.prototype.options,e)},l.Class.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var c="_leaflet_events";l.Mixin={},l.Mixin.Events={addEventListener:function(e,t,n){if(l.Util.invokeEach(e,this.addEventListener,this,t,n))return this;var r,a,i,o,s,u,d,f=this[c]=this[c]||{},p=n&&n!==this&&l.stamp(n);for(e=l.Util.splitWords(e),r=0,a=e.length;a>r;r++)i={action:t,context:n||this},o=e[r],p?(s=o+"_idx",u=s+"_len",d=f[s]=f[s]||{},d[p]||(d[p]=[],f[u]=(f[u]||0)+1),d[p].push(i)):(f[o]=f[o]||[],f[o].push(i));return this},hasEventListeners:function(e){var t=this[c];return!!t&&(e in t&&t[e].length>0||e+"_idx"in t&&t[e+"_idx_len"]>0)},removeEventListener:function(e,t,n){if(!this[c])return this;if(!e)return this.clearAllEventListeners();if(l.Util.invokeEach(e,this.removeEventListener,this,t,n))return this;var r,a,i,o,s,u,d,f,p,h=this[c],m=n&&n!==this&&l.stamp(n);for(e=l.Util.splitWords(e),r=0,a=e.length;a>r;r++)if(i=e[r],u=i+"_idx",d=u+"_len",f=h[u],t){if(o=m&&f?f[m]:h[i]){for(s=o.length-1;s>=0;s--)o[s].action!==t||n&&o[s].context!==n||(p=o.splice(s,1),p[0].action=l.Util.falseFn);n&&f&&0===o.length&&(delete f[m],h[d]--)}}else delete h[i],delete h[u],delete h[d];return this},clearAllEventListeners:function(){return delete this[c],this},fireEvent:function(e,t){if(!this.hasEventListeners(e))return this;var n,r,a,i,o,s=l.Util.extend({},t,{type:e,target:this}),u=this[c];if(u[e])for(n=u[e].slice(),r=0,a=n.length;a>r;r++)n[r].action.call(n[r].context,s);i=u[e+"_idx"];for(o in i)if(n=i[o].slice())for(r=0,a=n.length;a>r;r++)n[r].action.call(n[r].context,s);return this},addOneTimeEventListener:function(e,t,n){if(l.Util.invokeEach(e,this.addOneTimeEventListener,this,t,n))return this;var r=l.bind(function(){this.removeEventListener(e,t,n).removeEventListener(e,r,n)},this);return this.addEventListener(e,t,n).addEventListener(e,r,n)}},l.Mixin.Events.on=l.Mixin.Events.addEventListener,l.Mixin.Events.off=l.Mixin.Events.removeEventListener,l.Mixin.Events.once=l.Mixin.Events.addOneTimeEventListener,l.Mixin.Events.fire=l.Mixin.Events.fireEvent,function(){var e="ActiveXObject"in i,t=e&&!o.addEventListener,n=navigator.userAgent.toLowerCase(),r=-1!==n.indexOf("webkit"),a=-1!==n.indexOf("chrome"),u=-1!==n.indexOf("phantom"),c=-1!==n.indexOf("android"),d=-1!==n.search("android [23]"),f=-1!==n.indexOf("gecko"),p=typeof orientation!=s+"",h=i.navigator&&i.navigator.msPointerEnabled&&i.navigator.msMaxTouchPoints&&!i.PointerEvent,m=i.PointerEvent&&i.navigator.pointerEnabled&&i.navigator.maxTouchPoints||h,_="devicePixelRatio"in i&&i.devicePixelRatio>1||"matchMedia"in i&&i.matchMedia("(min-resolution:144dpi)")&&i.matchMedia("(min-resolution:144dpi)").matches,v=o.documentElement,g=e&&"transition"in v.style,y="WebKitCSSMatrix"in i&&"m11"in new i.WebKitCSSMatrix&&!d,T="MozPerspective"in v.style,L="OTransition"in v.style,S=!i.L_DISABLE_3D&&(g||y||T||L)&&!u,E=!i.L_NO_TOUCH&&!u&&function(){var e="ontouchstart";if(m||e in v)return!0;var t=o.createElement("div"),n=!1;return t.setAttribute?(t.setAttribute(e,"return;"),"function"==typeof t[e]&&(n=!0),t.removeAttribute(e),t=null,n):!1}();l.Browser={ie:e,ielt9:t,webkit:r,gecko:f&&!r&&!i.opera&&!e,android:c,android23:d,chrome:a,ie3d:g,webkit3d:y,gecko3d:T,opera3d:L,any3d:S,mobile:p,mobileWebkit:p&&r,mobileWebkit3d:p&&y,mobileOpera:p&&i.opera,touch:E,msPointer:h,pointer:m,retina:_}}(),l.Point=function(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t},l.Point.prototype={clone:function(){return new l.Point(this.x,this.y)},add:function(e){return this.clone()._add(l.point(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(l.point(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(e){e=l.point(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=l.point(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=l.point(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+l.Util.formatNum(this.x)+", "+l.Util.formatNum(this.y)+")"}},l.point=function(e,t,n){return e instanceof l.Point?e:l.Util.isArray(e)?new l.Point(e[0],e[1]):e===s||null===e?e:new l.Point(e,t,n)},l.Bounds=function(e,t){if(e)for(var n=t?[e,t]:e,r=0,a=n.length;a>r;r++)this.extend(n[r])},l.Bounds.prototype={extend:function(e){return e=l.point(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new l.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new l.Point(this.min.x,this.max.y)},getTopRight:function(){return new l.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e="number"==typeof e[0]||e instanceof l.Point?l.point(e):l.bounds(e),e instanceof l.Bounds?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=l.bounds(e);var t=this.min,n=this.max,r=e.min,a=e.max,i=a.x>=t.x&&r.x<=n.x,o=a.y>=t.y&&r.y<=n.y;return i&&o},isValid:function(){return!(!this.min||!this.max)}},l.bounds=function(e,t){return!e||e instanceof l.Bounds?e:new l.Bounds(e,t)},l.Transformation=function(e,t,n,r){this._a=e,this._b=t,this._c=n,this._d=r},l.Transformation.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new l.Point((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}},l.DomUtil={get:function(e){return"string"==typeof e?o.getElementById(e):e},getStyle:function(e,t){var n=e.style[t];if(!n&&e.currentStyle&&(n=e.currentStyle[t]),(!n||"auto"===n)&&o.defaultView){var r=o.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n},getViewportOffset:function(e){var t,n=0,r=0,a=e,i=o.body,s=o.documentElement;do{if(n+=a.offsetTop||0,r+=a.offsetLeft||0,n+=parseInt(l.DomUtil.getStyle(a,"borderTopWidth"),10)||0,r+=parseInt(l.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,t=l.DomUtil.getStyle(a,"position"),a.offsetParent===i&&"absolute"===t)break;if("fixed"===t){n+=i.scrollTop||s.scrollTop||0,r+=i.scrollLeft||s.scrollLeft||0;break}if("relative"===t&&!a.offsetLeft){var u=l.DomUtil.getStyle(a,"width"),c=l.DomUtil.getStyle(a,"max-width"),d=a.getBoundingClientRect();("none"!==u||"none"!==c)&&(r+=d.left+a.clientLeft),n+=d.top+(i.scrollTop||s.scrollTop||0);break}a=a.offsetParent}while(a);a=e;do{if(a===i)break;n-=a.scrollTop||0,r-=a.scrollLeft||0,a=a.parentNode}while(a);return new l.Point(r,n)},documentIsLtr:function(){return l.DomUtil._docIsLtrCached||(l.DomUtil._docIsLtrCached=!0,l.DomUtil._docIsLtr="ltr"===l.DomUtil.getStyle(o.body,"direction")),l.DomUtil._docIsLtr},create:function(e,t,n){var r=o.createElement(e);return r.className=t,n&&n.appendChild(r),r},hasClass:function(e,t){if(e.classList!==s)return e.classList.contains(t);var n=l.DomUtil._getClass(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)},addClass:function(e,t){if(e.classList!==s)for(var n=l.Util.splitWords(t),r=0,a=n.length;a>r;r++)e.classList.add(n[r]);else if(!l.DomUtil.hasClass(e,t)){var i=l.DomUtil._getClass(e);l.DomUtil._setClass(e,(i?i+" ":"")+t)}},removeClass:function(e,t){e.classList!==s?e.classList.remove(t):l.DomUtil._setClass(e,l.Util.trim((" "+l.DomUtil._getClass(e)+" ").replace(" "+t+" "," ")))},_setClass:function(e,t){e.className.baseVal===s?e.className=t:e.className.baseVal=t},_getClass:function(e){return e.className.baseVal===s?e.className:e.className.baseVal},setOpacity:function(e,t){if("opacity"in e.style)e.style.opacity=t;else if("filter"in e.style){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(a){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}},testProp:function(e){for(var t=o.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1},getTranslateString:function(e){var t=l.Browser.webkit3d,n="translate"+(t?"3d":"")+"(",r=(t?",0":"")+")";return n+e.x+"px,"+e.y+"px"+r},getScaleString:function(e,t){var n=l.DomUtil.getTranslateString(t.add(t.multiplyBy(-1*e))),r=" scale("+e+") ";return n+r},setPosition:function(e,t,n){e._leaflet_pos=t,!n&&l.Browser.any3d?e.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(t):(e.style.left=t.x+"px",e.style.top=t.y+"px")},getPosition:function(e){return e._leaflet_pos}},l.DomUtil.TRANSFORM=l.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),l.DomUtil.TRANSITION=l.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),l.DomUtil.TRANSITION_END="webkitTransition"===l.DomUtil.TRANSITION||"OTransition"===l.DomUtil.TRANSITION?l.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in o)l.extend(l.DomUtil,{disableTextSelection:function(){l.DomEvent.on(i,"selectstart",l.DomEvent.preventDefault)},enableTextSelection:function(){l.DomEvent.off(i,"selectstart",l.DomEvent.preventDefault)}});else{var e=l.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);l.extend(l.DomUtil,{disableTextSelection:function(){if(e){var t=o.documentElement.style;this._userSelect=t[e],t[e]="none"}},enableTextSelection:function(){e&&(o.documentElement.style[e]=this._userSelect,delete this._userSelect)}})}l.extend(l.DomUtil,{disableImageDrag:function(){l.DomEvent.on(i,"dragstart",l.DomEvent.preventDefault)},enableImageDrag:function(){l.DomEvent.off(i,"dragstart",l.DomEvent.preventDefault)}})}(),l.LatLng=function(e,t,n){if(e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=e,this.lng=t,n!==s&&(this.alt=parseFloat(n))},l.extend(l.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),l.LatLng.prototype={equals:function(e){if(!e)return!1;e=l.latLng(e);var t=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return t<=l.LatLng.MAX_MARGIN},toString:function(e){return"LatLng("+l.Util.formatNum(this.lat,e)+", "+l.Util.formatNum(this.lng,e)+")"},distanceTo:function(e){e=l.latLng(e);var t=6378137,n=l.LatLng.DEG_TO_RAD,r=(e.lat-this.lat)*n,a=(e.lng-this.lng)*n,i=this.lat*n,o=e.lat*n,s=Math.sin(r/2),u=Math.sin(a/2),c=s*s+u*u*Math.cos(i)*Math.cos(o);return 2*t*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},wrap:function(e,t){var n=this.lng;return e=e||-180,t=t||180,n=(n+t)%(t-e)+(e>n||n===t?t:e),new l.LatLng(this.lat,n)}},l.latLng=function(e,t){return e instanceof l.LatLng?e:l.Util.isArray(e)?"number"==typeof e[0]||"string"==typeof e[0]?new l.LatLng(e[0],e[1],e[2]):null:e===s||null===e?e:"object"==typeof e&&"lat"in e?new l.LatLng(e.lat,"lng"in e?e.lng:e.lon):t===s?null:new l.LatLng(e,t)},l.LatLngBounds=function(e,t){if(e)for(var n=t?[e,t]:e,r=0,a=n.length;a>r;r++)this.extend(n[r])},l.LatLngBounds.prototype={extend:function(e){if(!e)return this;var t=l.latLng(e);return e=null!==t?t:l.latLngBounds(e),e instanceof l.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(e.lat,this._southWest.lat),this._southWest.lng=Math.min(e.lng,this._southWest.lng),this._northEast.lat=Math.max(e.lat,this._northEast.lat),this._northEast.lng=Math.max(e.lng,this._northEast.lng)):(this._southWest=new l.LatLng(e.lat,e.lng),
this._northEast=new l.LatLng(e.lat,e.lng)):e instanceof l.LatLngBounds&&(this.extend(e._southWest),this.extend(e._northEast)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,a=Math.abs(t.lng-n.lng)*e;return new l.LatLngBounds(new l.LatLng(t.lat-r,t.lng-a),new l.LatLng(n.lat+r,n.lng+a))},getCenter:function(){return new l.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new l.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new l.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof l.LatLng?l.latLng(e):l.latLngBounds(e);var t,n,r=this._southWest,a=this._northEast;return e instanceof l.LatLngBounds?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=a.lat&&t.lng>=r.lng&&n.lng<=a.lng},intersects:function(e){e=l.latLngBounds(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),a=e.getNorthEast(),i=a.lat>=t.lat&&r.lat<=n.lat,o=a.lng>=t.lng&&r.lng<=n.lng;return i&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e){return e?(e=l.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},l.latLngBounds=function(e,t){return!e||e instanceof l.LatLngBounds?e:new l.LatLngBounds(e,t)},l.Projection={},l.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(e){var t=l.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),a=e.lng*t,i=r*t;return i=Math.log(Math.tan(Math.PI/4+i/2)),new l.Point(a,i)},unproject:function(e){var t=l.LatLng.RAD_TO_DEG,n=e.x*t,r=(2*Math.atan(Math.exp(e.y))-Math.PI/2)*t;return new l.LatLng(r,n)}},l.Projection.LonLat={project:function(e){return new l.Point(e.lng,e.lat)},unproject:function(e){return new l.LatLng(e.y,e.x)}},l.CRS={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},scale:function(e){return 256*Math.pow(2,e)},getSize:function(e){var t=this.scale(e);return l.point(t,t)}},l.CRS.Simple=l.extend({},l.CRS,{projection:l.Projection.LonLat,transformation:new l.Transformation(1,0,-1,0),scale:function(e){return Math.pow(2,e)}}),l.CRS.EPSG3857=l.extend({},l.CRS,{code:"EPSG:3857",projection:l.Projection.SphericalMercator,transformation:new l.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(e){var t=this.projection.project(e),n=6378137;return t.multiplyBy(n)}}),l.CRS.EPSG900913=l.extend({},l.CRS.EPSG3857,{code:"EPSG:900913"}),l.CRS.EPSG4326=l.extend({},l.CRS,{code:"EPSG:4326",projection:l.Projection.LonLat,transformation:new l.Transformation(1/360,.5,-1/360,.5)}),l.Map=l.Class.extend({includes:l.Mixin.Events,options:{crs:l.CRS.EPSG3857,fadeAnimation:l.DomUtil.TRANSITION&&!l.Browser.android23,trackResize:!0,markerZoomAnimation:l.DomUtil.TRANSITION&&l.Browser.any3d},initialize:function(e,t){t=l.setOptions(this,t),this._initContainer(e),this._initLayout(),this._onResize=l.bind(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.center&&t.zoom!==s&&this.setView(l.latLng(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(t.layers)},setView:function(e,t){return t=t===s?this.getZoom():t,this._resetView(l.latLng(e),this._limitZoom(t)),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=this._limitZoom(e),this)},zoomIn:function(e,t){return this.setZoom(this._zoom+(e||1),t)},zoomOut:function(e,t){return this.setZoom(this._zoom-(e||1),t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),a=this.getSize().divideBy(2),i=e instanceof l.Point?e:this.latLngToContainerPoint(e),o=i.subtract(a).multiplyBy(1-1/r),s=this.containerPointToLatLng(a.add(o));return this.setView(s,t,{zoom:n})},fitBounds:function(e,t){t=t||{},e=e.getBounds?e.getBounds():l.latLngBounds(e);var n=l.point(t.paddingTopLeft||t.padding||[0,0]),r=l.point(t.paddingBottomRight||t.padding||[0,0]),a=this.getBoundsZoom(e,!1,n.add(r)),i=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),a),s=this.project(e.getNorthEast(),a),u=this.unproject(o.add(s).divideBy(2).add(i),a);return a=t&&t.maxZoom?Math.min(t.maxZoom,a):a,this.setView(u,a,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e){return this.fire("movestart"),this._rawPanBy(l.point(e)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(e){return e=l.latLngBounds(e),this.options.maxBounds=e,e?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(e,t){var n=this.getCenter(),r=this._limitCenter(n,this._zoom,e);return n.equals(r)?this:this.panTo(r,t)},addLayer:function(e){var t=l.stamp(e);return this._layers[t]?this:(this._layers[t]=e,!e.options||isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[t]=e,this._updateZoomLevels()),this.options.zoomAnimation&&l.TileLayer&&e instanceof l.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,e.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(e),this)},removeLayer:function(e){var t=l.stamp(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&this.fire("layerremove",{layer:e}),this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels()),this.options.zoomAnimation&&l.TileLayer&&e instanceof l.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,e.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(e){return e?l.stamp(e)in this._layers:!1},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},invalidateSize:function(e){if(!this._loaded)return this;e=l.extend({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),r=t.divideBy(2).round(),a=n.divideBy(2).round(),i=r.subtract(a);return i.x||i.y?(e.animate&&e.pan?this.panBy(i):(e.pan&&this._rawPanBy(i),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(e){this._container._leaflet=s}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new l.LatLngBounds(t,n)},getMinZoom:function(){return this.options.minZoom===s?this._layersMinZoom===s?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===s?this._layersMaxZoom===s?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=l.latLngBounds(e);var r,a=this.getMinZoom()-(t?1:0),i=this.getMaxZoom(),o=this.getSize(),s=e.getNorthWest(),u=e.getSouthEast(),c=!0;n=l.point(n||[0,0]);do a++,r=this.project(u,a).subtract(this.project(s,a)).add(n),c=t?r.x<o.x||r.y<o.y:o.contains(r);while(c&&i>=a);return c&&t?null:t?a:a-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new l.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var e=this._getTopLeftPoint();return new l.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e){var t=this.options.crs;return t.scale(e)/t.scale(this._zoom)},getScaleZoom:function(e){return this._zoom+Math.log(e)/Math.LN2},project:function(e,t){return t=t===s?this._zoom:t,this.options.crs.latLngToPoint(l.latLng(e),t)},unproject:function(e,t){return t=t===s?this._zoom:t,this.options.crs.pointToLatLng(l.point(e),t)},layerPointToLatLng:function(e){var t=l.point(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(l.latLng(e))._round();return t._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(e){return l.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return l.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(l.point(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(l.latLng(e)))},mouseEventToContainerPoint:function(e){return l.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=l.DomUtil.get(e);if(!t)throw new Error("Map container not found.");if(t._leaflet)throw new Error("Map container is already initialized.");t._leaflet=!0},_initLayout:function(){var e=this._container;l.DomUtil.addClass(e,"leaflet-container"+(l.Browser.touch?" leaflet-touch":"")+(l.Browser.retina?" leaflet-retina":"")+(l.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var t=l.DomUtil.getStyle(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._mapPane=e.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=e.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),e.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),e.shadowPane=this._createPane("leaflet-shadow-pane"),e.overlayPane=this._createPane("leaflet-overlay-pane"),e.markerPane=this._createPane("leaflet-marker-pane"),e.popupPane=this._createPane("leaflet-popup-pane");var t=" leaflet-zoom-hide";this.options.markerZoomAnimation||(l.DomUtil.addClass(e.markerPane,t),l.DomUtil.addClass(e.shadowPane,t),l.DomUtil.addClass(e.popupPane,t))},_createPane:function(e,t){return l.DomUtil.create("div",e,t||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(e){e=e?l.Util.isArray(e)?e:[e]:[];for(var t=0,n=e.length;n>t;t++)this.addLayer(e[t])},_resetView:function(e,t,n,r){var a=this._zoom!==t;r||(this.fire("movestart"),a&&this.fire("zoomstart")),this._zoom=t,this._initialCenter=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(e),n?this._initialTopLeftPoint._add(this._getMapPanePos()):l.DomUtil.setPosition(this._mapPane,new l.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var i=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),i&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(a||r)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(e){l.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var e,t=1/0,n=-1/0,r=this._getZoomSpan();for(e in this._zoomBoundLayers){var a=this._zoomBoundLayers[e];isNaN(a.options.minZoom)||(t=Math.min(t,a.options.minZoom)),isNaN(a.options.maxZoom)||(n=Math.max(n,a.options.maxZoom))}e===s?this._layersMaxZoom=this._layersMinZoom=s:(this._layersMaxZoom=n,this._layersMinZoom=t),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(l.DomEvent){e=e||"on",l.DomEvent[e](this._container,"click",this._onMouseClick,this);var t,n,r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(t=0,n=r.length;n>t;t++)l.DomEvent[e](this._container,r[t],this._fireMouseEvent,this);this.options.trackResize&&l.DomEvent[e](i,"resize",this._onResize,this)}},_onResize:function(){l.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=l.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(e){!this._loaded||!e._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||l.DomEvent._skipped(e)||(this.fire("preclick"),this._fireMouseEvent(e))},_fireMouseEvent:function(e){if(this._loaded&&!l.DomEvent._skipped(e)){var t=e.type;if(t="mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,this.hasEventListeners(t)){"contextmenu"===t&&l.DomEvent.preventDefault(e);var n=this.mouseEventToContainerPoint(e),r=this.containerPointToLayerPoint(n),a=this.layerPointToLatLng(r);this.fire(t,{latlng:a,layerPoint:r,containerPoint:n,originalEvent:e})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var e=0,t=this._handlers.length;t>e;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,this):this.on("load",e,t),this},_layerAdd:function(e){e.onAdd(this),this.fire("layeradd",{layer:e})},_getMapPanePos:function(){return l.DomUtil.getPosition(this._mapPane)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewTopLeftPoint(n,t).add(this._getMapPanePos());return this.project(e,t)._subtract(r)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),a=this.getSize().divideBy(2),i=new l.Bounds(r.subtract(a),r.add(a)),o=this._getBoundsOffset(i,n,t);return this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new l.Bounds(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=this.project(t.getNorthWest(),n).subtract(e.min),a=this.project(t.getSouthEast(),n).subtract(e.max),i=this._rebound(r.x,-a.x),o=this._rebound(r.y,-a.y);return new l.Point(i,o)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom();return Math.max(t,Math.min(n,e))}}),l.map=function(e,t){return new l.Map(e,t)},l.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(e){var t=l.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),a=this.R_MAJOR,i=this.R_MINOR,o=e.lng*t*a,s=r*t,u=i/a,c=Math.sqrt(1-u*u),d=c*Math.sin(s);d=Math.pow((1-d)/(1+d),.5*c);var f=Math.tan(.5*(.5*Math.PI-s))/d;return s=-a*Math.log(f),new l.Point(o,s)},unproject:function(e){for(var t,n=l.LatLng.RAD_TO_DEG,r=this.R_MAJOR,a=this.R_MINOR,i=e.x*n/r,o=a/r,s=Math.sqrt(1-o*o),u=Math.exp(-e.y/r),c=Math.PI/2-2*Math.atan(u),d=15,f=1e-7,p=d,h=.1;Math.abs(h)>f&&--p>0;)t=s*Math.sin(c),h=Math.PI/2-2*Math.atan(u*Math.pow((1-t)/(1+t),.5*s))-c,c+=h;return new l.LatLng(c*n,i)}},l.CRS.EPSG3395=l.extend({},l.CRS,{code:"EPSG:3395",projection:l.Projection.Mercator,transformation:function(){var e=l.Projection.Mercator,t=e.R_MAJOR,n=.5/(Math.PI*t);return new l.Transformation(n,.5,-n,.5)}()}),l.TileLayer=l.Class.extend({includes:l.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:l.Browser.mobile,updateWhenIdle:l.Browser.mobile},initialize:function(e,t){t=l.setOptions(this,t),t.detectRetina&&l.Browser.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomOffset++,t.minZoom>0&&t.minZoom--,this.options.maxZoom--),t.bounds&&(t.bounds=l.latLngBounds(t.bounds)),this._url=e;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(e){this._map=e,this._animated=e._zoomAnimated,this._initContainer(),e.on({viewreset:this._reset,moveend:this._update},this),this._animated&&e.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=l.Util.limitExecByInterval(this._update,150,this),e.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this._container.parentNode.removeChild(this._container),e.off({viewreset:this._reset,moveend:this._update},this),this._animated&&e.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||e.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var e=this._map._panes.tilePane;return this._container&&(e.appendChild(this._container),this._setAutoZIndex(e,Math.max)),this},bringToBack:function(){var e=this._map._panes.tilePane;return this._container&&(e.insertBefore(this._container,e.firstChild),this._setAutoZIndex(e,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==s&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e,t){var n,r,a,i=e.children,o=-t(1/0,-1/0);for(r=0,a=i.length;a>r;r++)i[r]!==this._container&&(n=parseInt(i[r].style.zIndex,10),isNaN(n)||(o=t(o,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(o)?o:0)+t(1,-1)},_updateOpacity:function(){var e,t=this._tiles;if(l.Browser.ielt9)for(e in t)l.DomUtil.setOpacity(t[e],this.options.opacity);else l.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var e=this._map._panes.tilePane;if(!this._container){if(this._container=l.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var t="leaflet-tile-container";this._bgBuffer=l.DomUtil.create("div",t,this._container),this._tileContainer=l.DomUtil.create("div",t,this._container)}else this._tileContainer=this._container;e.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(e){for(var t in this._tiles)this.fire("tileunload",{tile:this._tiles[t]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&e&&e.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var e=this._map,t=e.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,r=this.options.tileSize;return n&&t>n&&(r=Math.round(e.getZoomScale(t)/e.getZoomScale(n)*r)),r},_update:function(){if(this._map){var e=this._map,t=e.getPixelBounds(),n=e.getZoom(),r=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var a=l.bounds(t.min.divideBy(r)._floor(),t.max.divideBy(r)._floor());this._addTilesFromCenterOut(a),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(a)}}},_addTilesFromCenterOut:function(e){var t,n,r,a=[],i=e.getCenter();for(t=e.min.y;t<=e.max.y;t++)for(n=e.min.x;n<=e.max.x;n++)r=new l.Point(n,t),this._tileShouldBeLoaded(r)&&a.push(r);var s=a.length;if(0!==s){a.sort(function(e,t){return e.distanceTo(i)-t.distanceTo(i)});var u=o.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=s,n=0;s>n;n++)this._addTile(a[n],u);this._tileContainer.appendChild(u)}},_tileShouldBeLoaded:function(e){if(e.x+":"+e.y in this._tiles)return!1;var t=this.options;if(!t.continuousWorld){var n=this._getWrapTileNum();if(t.noWrap&&(e.x<0||e.x>=n.x)||e.y<0||e.y>=n.y)return!1}if(t.bounds){var r=t.tileSize,a=e.multiplyBy(r),i=a.add([r,r]),o=this._map.unproject(a),s=this._map.unproject(i);if(t.continuousWorld||t.noWrap||(o=o.wrap(),s=s.wrap()),!t.bounds.intersects([o,s]))return!1}return!0},_removeOtherTiles:function(e){var t,n,r,a;for(a in this._tiles)t=a.split(":"),n=parseInt(t[0],10),r=parseInt(t[1],10),(n<e.min.x||n>e.max.x||r<e.min.y||r>e.max.y)&&this._removeTile(a)},_removeTile:function(e){var t=this._tiles[e];this.fire("tileunload",{tile:t,url:t.src}),this.options.reuseTiles?(l.DomUtil.removeClass(t,"leaflet-tile-loaded"),this._unusedTiles.push(t)):t.parentNode===this._tileContainer&&this._tileContainer.removeChild(t),l.Browser.android||(t.onload=null,t.src=l.Util.emptyImageUrl),delete this._tiles[e]},_addTile:function(e,t){var n=this._getTilePos(e),r=this._getTile();l.DomUtil.setPosition(r,n,l.Browser.chrome),this._tiles[e.x+":"+e.y]=r,this._loadTile(r,e),r.parentNode!==this._tileContainer&&t.appendChild(r)},_getZoomForUrl:function(){var e=this.options,t=this._map.getZoom();return e.zoomReverse&&(t=e.maxZoom-t),t+=e.zoomOffset,e.maxNativeZoom?Math.min(t,e.maxNativeZoom):t},_getTilePos:function(e){var t=this._map.getPixelOrigin(),n=this._getTileSize();return e.multiplyBy(n).subtract(t)},getTileUrl:function(e){return l.Util.template(this._url,l.extend({s:this._getSubdomain(e),z:e.z,x:e.x,y:e.y},this.options))},_getWrapTileNum:function(){var e=this._map.options.crs,t=e.getSize(this._map.getZoom());return t.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(e){var t=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(e.x=(e.x%t.x+t.x)%t.x),this.options.tms&&(e.y=t.y-e.y-1),e.z=this._getZoomForUrl()},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var e=this._unusedTiles.pop();return this._resetTile(e),e}return this._createTile()},_resetTile:function(){},_createTile:function(){var e=l.DomUtil.create("img","leaflet-tile");return e.style.width=e.style.height=this._getTileSize()+"px",e.galleryimg="no",e.onselectstart=e.onmousemove=l.Util.falseFn,l.Browser.ielt9&&this.options.opacity!==s&&l.DomUtil.setOpacity(e,this.options.opacity),l.Browser.mobileWebkit3d&&(e.style.WebkitBackfaceVisibility="hidden"),e},_loadTile:function(e,t){e._layer=this,e.onload=this._tileOnLoad,e.onerror=this._tileOnError,this._adjustTilePoint(t),e.src=this.getTileUrl(t),this.fire("tileloadstart",{tile:e,url:e.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&l.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(l.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var e=this._layer;this.src!==l.Util.emptyImageUrl&&(l.DomUtil.addClass(this,"leaflet-tile-loaded"),e.fire("tileload",{tile:this,url:this.src})),e._tileLoaded()},_tileOnError:function(){var e=this._layer;e.fire("tileerror",{tile:this,url:this.src});var t=e.options.errorTileUrl;t&&(this.src=t),e._tileLoaded()}}),l.tileLayer=function(e,t){return new l.TileLayer(e,t)},l.TileLayer.WMS=l.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,t){this._url=e;var n=l.extend({},this.defaultWmsParams),r=t.tileSize||this.options.tileSize;n.width=n.height=t.detectRetina&&l.Browser.retina?2*r:r;for(var a in t)this.options.hasOwnProperty(a)||"crs"===a||(n[a]=t[a]);this.wmsParams=n,l.setOptions(this,t)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,l.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._map,n=this.options.tileSize,r=e.multiplyBy(n),a=r.add([n,n]),i=this._crs.project(t.unproject(r,e.z)),o=this._crs.project(t.unproject(a,e.z)),s=this._wmsVersion>=1.3&&this._crs===l.CRS.EPSG4326?[o.y,i.x,i.y,o.x].join(","):[i.x,o.y,o.x,i.y].join(","),u=l.Util.template(this._url,{s:this._getSubdomain(e)});return u+l.Util.getParamString(this.wmsParams,u,!0)+"&BBOX="+s},setParams:function(e,t){return l.extend(this.wmsParams,e),t||this.redraw(),this}}),l.tileLayer.wms=function(e,t){return new l.TileLayer.WMS(e,t)},l.TileLayer.Canvas=l.TileLayer.extend({options:{async:!1},initialize:function(e){l.setOptions(this,e)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var e in this._tiles)this._redrawTile(this._tiles[e]);return this},_redrawTile:function(e){this.drawTile(e,e._tilePoint,this._map._zoom)},_createTile:function(){var e=l.DomUtil.create("canvas","leaflet-tile");return e.width=e.height=this.options.tileSize,e.onselectstart=e.onmousemove=l.Util.falseFn,e},_loadTile:function(e,t){e._layer=this,e._tilePoint=t,this._redrawTile(e),this.options.async||this.tileDrawn(e)},drawTile:function(){},tileDrawn:function(e){this._tileOnLoad.call(e)}}),l.tileLayer.canvas=function(e){return new l.TileLayer.Canvas(e)},l.ImageOverlay=l.Class.extend({includes:l.Mixin.Events,options:{opacity:1},initialize:function(e,t,n){this._url=e,this._bounds=l.latLngBounds(t),l.setOptions(this,n)},onAdd:function(e){this._map=e,this._image||this._initImage(),e._panes.overlayPane.appendChild(this._image),e.on("viewreset",this._reset,this),e.options.zoomAnimation&&l.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._image),e.off("viewreset",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var e=this._map._panes.overlayPane;return this._image&&e.insertBefore(this._image,e.firstChild),this},setUrl:function(e){this._url=e,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=l.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&l.Browser.any3d?l.DomUtil.addClass(this._image,"leaflet-zoom-animated"):l.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),l.extend(this._image,{galleryimg:"no",onselectstart:l.Util.falseFn,onmousemove:l.Util.falseFn,onload:l.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var t=this._map,n=this._image,r=t.getZoomScale(e.zoom),a=this._bounds.getNorthWest(),i=this._bounds.getSouthEast(),o=t._latLngToNewLayerPoint(a,e.zoom,e.center),s=t._latLngToNewLayerPoint(i,e.zoom,e.center)._subtract(o),u=o._add(s._multiplyBy(.5*(1-1/r)));n.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(u)+" scale("+r+") "},_reset:function(){var e=this._image,t=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(t);l.DomUtil.setPosition(e,t),e.style.width=n.x+"px",e.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){l.DomUtil.setOpacity(this._image,this.options.opacity)}}),l.imageOverlay=function(e,t,n){return new l.ImageOverlay(e,t,n)},l.Icon=l.Class.extend({options:{className:""},initialize:function(e){l.setOptions(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r;return r=t&&"IMG"===t.tagName?this._createImg(n,t):this._createImg(n),this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n,r=this.options,a=l.point(r[t+"Size"]);n=l.point("shadow"===t?r.shadowAnchor||r.iconAnchor:r.iconAnchor),!n&&a&&(n=a.divideBy(2,!0)),e.className="leaflet-marker-"+t+" "+r.className,n&&(e.style.marginLeft=-n.x+"px",e.style.marginTop=-n.y+"px"),a&&(e.style.width=a.x+"px",e.style.height=a.y+"px")},_createImg:function(e,t){return t=t||o.createElement("img"),t.src=e,t},_getIconUrl:function(e){return l.Browser.retina&&this.options[e+"RetinaUrl"]?this.options[e+"RetinaUrl"]:this.options[e+"Url"]}}),l.icon=function(e){return new l.Icon(e)},l.Icon.Default=l.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(e){var t=e+"Url";if(this.options[t])return this.options[t];l.Browser.retina&&"icon"===e&&(e+="-2x");var n=l.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+e+".png"}}),l.Icon.Default.imagePath=function(){var e,t,n,r,a,i=o.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(e=0,t=i.length;t>e;e++)if(n=i[e].src,r=n.match(s))return a=n.split(s)[0],(a?a+"/":"")+"images"}(),l.Marker=l.Class.extend({includes:l.Mixin.Events,options:{icon:new l.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(e,t){l.setOptions(this,t),this._latlng=l.latLng(e)},onAdd:function(e){this._map=e,e.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),e.options.zoomAnimation&&e.options.markerZoomAnimation&&e.on("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),e.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=l.latLng(e),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update(),this},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t=this._map,n=t.options.zoomAnimation&&t.options.markerZoomAnimation,r=n?"leaflet-zoom-animated":"leaflet-zoom-hide",a=e.icon.createIcon(this._icon),i=!1;a!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(a.title=e.title),e.alt&&(a.alt=e.alt)),
l.DomUtil.addClass(a,r),e.keyboard&&(a.tabIndex="0"),this._icon=a,this._initInteraction(),e.riseOnHover&&l.DomEvent.on(a,"mouseover",this._bringToFront,this).on(a,"mouseout",this._resetZIndex,this);var o=e.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&l.DomUtil.addClass(o,r),this._shadow=o,e.opacity<1&&this._updateOpacity();var u=this._map._panes;i&&u.markerPane.appendChild(this._icon),o&&s&&u.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&l.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(e){l.DomUtil.setPosition(this._icon,e),this._shadow&&l.DomUtil.setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu"];l.DomUtil.addClass(e,"leaflet-clickable"),l.DomEvent.on(e,"click",this._onMouseClick,this),l.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var n=0;n<t.length;n++)l.DomEvent.on(e,t[n],this._fireMouseEvent,this);l.Handler.MarkerDrag&&(this.dragging=new l.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(e){var t=this.dragging&&this.dragging.moved();(this.hasEventListeners(e.type)||t)&&l.DomEvent.stopPropagation(e),t||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(e.type,{originalEvent:e,latlng:this._latlng})},_onKeyPress:function(e){13===e.keyCode&&this.fire("click",{originalEvent:e,latlng:this._latlng})},_fireMouseEvent:function(e){this.fire(e.type,{originalEvent:e,latlng:this._latlng}),"contextmenu"===e.type&&this.hasEventListeners(e.type)&&l.DomEvent.preventDefault(e),"mousedown"!==e.type?l.DomEvent.stopPropagation(e):l.DomEvent.preventDefault(e)},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){l.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&l.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),l.marker=function(e,t){return new l.Marker(e,t)},l.DivIcon=l.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:o.createElement("div"),n=this.options;return t.innerHTML=n.html!==!1?n.html:"",n.bgPos&&(t.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}}),l.divIcon=function(e){return new l.DivIcon(e)},l.Map.mergeOptions({closePopupOnClick:!0}),l.Popup=l.Class.extend({includes:l.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(e,t){l.setOptions(this,e),this._source=t,this._animated=l.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(e){this._map=e,this._container||this._initLayout();var t=e.options.fadeAnimation;t&&l.DomUtil.setOpacity(this._container,0),e._panes.popupPane.appendChild(this._container),e.on(this._getEvents(),this),this.update(),t&&l.DomUtil.setOpacity(this._container,1),this.fire("open"),e.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(e){return e.addLayer(this),this},openOn:function(e){return e.openPopup(this),this},onRemove:function(e){e._panes.popupPane.removeChild(this._container),l.Util.falseFn(this._container.offsetWidth),e.off(this._getEvents(),this),e.options.fadeAnimation&&l.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),e.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=l.latLng(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var e={viewreset:this._updatePosition};return this._animated&&(e.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e,t="leaflet-popup",n=t+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),r=this._container=l.DomUtil.create("div",n);this.options.closeButton&&(e=this._closeButton=l.DomUtil.create("a",t+"-close-button",r),e.href="#close",e.innerHTML="&#215;",l.DomEvent.disableClickPropagation(e),l.DomEvent.on(e,"click",this._onCloseButtonClick,this));var a=this._wrapper=l.DomUtil.create("div",t+"-content-wrapper",r);l.DomEvent.disableClickPropagation(a),this._contentNode=l.DomUtil.create("div",t+"-content",a),l.DomEvent.disableScrollPropagation(this._contentNode),l.DomEvent.on(a,"contextmenu",l.DomEvent.stopPropagation),this._tipContainer=l.DomUtil.create("div",t+"-tip-container",r),this._tip=l.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,a=this.options.maxHeight,i="leaflet-popup-scrolled";a&&r>a?(t.height=a+"px",l.DomUtil.addClass(e,i)):l.DomUtil.removeClass(e,i),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=this._animated,n=l.point(this.options.offset);t&&l.DomUtil.setPosition(this._container,e),this._containerBottom=-n.y-(t?0:e.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(t?0:e.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);l.DomUtil.setPosition(this._container,t)},_adjustPan:function(){if(this.options.autoPan){var e=this._map,t=this._container.offsetHeight,n=this._containerWidth,r=new l.Point(this._containerLeft,-t-this._containerBottom);this._animated&&r._add(l.DomUtil.getPosition(this._container));var a=e.layerPointToContainerPoint(r),i=l.point(this.options.autoPanPadding),o=l.point(this.options.autoPanPaddingTopLeft||i),s=l.point(this.options.autoPanPaddingBottomRight||i),u=e.getSize(),c=0,d=0;a.x+n+s.x>u.x&&(c=a.x+n-u.x+s.x),a.x-c-o.x<0&&(c=a.x-o.x),a.y+t+s.y>u.y&&(d=a.y+t-u.y+s.y),a.y-d-o.y<0&&(d=a.y-o.y),(c||d)&&e.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(e){this._close(),l.DomEvent.stop(e)}}),l.popup=function(e,t){return new l.Popup(e,t)},l.Map.include({openPopup:function(e,t,n){if(this.closePopup(),!(e instanceof l.Popup)){var r=e;e=new l.Popup(n).setLatLng(t).setContent(r)}return e._isOpen=!0,this._popup=e,this.addLayer(e)},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&(this.removeLayer(e),e._isOpen=!1),this}}),l.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(e,t){var n=l.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(l.Popup.prototype.options.offset),t&&t.offset&&(n=n.add(t.offset)),t=l.extend({offset:n},t),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),e instanceof l.Popup?(l.setOptions(e,t),this._popup=e):this._popup=new l.Popup(t,this).setContent(e),this},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(e){this._popup.setLatLng(e.latlng)}}),l.LayerGroup=l.Class.extend({initialize:function(e){this._layers={};var t,n;if(e)for(t=0,n=e.length;n>t;t++)this.addLayer(e[t])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return e?e in this._layers||this.getLayerId(e)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)n=this._layers[t],n[e]&&n[e].apply(n,r);return this},onAdd:function(e){this._map=e,this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e),this._map=null},addTo:function(e){return e.addLayer(this),this},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var t in this._layers)e.push(this._layers[t]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return l.stamp(e)}}),l.layerGroup=function(e){return new l.LayerGroup(e)},l.FeatureGroup=l.LayerGroup.extend({includes:l.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(e){return this.hasLayer(e)?this:("on"in e&&e.on(l.FeatureGroup.EVENTS,this._propagateEvent,this),l.LayerGroup.prototype.addLayer.call(this,e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.off(l.FeatureGroup.EVENTS,this._propagateEvent,this),l.LayerGroup.prototype.removeLayer.call(this,e),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:e})):this},bindPopup:function(e,t){return this._popupContent=e,this._popupOptions=t,this.invoke("bindPopup",e,t)},openPopup:function(e){for(var t in this._layers){this._layers[t].openPopup(e);break}return this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new l.LatLngBounds;return this.eachLayer(function(t){e.extend(t instanceof l.Marker?t.getLatLng():t.getBounds())}),e},_propagateEvent:function(e){e=l.extend({layer:e.target,target:this},e),this.fire(e.type,e)}}),l.featureGroup=function(e){return new l.FeatureGroup(e)},l.Path=l.Class.extend({includes:[l.Mixin.Events],statics:{CLIP_PADDING:function(){var e=l.Browser.mobile?1280:2e3,t=(e/Math.max(i.outerWidth,i.outerHeight)-1)/2;return Math.max(0,Math.min(.5,t))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(e){l.setOptions(this,e)},onAdd:function(e){this._map=e,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),e.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){e._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,l.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),e.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(e){return l.setOptions(this,e),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),l.Map.include({_updatePathViewport:function(){var e=l.Path.CLIP_PADDING,t=this.getSize(),n=l.DomUtil.getPosition(this._mapPane),r=n.multiplyBy(-1)._subtract(t.multiplyBy(e)._round()),a=r.add(t.multiplyBy(1+2*e)._round());this._pathViewport=new l.Bounds(r,a)}}),l.Path.SVG_NS="http://www.w3.org/2000/svg",l.Browser.svg=!(!o.createElementNS||!o.createElementNS(l.Path.SVG_NS,"svg").createSVGRect),l.Path=l.Path.extend({statics:{SVG:l.Browser.svg},bringToFront:function(){var e=this._map._pathRoot,t=this._container;return t&&e.lastChild!==t&&e.appendChild(t),this},bringToBack:function(){var e=this._map._pathRoot,t=this._container,n=e.firstChild;return t&&n!==t&&e.insertBefore(t,n),this},getPathString:function(){},_createElement:function(e){return o.createElementNS(l.Path.SVG_NS,e)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&l.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var e=this.getPathString();e||(e="M0 0"),this._path.setAttribute("d",e)},_initEvents:function(){if(this.options.clickable){(l.Browser.svg||!l.Browser.vml)&&l.DomUtil.addClass(this._path,"leaflet-clickable"),l.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var e=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],t=0;t<e.length;t++)l.DomEvent.on(this._container,e[t],this._fireMouseEvent,this)}},_onMouseClick:function(e){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(e)},_fireMouseEvent:function(e){if(this.hasEventListeners(e.type)){var t=this._map,n=t.mouseEventToContainerPoint(e),r=t.containerPointToLayerPoint(n),a=t.layerPointToLatLng(r);this.fire(e.type,{latlng:a,layerPoint:r,containerPoint:n,originalEvent:e}),"contextmenu"===e.type&&l.DomEvent.preventDefault(e),"mousemove"!==e.type&&l.DomEvent.stopPropagation(e)}}}),l.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=l.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&l.Browser.any3d?(l.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):l.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(e){var t=this.getZoomScale(e.zoom),n=this._getCenterOffset(e.center)._multiplyBy(-t)._add(this._pathViewport.min);this._pathRoot.style[l.DomUtil.TRANSFORM]=l.DomUtil.getTranslateString(n)+" scale("+t+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,t=e.min,n=e.max,r=n.x-t.x,a=n.y-t.y,i=this._pathRoot,o=this._panes.overlayPane;l.Browser.mobileWebkit&&o.removeChild(i),l.DomUtil.setPosition(i,t),i.setAttribute("width",r),i.setAttribute("height",a),i.setAttribute("viewBox",[t.x,t.y,r,a].join(" ")),l.Browser.mobileWebkit&&o.appendChild(i)}}}),l.Path.include({bindPopup:function(e,t){return e instanceof l.Popup?this._popup=e:((!this._popup||t)&&(this._popup=new l.Popup(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(e){return this._popup&&(e=e||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:e})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(e){this._popup.setLatLng(e.latlng),this._map.openPopup(this._popup)}}),l.Browser.vml=!l.Browser.svg&&function(){try{var e=o.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(n){return!1}}(),l.Path=l.Browser.svg||!l.Browser.vml?l.Path:l.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return o.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return o.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return o.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var e=this._container=this._createElement("shape");l.DomUtil.addClass(e,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&l.DomUtil.addClass(e,"leaflet-clickable"),e.coordsize="1 1",this._path=this._createElement("path"),e.appendChild(this._path),this._map._pathRoot.appendChild(e)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var e=this._stroke,t=this._fill,n=this.options,r=this._container;r.stroked=n.stroke,r.filled=n.fill,n.stroke?(e||(e=this._stroke=this._createElement("stroke"),e.endcap="round",r.appendChild(e)),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,e.dashStyle=n.dashArray?l.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):"",n.lineCap&&(e.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(e.joinstyle=n.lineJoin)):e&&(r.removeChild(e),this._stroke=null),n.fill?(t||(t=this._fill=this._createElement("fill"),r.appendChild(t)),t.color=n.fillColor||n.color,t.opacity=n.fillOpacity):t&&(r.removeChild(t),this._fill=null)},_updatePath:function(){var e=this._container.style;e.display="none",this._path.v=this.getPathString()+" ",e.display=""}}),l.Map.include(l.Browser.svg||!l.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var e=this._pathRoot=o.createElement("div");e.className="leaflet-vml-container",this._panes.overlayPane.appendChild(e),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),l.Browser.canvas=function(){return!!o.createElement("canvas").getContext}(),l.Path=l.Path.SVG&&!i.L_PREFER_CANVAS||!l.Browser.canvas?l.Path:l.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(e){return l.setOptions(this,e),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(e){e.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!l.Path._updateRequest&&(l.Path._updateRequest=l.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){l.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var e=this.options;e.stroke&&(this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color),e.fill&&(this._ctx.fillStyle=e.fillColor||e.color)},_drawPath:function(){var e,t,n,r,a,i;for(this._ctx.beginPath(),e=0,n=this._parts.length;n>e;e++){for(t=0,r=this._parts[e].length;r>t;t++)a=this._parts[e][t],i=(0===t?"move":"line")+"To",this._ctx[i](a.x,a.y);this instanceof l.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var e=this._ctx,t=this.options;this._drawPath(),e.save(),this._updateStyle(),t.fill&&(e.globalAlpha=t.fillOpacity,e.fill()),t.stroke&&(e.globalAlpha=t.opacity,e.stroke()),e.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(e){this._containsPoint(e.layerPoint)&&this.fire("click",e)},_onMouseMove:function(e){this._map&&!this._map._animatingZoom&&(this._containsPoint(e.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",e)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",e)))}}),l.Map.include(l.Path.SVG&&!i.L_PREFER_CANVAS||!l.Browser.canvas?{}:{_initPathRoot:function(){var e,t=this._pathRoot;t||(t=this._pathRoot=o.createElement("canvas"),t.style.position="absolute",e=this._canvasCtx=t.getContext("2d"),e.lineCap="round",e.lineJoin="round",this._panes.overlayPane.appendChild(t),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,t=e.min,n=e.max.subtract(t),r=this._pathRoot;l.DomUtil.setPosition(r,t),r.width=n.x,r.height=n.y,r.getContext("2d").translate(-t.x,-t.y)}}}),l.LineUtil={simplify:function(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=this._reducePoints(e,n),e=this._simplifyDP(e,n)},pointToSegmentDistance:function(e,t,n){return Math.sqrt(this._sqClosestPointOnSegment(e,t,n,!0))},closestPointOnSegment:function(e,t,n){return this._sqClosestPointOnSegment(e,t,n)},_simplifyDP:function(e,t){var n=e.length,r=typeof Uint8Array!=s+""?Uint8Array:Array,a=new r(n);a[0]=a[n-1]=1,this._simplifyDPStep(e,a,t,0,n-1);var i,o=[];for(i=0;n>i;i++)a[i]&&o.push(e[i]);return o},_simplifyDPStep:function(e,t,n,r,a){var i,o,s,u=0;for(o=r+1;a-1>=o;o++)s=this._sqClosestPointOnSegment(e[o],e[r],e[a],!0),s>u&&(i=o,u=s);u>n&&(t[i]=1,this._simplifyDPStep(e,t,n,r,i),this._simplifyDPStep(e,t,n,i,a))},_reducePoints:function(e,t){for(var n=[e[0]],r=1,a=0,i=e.length;i>r;r++)this._sqDist(e[r],e[a])>t&&(n.push(e[r]),a=r);return i-1>a&&n.push(e[i-1]),n},clipSegment:function(e,t,n,r){var a,i,o,s=r?this._lastCode:this._getBitCode(e,n),u=this._getBitCode(t,n);for(this._lastCode=u;;){if(!(s|u))return[e,t];if(s&u)return!1;a=s||u,i=this._getEdgeIntersection(e,t,a,n),o=this._getBitCode(i,n),a===s?(e=i,s=o):(t=i,u=o)}},_getEdgeIntersection:function(e,t,n,r){var a=t.x-e.x,i=t.y-e.y,o=r.min,s=r.max;return 8&n?new l.Point(e.x+a*(s.y-e.y)/i,s.y):4&n?new l.Point(e.x+a*(o.y-e.y)/i,o.y):2&n?new l.Point(s.x,e.y+i*(s.x-e.x)/a):1&n?new l.Point(o.x,e.y+i*(o.x-e.x)/a):void 0},_getBitCode:function(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},_sqClosestPointOnSegment:function(e,t,n,r){var a,i=t.x,o=t.y,s=n.x-i,u=n.y-o,c=s*s+u*u;return c>0&&(a=((e.x-i)*s+(e.y-o)*u)/c,a>1?(i=n.x,o=n.y):a>0&&(i+=s*a,o+=u*a)),s=e.x-i,u=e.y-o,r?s*s+u*u:new l.Point(i,o)}},l.Polyline=l.Path.extend({initialize:function(e,t){l.Path.prototype.initialize.call(this,t),this._latlngs=this._convertLatLngs(e)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var e=0,t=this._latlngs.length;t>e;e++)this._originalPoints[e]=this._map.latLngToLayerPoint(this._latlngs[e])},getPathString:function(){for(var e=0,t=this._parts.length,n="";t>e;e++)n+=this._getPathPartStr(this._parts[e]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._latlngs=this._convertLatLngs(e),this.redraw()},addLatLng:function(e){return this._latlngs.push(l.latLng(e)),this.redraw()},spliceLatLngs:function(){var e=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),e},closestLayerPoint:function(e){for(var t,n,r=1/0,a=this._parts,i=null,o=0,s=a.length;s>o;o++)for(var u=a[o],c=1,d=u.length;d>c;c++){t=u[c-1],n=u[c];var f=l.LineUtil._sqClosestPointOnSegment(e,t,n,!0);r>f&&(r=f,i=l.LineUtil._sqClosestPointOnSegment(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getBounds:function(){return new l.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(e,t){var n,r,a=t?e:[];for(n=0,r=e.length;r>n;n++){if(l.Util.isArray(e[n])&&"number"!=typeof e[n][0])return;a[n]=l.latLng(e[n])}return a},_initEvents:function(){l.Path.prototype._initEvents.call(this)},_getPathPartStr:function(e){for(var t,n=l.Path.VML,r=0,a=e.length,i="";a>r;r++)t=e[r],n&&t._round(),i+=(r?"L":"M")+t.x+" "+t.y;return i},_clipPoints:function(){var e,t,n,r=this._originalPoints,a=r.length;if(this.options.noClip)return void(this._parts=[r]);this._parts=[];var i=this._parts,o=this._map._pathViewport,s=l.LineUtil;for(e=0,t=0;a-1>e;e++)n=s.clipSegment(r[e],r[e+1],o,e),n&&(i[t]=i[t]||[],i[t].push(n[0]),(n[1]!==r[e+1]||e===a-2)&&(i[t].push(n[1]),t++))},_simplifyPoints:function(){for(var e=this._parts,t=l.LineUtil,n=0,r=e.length;r>n;n++)e[n]=t.simplify(e[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),l.Path.prototype._updatePath.call(this))}}),l.polyline=function(e,t){return new l.Polyline(e,t)},l.PolyUtil={},l.PolyUtil.clipPolygon=function(e,t){var n,r,a,i,o,s,u,c,d,f=[1,4,2,8],p=l.LineUtil;for(r=0,u=e.length;u>r;r++)e[r]._code=p._getBitCode(e[r],t);for(i=0;4>i;i++){for(c=f[i],n=[],r=0,u=e.length,a=u-1;u>r;a=r++)o=e[r],s=e[a],o._code&c?s._code&c||(d=p._getEdgeIntersection(s,o,c,t),d._code=p._getBitCode(d,t),n.push(d)):(s._code&c&&(d=p._getEdgeIntersection(s,o,c,t),d._code=p._getBitCode(d,t),n.push(d)),n.push(o));e=n}return e},l.Polygon=l.Polyline.extend({options:{fill:!0},initialize:function(e,t){l.Polyline.prototype.initialize.call(this,e,t),this._initWithHoles(e)},_initWithHoles:function(e){var t,n,r;if(e&&l.Util.isArray(e[0])&&"number"!=typeof e[0][0])for(this._latlngs=this._convertLatLngs(e[0]),this._holes=e.slice(1),t=0,n=this._holes.length;n>t;t++)r=this._holes[t]=this._convertLatLngs(this._holes[t]),r[0].equals(r[r.length-1])&&r.pop();e=this._latlngs,e.length>=2&&e[0].equals(e[e.length-1])&&e.pop()},projectLatlngs:function(){if(l.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var e,t,n,r;for(e=0,n=this._holes.length;n>e;e++)for(this._holePoints[e]=[],t=0,r=this._holes[e].length;r>t;t++)this._holePoints[e][t]=this._map.latLngToLayerPoint(this._holes[e][t])}},setLatLngs:function(e){return e&&l.Util.isArray(e[0])&&"number"!=typeof e[0][0]?(this._initWithHoles(e),this.redraw()):l.Polyline.prototype.setLatLngs.call(this,e)},_clipPoints:function(){var e=this._originalPoints,t=[];if(this._parts=[e].concat(this._holePoints),!this.options.noClip){for(var n=0,r=this._parts.length;r>n;n++){var a=l.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);a.length&&t.push(a)}this._parts=t}},_getPathPartStr:function(e){var t=l.Polyline.prototype._getPathPartStr.call(this,e);return t+(l.Browser.svg?"z":"x")}}),l.polygon=function(e,t){return new l.Polygon(e,t)},function(){function e(e){return l.FeatureGroup.extend({initialize:function(e,t){this._layers={},this._options=t,this.setLatLngs(e)},setLatLngs:function(t){var n=0,r=t.length;for(this.eachLayer(function(e){r>n?e.setLatLngs(t[n++]):this.removeLayer(e)},this);r>n;)this.addLayer(new e(t[n++],this._options));return this},getLatLngs:function(){var e=[];return this.eachLayer(function(t){e.push(t.getLatLngs())}),e}})}l.MultiPolyline=e(l.Polyline),l.MultiPolygon=e(l.Polygon),l.multiPolyline=function(e,t){return new l.MultiPolyline(e,t)},l.multiPolygon=function(e,t){return new l.MultiPolygon(e,t)}}(),l.Rectangle=l.Polygon.extend({initialize:function(e,t){l.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=l.latLngBounds(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}}),l.rectangle=function(e,t){return new l.Rectangle(e,t)},l.Circle=l.Path.extend({initialize:function(e,t,n){l.Path.prototype.initialize.call(this,n),this._latlng=l.latLng(e),this._mRadius=t},options:{fill:!0},setLatLng:function(e){return this._latlng=l.latLng(e),this.redraw()},setRadius:function(e){return this._mRadius=e,this.redraw()},projectLatlngs:function(){var e=this._getLngRadius(),t=this._latlng,n=this._map.latLngToLayerPoint([t.lat,t.lng-e]);this._point=this._map.latLngToLayerPoint(t),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var e=this._getLngRadius(),t=this._mRadius/40075017*360,n=this._latlng;return new l.LatLngBounds([n.lat-t,n.lng-e],[n.lat+t,n.lng+e])},getLatLng:function(){return this._latlng},getPathString:function(){var e=this._point,t=this._radius;return this._checkIfEmpty()?"":l.Browser.svg?"M"+e.x+","+(e.y-t)+"A"+t+","+t+",0,1,1,"+(e.x-.1)+","+(e.y-t)+" z":(e._round(),t=Math.round(t),"AL "+e.x+","+e.y+" "+t+","+t+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(l.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var e=this._map._pathViewport,t=this._radius,n=this._point;return n.x-t>e.max.x||n.y-t>e.max.y||n.x+t<e.min.x||n.y+t<e.min.y}}),l.circle=function(e,t,n){return new l.Circle(e,t,n)},l.CircleMarker=l.Circle.extend({options:{radius:10,weight:2},initialize:function(e,t){l.Circle.prototype.initialize.call(this,e,null,t),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){l.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(e){return l.Circle.prototype.setLatLng.call(this,e),this._popup&&this._popup._isOpen&&this._popup.setLatLng(e),this},setRadius:function(e){return this.options.radius=this._radius=e,
this.redraw()},getRadius:function(){return this._radius}}),l.circleMarker=function(e,t){return new l.CircleMarker(e,t)},l.Polyline.include(l.Path.CANVAS?{_containsPoint:function(e,t){var n,r,a,i,o,s,u,c=this.options.weight/2;for(l.Browser.touch&&(c+=10),n=0,i=this._parts.length;i>n;n++)for(u=this._parts[n],r=0,o=u.length,a=o-1;o>r;a=r++)if((t||0!==r)&&(s=l.LineUtil.pointToSegmentDistance(e,u[a],u[r]),c>=s))return!0;return!1}}:{}),l.Polygon.include(l.Path.CANVAS?{_containsPoint:function(e){var t,n,r,a,i,o,s,u,c=!1;if(l.Polyline.prototype._containsPoint.call(this,e,!0))return!0;for(a=0,s=this._parts.length;s>a;a++)for(t=this._parts[a],i=0,u=t.length,o=u-1;u>i;o=i++)n=t[i],r=t[o],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c}}:{}),l.Circle.include(l.Path.CANVAS?{_drawPath:function(){var e=this._point;this._ctx.beginPath(),this._ctx.arc(e.x,e.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(e){var t=this._point,n=this.options.stroke?this.options.weight/2:0;return e.distanceTo(t)<=this._radius+n}}:{}),l.CircleMarker.include(l.Path.CANVAS?{_updateStyle:function(){l.Path.prototype._updateStyle.call(this)}}:{}),l.GeoJSON=l.FeatureGroup.extend({initialize:function(e,t){l.setOptions(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,a=l.Util.isArray(e)?e:e.features;if(a){for(t=0,n=a.length;n>t;t++)r=a[t],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(a[t]);return this}var i=this.options;if(!i.filter||i.filter(e)){var o=l.GeoJSON.geometryToLayer(e,i.pointToLayer,i.coordsToLatLng,i);return o.feature=l.GeoJSON.asFeature(e),o.defaultOptions=o.options,this.resetStyle(o),i.onEachFeature&&i.onEachFeature(e,o),this.addLayer(o)}},resetStyle:function(e){var t=this.options.style;t&&(l.Util.extend(e.options,e.defaultOptions),this._setLayerStyle(e,t))},setStyle:function(e){this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),l.extend(l.GeoJSON,{geometryToLayer:function(e,t,n,r){var a,i,o,s,u="Feature"===e.type?e.geometry:e,c=u.coordinates,d=[];switch(n=n||this.coordsToLatLng,u.type){case"Point":return a=n(c),t?t(e,a):new l.Marker(a);case"MultiPoint":for(o=0,s=c.length;s>o;o++)a=n(c[o]),d.push(t?t(e,a):new l.Marker(a));return new l.FeatureGroup(d);case"LineString":return i=this.coordsToLatLngs(c,0,n),new l.Polyline(i,r);case"Polygon":if(2===c.length&&!c[1].length)throw new Error("Invalid GeoJSON object.");return i=this.coordsToLatLngs(c,1,n),new l.Polygon(i,r);case"MultiLineString":return i=this.coordsToLatLngs(c,1,n),new l.MultiPolyline(i,r);case"MultiPolygon":return i=this.coordsToLatLngs(c,2,n),new l.MultiPolygon(i,r);case"GeometryCollection":for(o=0,s=u.geometries.length;s>o;o++)d.push(this.geometryToLayer({geometry:u.geometries[o],type:"Feature",properties:e.properties},t,n,r));return new l.FeatureGroup(d);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e){return new l.LatLng(e[1],e[0],e[2])},coordsToLatLngs:function(e,t,n){var r,a,i,o=[];for(a=0,i=e.length;i>a;a++)r=t?this.coordsToLatLngs(e[a],t-1,n):(n||this.coordsToLatLng)(e[a]),o.push(r);return o},latLngToCoords:function(e){var t=[e.lng,e.lat];return e.alt!==s&&t.push(e.alt),t},latLngsToCoords:function(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(l.GeoJSON.latLngToCoords(e[n]));return t},getFeature:function(e,t){return e.feature?l.extend({},e.feature,{geometry:t}):l.GeoJSON.asFeature(t)},asFeature:function(e){return"Feature"===e.type?e:{type:"Feature",properties:{},geometry:e}}});var d={toGeoJSON:function(){return l.GeoJSON.getFeature(this,{type:"Point",coordinates:l.GeoJSON.latLngToCoords(this.getLatLng())})}};l.Marker.include(d),l.Circle.include(d),l.CircleMarker.include(d),l.Polyline.include({toGeoJSON:function(){return l.GeoJSON.getFeature(this,{type:"LineString",coordinates:l.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),l.Polygon.include({toGeoJSON:function(){var e,t,n,r=[l.GeoJSON.latLngsToCoords(this.getLatLngs())];if(r[0].push(r[0][0]),this._holes)for(e=0,t=this._holes.length;t>e;e++)n=l.GeoJSON.latLngsToCoords(this._holes[e]),n.push(n[0]),r.push(n);return l.GeoJSON.getFeature(this,{type:"Polygon",coordinates:r})}}),function(){function e(e){return function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),l.GeoJSON.getFeature(this,{type:e,coordinates:t})}}l.MultiPolyline.include({toGeoJSON:e("MultiLineString")}),l.MultiPolygon.include({toGeoJSON:e("MultiPolygon")}),l.LayerGroup.include({toGeoJSON:function(){var t,n=this.feature&&this.feature.geometry,r=[];if(n&&"MultiPoint"===n.type)return e("MultiPoint").call(this);var a=n&&"GeometryCollection"===n.type;return this.eachLayer(function(e){e.toGeoJSON&&(t=e.toGeoJSON(),r.push(a?t.geometry:l.GeoJSON.asFeature(t)))}),a?l.GeoJSON.getFeature(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}})}(),l.geoJson=function(e,t){return new l.GeoJSON(e,t)},l.DomEvent={addListener:function(e,t,n,r){var a,i,o,s=l.stamp(n),u="_leaflet_"+t+s;return e[u]?this:(a=function(t){return n.call(r||e,t||l.DomEvent._getEvent())},l.Browser.pointer&&0===t.indexOf("touch")?this.addPointerListener(e,t,a,s):(l.Browser.touch&&"dblclick"===t&&this.addDoubleTapListener&&this.addDoubleTapListener(e,a,s),"addEventListener"in e?"mousewheel"===t?(e.addEventListener("DOMMouseScroll",a,!1),e.addEventListener(t,a,!1)):"mouseenter"===t||"mouseleave"===t?(i=a,o="mouseenter"===t?"mouseover":"mouseout",a=function(t){return l.DomEvent._checkMouse(e,t)?i(t):void 0},e.addEventListener(o,a,!1)):"click"===t&&l.Browser.android?(i=a,a=function(e){return l.DomEvent._filterClick(e,i)},e.addEventListener(t,a,!1)):e.addEventListener(t,a,!1):"attachEvent"in e&&e.attachEvent("on"+t,a),e[u]=a,this))},removeListener:function(e,t,n){var r=l.stamp(n),a="_leaflet_"+t+r,i=e[a];return i?(l.Browser.pointer&&0===t.indexOf("touch")?this.removePointerListener(e,t,r):l.Browser.touch&&"dblclick"===t&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,r):"removeEventListener"in e?"mousewheel"===t?(e.removeEventListener("DOMMouseScroll",i,!1),e.removeEventListener(t,i,!1)):"mouseenter"===t||"mouseleave"===t?e.removeEventListener("mouseenter"===t?"mouseover":"mouseout",i,!1):e.removeEventListener(t,i,!1):"detachEvent"in e&&e.detachEvent("on"+t,i),e[a]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,l.DomEvent._skipped(e),this},disableScrollPropagation:function(e){var t=l.DomEvent.stopPropagation;return l.DomEvent.on(e,"mousewheel",t).on(e,"MozMousePixelScroll",t)},disableClickPropagation:function(e){for(var t=l.DomEvent.stopPropagation,n=l.Draggable.START.length-1;n>=0;n--)l.DomEvent.on(e,l.Draggable.START[n],t);return l.DomEvent.on(e,"click",l.DomEvent._fakeStop).on(e,"dblclick",t)},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return l.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,t){if(!t)return new l.Point(e.clientX,e.clientY);var n=t.getBoundingClientRect();return new l.Point(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},getWheelDelta:function(e){var t=0;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),t},_skipEvents:{},_fakeStop:function(e){l.DomEvent._skipEvents[e.type]=!0},_skipped:function(e){var t=this._skipEvents[e.type];return this._skipEvents[e.type]=!1,t},_checkMouse:function(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e},_getEvent:function(){var e=i.event;if(!e)for(var t=arguments.callee.caller;t&&(e=t.arguments[0],!e||i.Event!==e.constructor);)t=t.caller;return e},_filterClick:function(e,t){var n=e.timeStamp||e.originalEvent.timeStamp,r=l.DomEvent._lastClick&&n-l.DomEvent._lastClick;return r&&r>100&&500>r||e.target._simulatedClick&&!e._simulated?void l.DomEvent.stop(e):(l.DomEvent._lastClick=n,t(e))}},l.DomEvent.on=l.DomEvent.addListener,l.DomEvent.off=l.DomEvent.removeListener,l.Draggable=l.Class.extend({includes:l.Mixin.Events,statics:{START:l.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(e,t){this._element=e,this._dragStartTarget=t||e},enable:function(){if(!this._enabled){for(var e=l.Draggable.START.length-1;e>=0;e--)l.DomEvent.on(this._dragStartTarget,l.Draggable.START[e],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var e=l.Draggable.START.length-1;e>=0;e--)l.DomEvent.off(this._dragStartTarget,l.Draggable.START[e],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(e){if(this._moved=!1,!(e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(l.DomEvent.stopPropagation(e),l.Draggable._disabled||(l.DomUtil.disableImageDrag(),l.DomUtil.disableTextSelection(),this._moving)))){var t=e.touches?e.touches[0]:e;this._startPoint=new l.Point(t.clientX,t.clientY),this._startPos=this._newPos=l.DomUtil.getPosition(this._element),l.DomEvent.on(o,l.Draggable.MOVE[e.type],this._onMove,this).on(o,l.Draggable.END[e.type],this._onUp,this)}},_onMove:function(e){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new l.Point(t.clientX,t.clientY),r=n.subtract(this._startPoint);(r.x||r.y)&&(l.Browser.touch&&Math.abs(r.x)+Math.abs(r.y)<3||(l.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=l.DomUtil.getPosition(this._element).subtract(r),l.DomUtil.addClass(o.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,l.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,l.Util.cancelAnimFrame(this._animRequest),this._animRequest=l.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),l.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){l.DomUtil.removeClass(o.body,"leaflet-dragging"),this._lastTarget&&(l.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in l.Draggable.MOVE)l.DomEvent.off(o,l.Draggable.MOVE[e],this._onMove).off(o,l.Draggable.END[e],this._onUp);l.DomUtil.enableImageDrag(),l.DomUtil.enableTextSelection(),this._moved&&this._moving&&(l.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),l.Handler=l.Class.extend({initialize:function(e){this._map=e},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),l.Map.mergeOptions({dragging:!0,inertia:!l.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:l.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),l.Map.Drag=l.Handler.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new l.Draggable(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),e.on("viewreset",this._onViewReset,this),e.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var e=this._map;e._panAnim&&e._panAnim.stop(),e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var e=this._lastTime=+new Date,t=this._lastPos=this._draggable._newPos;this._positions.push(t),this._times.push(e),e-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var e=this._map.getSize()._divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,a=(r-t+n)%e+t-n,i=(r+t+n)%e-t-n,o=Math.abs(a+n)<Math.abs(i+n)?a:i;this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=+new Date-this._lastTime,a=!n.inertia||r>n.inertiaThreshold||!this._positions[0];if(t.fire("dragend",e),a)t.fire("moveend");else{var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime+r-this._times[0])/1e3,s=n.easeLinearity,u=i.multiplyBy(s/o),c=u.distanceTo([0,0]),d=Math.min(n.inertiaMaxSpeed,c),f=u.multiplyBy(d/c),p=d/(n.inertiaDeceleration*s),h=f.multiplyBy(-p/2).round();h.x&&h.y?(h=t._limitOffset(h,t.options.maxBounds),l.Util.requestAnimFrame(function(){t.panBy(h,{duration:p,easeLinearity:s,noMoveStart:!0})})):t.fire("moveend")}}}),l.Map.addInitHook("addHandler","dragging",l.Map.Drag),l.Map.mergeOptions({doubleClickZoom:!0}),l.Map.DoubleClickZoom=l.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom()+(e.originalEvent.shiftKey?-1:1);"center"===t.options.doubleClickZoom?t.setZoom(n):t.setZoomAround(e.containerPoint,n)}}),l.Map.addInitHook("addHandler","doubleClickZoom",l.Map.DoubleClickZoom),l.Map.mergeOptions({scrollWheelZoom:!0}),l.Map.ScrollWheelZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),l.DomEvent.on(this._map._container,"MozMousePixelScroll",l.DomEvent.preventDefault),this._delta=0},removeHooks:function(){l.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),l.DomEvent.off(this._map._container,"MozMousePixelScroll",l.DomEvent.preventDefault)},_onWheelScroll:function(e){var t=l.DomEvent.getWheelDelta(e);this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l.bind(this._performZoom,this),n),l.DomEvent.preventDefault(e),l.DomEvent.stopPropagation(e)},_performZoom:function(){var e=this._map,t=this._delta,n=e.getZoom();t=t>0?Math.ceil(t):Math.floor(t),t=Math.max(Math.min(t,4),-4),t=e._limitZoom(n+t)-n,this._delta=0,this._startTime=null,t&&("center"===e.options.scrollWheelZoom?e.setZoom(n+t):e.setZoomAround(this._lastMousePos,n+t))}}),l.Map.addInitHook("addHandler","scrollWheelZoom",l.Map.ScrollWheelZoom),l.extend(l.DomEvent,{_touchstart:l.Browser.msPointer?"MSPointerDown":l.Browser.pointer?"pointerdown":"touchstart",_touchend:l.Browser.msPointer?"MSPointerUp":l.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(e,t,n){function r(e){var t;if(l.Browser.pointer?(h.push(e.pointerId),t=h.length):t=e.touches.length,!(t>1)){var n=Date.now(),r=n-(i||n);s=e.touches?e.touches[0]:e,u=r>0&&c>=r,i=n}}function a(e){if(l.Browser.pointer){var n=h.indexOf(e.pointerId);if(-1===n)return;h.splice(n,1)}if(u){if(l.Browser.pointer){var r,a={};for(var o in s)r=s[o],a[o]="function"==typeof r?r.bind(s):r;s=a}s.type="dblclick",t(s),i=null}}var i,s,u=!1,c=250,d="_leaflet_",f=this._touchstart,p=this._touchend,h=[];e[d+f+n]=r,e[d+p+n]=a;var m=l.Browser.pointer?o.documentElement:e;return e.addEventListener(f,r,!1),m.addEventListener(p,a,!1),l.Browser.pointer&&m.addEventListener(l.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(e,t){var n="_leaflet_";return e.removeEventListener(this._touchstart,e[n+this._touchstart+t],!1),(l.Browser.pointer?o.documentElement:e).removeEventListener(this._touchend,e[n+this._touchend+t],!1),l.Browser.pointer&&o.documentElement.removeEventListener(l.DomEvent.POINTER_CANCEL,e[n+this._touchend+t],!1),this}}),l.extend(l.DomEvent,{POINTER_DOWN:l.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:l.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:l.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:l.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(e,t,n,r){switch(t){case"touchstart":return this.addPointerListenerStart(e,t,n,r);case"touchend":return this.addPointerListenerEnd(e,t,n,r);case"touchmove":return this.addPointerListenerMove(e,t,n,r);default:throw"Unknown touch event type"}},addPointerListenerStart:function(e,t,n,r){var a="_leaflet_",i=this._pointers,s=function(e){l.DomEvent.preventDefault(e);for(var t=!1,r=0;r<i.length;r++)if(i[r].pointerId===e.pointerId){t=!0;break}t||i.push(e),e.touches=i.slice(),e.changedTouches=[e],n(e)};if(e[a+"touchstart"+r]=s,e.addEventListener(this.POINTER_DOWN,s,!1),!this._pointerDocumentListener){var u=function(e){for(var t=0;t<i.length;t++)if(i[t].pointerId===e.pointerId){i.splice(t,1);break}};o.documentElement.addEventListener(this.POINTER_UP,u,!1),o.documentElement.addEventListener(this.POINTER_CANCEL,u,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(e,t,n,r){function a(e){if(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons){for(var t=0;t<o.length;t++)if(o[t].pointerId===e.pointerId){o[t]=e;break}e.touches=o.slice(),e.changedTouches=[e],n(e)}}var i="_leaflet_",o=this._pointers;return e[i+"touchmove"+r]=a,e.addEventListener(this.POINTER_MOVE,a,!1),this},addPointerListenerEnd:function(e,t,n,r){var a="_leaflet_",i=this._pointers,o=function(e){for(var t=0;t<i.length;t++)if(i[t].pointerId===e.pointerId){i.splice(t,1);break}e.touches=i.slice(),e.changedTouches=[e],n(e)};return e[a+"touchend"+r]=o,e.addEventListener(this.POINTER_UP,o,!1),e.addEventListener(this.POINTER_CANCEL,o,!1),this},removePointerListener:function(e,t,n){var r="_leaflet_",a=e[r+t+n];switch(t){case"touchstart":e.removeEventListener(this.POINTER_DOWN,a,!1);break;case"touchmove":e.removeEventListener(this.POINTER_MOVE,a,!1);break;case"touchend":e.removeEventListener(this.POINTER_UP,a,!1),e.removeEventListener(this.POINTER_CANCEL,a,!1)}return this}}),l.Map.mergeOptions({touchZoom:l.Browser.touch&&!l.Browser.android23,bounceAtZoomLimits:!0}),l.Map.TouchZoom=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToLayerPoint(e.touches[0]),r=t.mouseEventToLayerPoint(e.touches[1]),a=t._getCenterLayerPoint();this._startCenter=n.add(r)._divideBy(2),this._startDist=n.distanceTo(r),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),t._panAnim&&t._panAnim.stop(),l.DomEvent.on(o,"touchmove",this._onTouchMove,this).on(o,"touchend",this._onTouchEnd,this),l.DomEvent.preventDefault(e)}},_onTouchMove:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&this._zooming){var n=t.mouseEventToLayerPoint(e.touches[0]),r=t.mouseEventToLayerPoint(e.touches[1]);this._scale=n.distanceTo(r)/this._startDist,this._delta=n._add(r)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(t.options.bounceAtZoomLimits||!(t.getZoom()===t.getMinZoom()&&this._scale<1||t.getZoom()===t.getMaxZoom()&&this._scale>1))&&(this._moved||(l.DomUtil.addClass(t._mapPane,"leaflet-touching"),t.fire("movestart").fire("zoomstart"),this._moved=!0),l.Util.cancelAnimFrame(this._animRequest),this._animRequest=l.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),l.DomEvent.preventDefault(e))}},_updateOnMove:function(){var e=this._map,t=this._getScaleOrigin(),n=e.layerPointToLatLng(t),r=e.getScaleZoom(this._scale);e._animateZoom(n,r,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var e=this._map;this._zooming=!1,l.DomUtil.removeClass(e._mapPane,"leaflet-touching"),l.Util.cancelAnimFrame(this._animRequest),l.DomEvent.off(o,"touchmove",this._onTouchMove).off(o,"touchend",this._onTouchEnd);var t=this._getScaleOrigin(),n=e.layerPointToLatLng(t),r=e.getZoom(),a=e.getScaleZoom(this._scale)-r,i=a>0?Math.ceil(a):Math.floor(a),s=e._limitZoom(r+i),u=e.getZoomScale(s)/this._scale;e._animateZoom(n,s,t,u)},_getScaleOrigin:function(){var e=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(e)}}),l.Map.addInitHook("addHandler","touchZoom",l.Map.TouchZoom),l.Map.mergeOptions({tap:!0,tapTolerance:15}),l.Map.Tap=l.Handler.extend({addHooks:function(){l.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){l.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(l.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new l.Point(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&l.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(l.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),l.DomEvent.on(o,"touchmove",this._onMove,this).on(o,"touchend",this._onUp,this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),l.DomEvent.off(o,"touchmove",this._onMove,this).off(o,"touchend",this._onUp,this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&l.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new l.Point(t.clientX,t.clientY)},_simulateEvent:function(e,t){var n=o.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,i,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}),l.Browser.touch&&!l.Browser.pointer&&l.Map.addInitHook("addHandler","tap",l.Map.Tap),l.Map.mergeOptions({boxZoom:!0}),l.Map.BoxZoom=l.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._moved=!1},addHooks:function(){l.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){l.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(e){return this._moved=!1,!e.shiftKey||1!==e.which&&1!==e.button?!1:(l.DomUtil.disableTextSelection(),l.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(e),void l.DomEvent.on(o,"mousemove",this._onMouseMove,this).on(o,"mouseup",this._onMouseUp,this).on(o,"keydown",this._onKeyDown,this))},_onMouseMove:function(e){this._moved||(this._box=l.DomUtil.create("div","leaflet-zoom-box",this._pane),l.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var t=this._startLayerPoint,n=this._box,r=this._map.mouseEventToLayerPoint(e),a=r.subtract(t),i=new l.Point(Math.min(r.x,t.x),Math.min(r.y,t.y));l.DomUtil.setPosition(n,i),this._moved=!0,n.style.width=Math.max(0,Math.abs(a.x)-4)+"px",n.style.height=Math.max(0,Math.abs(a.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),l.DomUtil.enableTextSelection(),l.DomUtil.enableImageDrag(),l.DomEvent.off(o,"mousemove",this._onMouseMove).off(o,"mouseup",this._onMouseUp).off(o,"keydown",this._onKeyDown)},_onMouseUp:function(e){this._finish();var t=this._map,n=t.mouseEventToLayerPoint(e);if(!this._startLayerPoint.equals(n)){var r=new l.LatLngBounds(t.layerPointToLatLng(this._startLayerPoint),t.layerPointToLatLng(n));t.fitBounds(r),t.fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}}),l.Map.addInitHook("addHandler","boxZoom",l.Map.BoxZoom),l.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),l.Map.Keyboard=l.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(e){this._map=e,this._setPanOffset(e.options.keyboardPanOffset),this._setZoomOffset(e.options.keyboardZoomOffset)},addHooks:function(){var e=this._map._container;-1===e.tabIndex&&(e.tabIndex="0"),l.DomEvent.on(e,"focus",this._onFocus,this).on(e,"blur",this._onBlur,this).on(e,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var e=this._map._container;l.DomEvent.off(e,"focus",this._onFocus,this).off(e,"blur",this._onBlur,this).off(e,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=o.body,t=o.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),i.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(e){var t,n,r=this._panKeys={},a=this.keyCodes;for(t=0,n=a.left.length;n>t;t++)r[a.left[t]]=[-1*e,0];for(t=0,n=a.right.length;n>t;t++)r[a.right[t]]=[e,0];for(t=0,n=a.down.length;n>t;t++)r[a.down[t]]=[0,e];for(t=0,n=a.up.length;n>t;t++)r[a.up[t]]=[0,-1*e]},_setZoomOffset:function(e){var t,n,r=this._zoomKeys={},a=this.keyCodes;for(t=0,n=a.zoomIn.length;n>t;t++)r[a.zoomIn[t]]=e;for(t=0,n=a.zoomOut.length;n>t;t++)r[a.zoomOut[t]]=-e},_addHooks:function(){l.DomEvent.on(o,"keydown",this._onKeyDown,this)},_removeHooks:function(){l.DomEvent.off(o,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){var t=e.keyCode,n=this._map;if(t in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[t]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(t in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[t])}l.DomEvent.stop(e)}}),l.Map.addInitHook("addHandler","keyboard",l.Map.Keyboard),l.Handler.MarkerDrag=l.Handler.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new l.Draggable(e,e)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),l.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),l.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var e=this._marker,t=e._shadow,n=l.DomUtil.getPosition(e._icon),r=e._map.layerPointToLatLng(n);t&&l.DomUtil.setPosition(t,n),e._latlng=r,e.fire("move",{latlng:r}).fire("drag")},_onDragEnd:function(e){this._marker.fire("moveend").fire("dragend",e)}}),l.Control=l.Class.extend({options:{position:"topright"},initialize:function(e){l.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return l.DomUtil.addClass(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this},removeFrom:function(e){var t=this.getPosition(),n=e._controlCorners[t];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(e),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),l.control=function(e){return new l.Control(e)},l.Map.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.removeFrom(this),this},_initControlPos:function(){function e(e,a){var i=n+e+" "+n+a;t[e+a]=l.DomUtil.create("div",i,r)}var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=l.DomUtil.create("div",n+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),l.Control.Zoom=l.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=l.DomUtil.create("div",t+" leaflet-bar");return this._map=e,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,t+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,t+"-out",n,this._zoomOut,this),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(e){this._map.zoomIn(e.shiftKey?3:1)},_zoomOut:function(e){this._map.zoomOut(e.shiftKey?3:1)},_createButton:function(e,t,n,r,a,i){var o=l.DomUtil.create("a",n,r);o.innerHTML=e,o.href="#",o.title=t;var s=l.DomEvent.stopPropagation;return l.DomEvent.on(o,"click",s).on(o,"mousedown",s).on(o,"dblclick",s).on(o,"click",l.DomEvent.preventDefault).on(o,"click",a,i).on(o,"click",this._refocusOnMap,i),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";l.DomUtil.removeClass(this._zoomInButton,t),l.DomUtil.removeClass(this._zoomOutButton,t),e._zoom===e.getMinZoom()&&l.DomUtil.addClass(this._zoomOutButton,t),e._zoom===e.getMaxZoom()&&l.DomUtil.addClass(this._zoomInButton,t)}}),l.Map.mergeOptions({zoomControl:!0}),l.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new l.Control.Zoom,this.addControl(this.zoomControl))}),l.control.zoom=function(e){return new l.Control.Zoom(e)},l.Control.Attribution=l.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){l.setOptions(this,e),this._attributions={}},onAdd:function(e){this._container=l.DomUtil.create("div","leaflet-control-attribution"),l.DomEvent.disableClickPropagation(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return e.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(e){e.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):void 0},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):void 0},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(e){e.layer.getAttribution&&this.addAttribution(e.layer.getAttribution())},_onLayerRemove:function(e){e.layer.getAttribution&&this.removeAttribution(e.layer.getAttribution())}}),l.Map.mergeOptions({attributionControl:!0
}),l.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new l.Control.Attribution).addTo(this))}),l.control.attribution=function(e){return new l.Control.Attribution(e)},l.Control.Scale=l.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(e){this._map=e;var t="leaflet-control-scale",n=l.DomUtil.create("div",t),r=this.options;return this._addScales(r,t,n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=l.DomUtil.create("div",t+"-line",n)),e.imperial&&(this._iScale=l.DomUtil.create("div",t+"-line",n))},_update:function(){var e=this._map.getBounds(),t=e.getCenter().lat,n=6378137*Math.PI*Math.cos(t*Math.PI/180),r=n*(e.getNorthEast().lng-e.getSouthWest().lng)/180,a=this._map.getSize(),i=this.options,o=0;a.x>0&&(o=r*(i.maxWidth/a.x)),this._updateScales(i,o)},_updateScales:function(e,t){e.metric&&t&&this._updateMetric(t),e.imperial&&t&&this._updateImperial(t)},_updateMetric:function(e){var t=this._getRoundNum(e);this._mScale.style.width=this._getScaleWidth(t/e)+"px",this._mScale.innerHTML=1e3>t?t+" m":t/1e3+" km"},_updateImperial:function(e){var t,n,r,a=3.2808399*e,i=this._iScale;a>5280?(t=a/5280,n=this._getRoundNum(t),i.style.width=this._getScaleWidth(n/t)+"px",i.innerHTML=n+" mi"):(r=this._getRoundNum(a),i.style.width=this._getScaleWidth(r/a)+"px",i.innerHTML=r+" ft")},_getScaleWidth:function(e){return Math.round(this.options.maxWidth*e)-10},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),l.control.scale=function(e){return new l.Control.Scale(e)},l.Control.Layers=l.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(e,t,n){l.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var r in e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){return this._initLayout(),this._update(),e.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(e){e.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._update(),this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._update(),this},removeLayer:function(e){var t=l.stamp(e);return delete this._layers[t],this._update(),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=l.DomUtil.create("div",e);t.setAttribute("aria-haspopup",!0),l.Browser.touch?l.DomEvent.on(t,"click",l.DomEvent.stopPropagation):l.DomEvent.disableClickPropagation(t).disableScrollPropagation(t);var n=this._form=l.DomUtil.create("form",e+"-list");if(this.options.collapsed){l.Browser.android||l.DomEvent.on(t,"mouseover",this._expand,this).on(t,"mouseout",this._collapse,this);var r=this._layersLink=l.DomUtil.create("a",e+"-toggle",t);r.href="#",r.title="Layers",l.Browser.touch?l.DomEvent.on(r,"click",l.DomEvent.stop).on(r,"click",this._expand,this):l.DomEvent.on(r,"focus",this._expand,this),l.DomEvent.on(n,"click",function(){setTimeout(l.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=l.DomUtil.create("div",e+"-base",n),this._separator=l.DomUtil.create("div",e+"-separator",n),this._overlaysList=l.DomUtil.create("div",e+"-overlays",n),t.appendChild(n)},_addLayer:function(e,t,n){var r=l.stamp(e);this._layers[r]={layer:e,name:t,overlay:n},this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var e,t,n=!1,r=!1;for(e in this._layers)t=this._layers[e],this._addItem(t),r=r||t.overlay,n=n||!t.overlay;this._separator.style.display=r&&n?"":"none"}},_onLayerChange:function(e){var t=this._layers[l.stamp(e.layer)];if(t){this._handlingClick||this._update();var n=t.overlay?"layeradd"===e.type?"overlayadd":"overlayremove":"layeradd"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)}},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';t&&(n+=' checked="checked"'),n+="/>";var r=o.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=o.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?(t=o.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers",r),t.layerId=l.stamp(e.layer),l.DomEvent.on(t,"click",this._onInputClick,this);var a=o.createElement("span");a.innerHTML=" "+e.name,n.appendChild(t),n.appendChild(a);var i=e.overlay?this._overlaysList:this._baseLayersList;return i.appendChild(n),n},_onInputClick:function(){var e,t,n,r=this._form.getElementsByTagName("input"),a=r.length;for(this._handlingClick=!0,e=0;a>e;e++)t=r[e],n=this._layers[t.layerId],t.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!t.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){l.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),l.control.layers=function(e,t,n){return new l.Control.Layers(e,t,n)},l.PosAnimation=l.Class.extend({includes:l.Mixin.Events,run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._newPos=t,this.fire("start"),e.style[l.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(r||.5)+",1)",l.DomEvent.on(e,l.DomUtil.TRANSITION_END,this._onTransitionEnd,this),l.DomUtil.setPosition(e,t),l.Util.falseFn(e.offsetWidth),this._stepTimer=setInterval(l.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(l.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),l.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var e=this._getPos();return e?(this._el._leaflet_pos=e,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,t,n,r=this._el,a=i.getComputedStyle(r);if(l.Browser.any3d){if(n=a[l.DomUtil.TRANSFORM].match(this._transformRe),!n)return;e=parseFloat(n[1]),t=parseFloat(n[2])}else e=parseFloat(a.left),t=parseFloat(a.top);return new l.Point(e,t,!0)},_onTransitionEnd:function(){l.DomEvent.off(this._el,l.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[l.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),l.Map.include({setView:function(e,t,n){if(t=t===s?this._zoom:this._limitZoom(t),e=this._limitCenter(l.latLng(e),t,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==s&&(n.zoom=l.extend({animate:n.animate},n.zoom),n.pan=l.extend({animate:n.animate},n.pan));var r=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t),this},panBy:function(e,t){if(e=l.point(e).round(),t=t||{},!e.x&&!e.y)return this;if(this._panAnim||(this._panAnim=new l.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){l.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e);this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){l.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._floor();return(t&&t.animate)===!0||this.getSize().contains(n)?(this.panBy(n,t),!0):!1}}),l.PosAnimation=l.DomUtil.TRANSITION?l.PosAnimation:l.PosAnimation.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=l.DomUtil.getPosition(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=l.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var e=+new Date-this._startTime,t=1e3*this._duration;t>e?this._runFrame(this._easeOut(e/t)):(this._runFrame(1),this._complete())},_runFrame:function(e){var t=this._startPos.add(this._offset.multiplyBy(e));l.DomUtil.setPosition(this._el,t),this.fire("step")},_complete:function(){l.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),l.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),l.DomUtil.TRANSITION&&l.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&l.DomUtil.TRANSITION&&l.Browser.any3d&&!l.Browser.android23&&!l.Browser.mobileOpera,this._zoomAnimated&&l.DomEvent.on(this._mapPane,l.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),l.Map.include(l.DomUtil.TRANSITION?{_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),a=this._getCenterOffset(e)._divideBy(1-1/r),i=this._getCenterLayerPoint()._add(a);return n.animate===!0||this.getSize().contains(a)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(e,t,i,r,null,!0),!0):!1},_animateZoom:function(e,t,n,r,a,i,o){o||(this._animatingZoom=!0),l.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=e,this._animateToZoom=t,l.Draggable&&(l.Draggable._disabled=!0),l.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:e,zoom:t,origin:n,scale:r,delta:a,backwards:i})},this)},_onZoomTransitionEnd:function(){this._animatingZoom=!1,l.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),l.Draggable&&(l.Draggable._disabled=!1)}}:{}),l.TileLayer.include({_animateZoom:function(e){this._animating||(this._animating=!0,this._prepareBgBuffer());var t=this._bgBuffer,n=l.DomUtil.TRANSFORM,r=e.delta?l.DomUtil.getTranslateString(e.delta):t.style[n],a=l.DomUtil.getScaleString(e.scale,e.origin);t.style[n]=e.backwards?a+" "+r:r+" "+a},_endZoomAnim:function(){var e=this._tileContainer,t=this._bgBuffer;e.style.visibility="",e.parentNode.appendChild(e),l.Util.falseFn(t.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var e=this._map;!e||e._animatingZoom||e.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[l.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var e=this._tileContainer,t=this._bgBuffer,n=this._getLoadedTilesPercentage(t),r=this._getLoadedTilesPercentage(e);return t&&n>.5&&.5>r?(e.style.visibility="hidden",void this._stopLoadingImages(e)):(t.style.visibility="hidden",t.style[l.DomUtil.TRANSFORM]="",this._tileContainer=t,t=this._bgBuffer=e,this._stopLoadingImages(t),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(e){var t,n,r=e.getElementsByTagName("img"),a=0;for(t=0,n=r.length;n>t;t++)r[t].complete&&a++;return a/n},_stopLoadingImages:function(e){var t,n,r,a=Array.prototype.slice.call(e.getElementsByTagName("img"));for(t=0,n=a.length;n>t;t++)r=a[t],r.complete||(r.onload=l.Util.falseFn,r.onerror=l.Util.falseFn,r.src=l.Util.emptyImageUrl,r.parentNode.removeChild(r))}}),l.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(e){if(e=this._locateOptions=l.extend(this._defaultLocateOptions,e),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=l.bind(this._handleGeolocationResponse,this),n=l.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,n=e.coords.longitude,r=new l.LatLng(t,n),a=180*e.coords.accuracy/40075017,i=a/Math.cos(l.LatLng.DEG_TO_RAD*t),o=l.latLngBounds([t-a,n-i],[t+a,n+i]),s=this._locateOptions;if(s.setView){var u=Math.min(this.getBoundsZoom(o),s.maxZoom);this.setView(r,u)}var c={latlng:r,bounds:o,timestamp:e.timestamp};for(var d in e.coords)"number"==typeof e.coords[d]&&(c[d]=e.coords[d]);this.fire("locationfound",c)}})}(window,document)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_122__},function(e,t){!function(e,t){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(e){if(e instanceof L.LayerGroup){var t=[];for(var n in e._layers)t.push(e._layers[n]);return this.addLayers(t)}if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this;if(!this._map)return this._needsClustering.push(e),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom);var r=e,a=this._map.getZoom();if(e.__parent)for(;r.__parent._zoom>=a;)r=r.__parent;return this._currentShownBounds.contains(r.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,r):this._animationAddLayerNonAnimated(e,r)),this},removeLayer:function(e){if(e instanceof L.LayerGroup){var t=[];for(var n in e._layers)t.push(e._layers[n]);return this.removeLayers(t)}return e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.setOpacity&&e.setOpacity(1)),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push(e),this):(this._nonPointGroup.removeLayer(e),this)},addLayers:function(e){var t,n,r,a=this._map,i=this._featureGroup,o=this._nonPointGroup;for(t=0,n=e.length;n>t;t++)if(r=e[t],r.getLatLng){if(!this.hasLayer(r))if(a){if(this._addLayer(r,this._maxZoom),r.__parent&&2===r.__parent.getChildCount()){var s=r.__parent.getAllChildMarkers(),u=s[0]===r?s[1]:s[0];i.removeLayer(u)}}else this._needsClustering.push(r)}else o.addLayer(r);return a&&(i.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)),this},removeLayers:function(e){var t,n,r,a=this._featureGroup,i=this._nonPointGroup;if(!this._map){for(t=0,n=e.length;n>t;t++)r=e[t],this._arraySplice(this._needsClustering,r),i.removeLayer(r);return this}for(t=0,n=e.length;n>t;t++)r=e[t],r.__parent?(this._removeLayer(r,!0,!0),a.hasLayer(r)&&(a.removeLayer(r),r.setOpacity&&r.setOpacity(1))):i.removeLayer(r);return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),a.eachLayer(function(e){e instanceof L.MarkerCluster&&e._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){delete e.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;if(this._topClusterLevel)e.extend(this._topClusterLevel._bounds);else for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,r=this._needsClustering.slice();for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),n=r.length-1;n>=0;n--)e.call(t,r[n]);this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return this.eachLayer(function(n){L.stamp(n)===e&&(t=n)}),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(n=this._needsRemoving,t=n.length-1;t>=0;t--)if(n[t]===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){var n=function(){if((e._icon||e.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",n,this),this.off("animationend",n,this),e._icon)t();else if(e.__parent._icon){var r=function(){this.off("spiderfied",r,this),t()};this.on("spiderfied",r,this),e.__parent.spiderfy()}};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<this._map.getZoom()?(this._map.on("moveend",n,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),this._map.setView(e.getLatLng(),e.__parent._zoom+1),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var t,n,r;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.onAdd(e),this._nonPointGroup.onAdd(e),this._gridClusters||this._generateInitialClusters(),t=0,n=this._needsRemoving.length;n>t;t++)r=this._needsRemoving[t],this._removeLayer(r,!0);for(this._needsRemoving=[],t=0,n=this._needsClustering.length;n>t;t++)r=this._needsClustering[t],r.getLatLng?r.__parent||this._addLayer(r,this._maxZoom):this._featureGroup.addLayer(r);this._needsClustering=[],this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(e),this._nonPointGroup.onRemove(e),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeLayer:function(e,t,n){var r=this._gridClusters,a=this._gridUnclustered,i=this._featureGroup,o=this._map;if(t)for(var s=this._maxZoom;s>=0&&a[s].removeObject(e,o.project(e.getLatLng(),s));s--);var u,l=e.__parent,c=l._markers;for(this._arraySplice(c,e);l&&(l._childCount--,!(l._zoom<0));)t&&l._childCount<=1?(u=l._markers[0]===e?l._markers[1]:l._markers[0],r[l._zoom].removeObject(l,o.project(l._cLatLng,l._zoom)),a[l._zoom].addObject(u,o.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(i.removeLayer(l),n||i.addLayer(u))):(l._recalculateBounds(),n&&l._icon||l._updateIcon()),l=l.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},_propagateEvent:function(e){if(e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;e.type="cluster"+e.type}this.fire(e.type,e)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=10>t?"small":100>t?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick;(t||r)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var t=this._map;t.getMaxZoom()===t.getZoom()?this.options.spiderfyOnMaxZoom&&e.layer.spiderfy():this.options.zoomToBoundsOnClick&&e.layer.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&t._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this._map;(e||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),r.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=this._map.getMaxZoom(),t=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var n=e;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(t),this._gridUnclustered[n]=new L.DistanceGrid(t);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(e,t){var n,r,a=this._gridClusters,i=this._gridUnclustered;for(this.options.singleMarkerMode&&(e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}}));t>=0;t--){n=this._map.project(e.getLatLng(),t);var o=a[t].getNearObject(n);if(o)return o._addChild(e),void(e.__parent=o);if(o=i[t].getNearObject(n)){var s=o.__parent;s&&this._removeLayer(o,!1);var u=new L.MarkerCluster(this,t,o,e);a[t].addObject(u,this._map.project(u._cLatLng,t)),o.__parent=u,e.__parent=u;var l=u;for(r=t-1;r>s._zoom;r--)l=new L.MarkerCluster(this,r,l),a[r].addObject(l,this._map.project(o.getLatLng(),r));for(s._addChild(l),r=t;r>=0&&i[r].removeObject(o,this._map.project(o.getLatLng(),r));r--);return}i[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var e=this._map,t=e.getBounds(),n=t._southWest,r=t._northEast,a=L.Browser.mobile?0:Math.abs(n.lat-r.lat),i=L.Browser.mobile?0:Math.abs(n.lng-r.lng);return new L.LatLngBounds(new L.LatLng(n.lat-a,n.lng-i,!0),new L.LatLng(r.lat+a,r.lng+i,!0))},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()}}),L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_animationZoomIn:function(e,t){var n,r=this._getExpandedVisibleBounds(),a=this._featureGroup;this._topClusterLevel._recursively(r,e,0,function(i){var o,s=i._latlng,u=i._markers;for(r.contains(s)||(s=null),i._isSingleParent()&&e+1===t?(a.removeLayer(i),i._recursivelyAddChildrenToMap(null,t,r)):(i.setOpacity(0),i._recursivelyAddChildrenToMap(s,t,r)),n=u.length-1;n>=0;n--)o=u[n],r.contains(o._latlng)||a.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,t),a.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.setOpacity(1)}),this._topClusterLevel._recursively(r,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),this._enqueue(function(){this._topClusterLevel._recursively(r,e,0,function(e){a.removeLayer(e),e.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(e,t,n){var r=this._getExpandedVisibleBounds();e._recursivelyAnimateChildrenInAndAddSelfToMap(r,t+1,n);var a=this;this._forceLayout(),e._recursivelyBecomeVisible(r,n),this._enqueue(function(){if(1===e._childCount){var i=e._markers[0];i.setLatLng(i.getLatLng()),i.setOpacity(1)}else e._recursively(r,n,0,function(e){e._recursivelyRemoveChildrenFromMap(r,t+1)});a._animationEnd()})},_animationAddLayer:function(e,t){var n=this,r=this._featureGroup;r.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.setOpacity(0),this._enqueue(function(){r.removeLayer(e),e.setOpacity(1),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(t.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds())},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)},L.MarkerCluster=L.Marker.extend({initialize:function(e,t,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(e){e=e||[];for(var t=this._childClusters.length-1;t>=0;t--)this._childClusters[t].getAllChildMarkers(e);for(var n=this._markers.length-1;n>=0;n--)e.push(this._markers[n]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var e,t=this._childClusters.slice(),n=this._group._map,r=n.getBoundsZoom(this._bounds),a=this._zoom+1,i=n.getZoom();t.length>0&&r>a;){a++;var o=[];for(e=0;e<t.length;e++)o=o.concat(t[e]._childClusters);t=o}r>a?this._group._map.setView(this._latlng,a):i>=r?this._group._map.setView(this._latlng,i+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._expandBounds(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_expandBounds:function(e){var t,n=e._wLatLng||e._latlng;e instanceof L.MarkerCluster?(this._bounds.extend(e._bounds),t=e._childCount):(this._bounds.extend(n),t=1),this._cLatLng||(this._cLatLng=e._cLatLng||n);var r=this._childCount+t;this._wLatLng?(this._wLatLng.lat=(n.lat*t+this._wLatLng.lat*this._childCount)/r,this._wLatLng.lng=(n.lng*t+this._wLatLng.lng*this._childCount)/r):this._latlng=this._wLatLng=new L.LatLng(n.lat,n.lng)},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,0,n-1,function(e){var n,r,a=e._markers;for(n=a.length-1;n>=0;n--)r=a[n],r._icon&&(r._setPos(t),r.setOpacity(0))},function(e){var n,r,a=e._childClusters;for(n=a.length-1;n>=0;n--)r=a[n],r._icon&&(r._setPos(t),r.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n){this._recursively(e,n,0,function(r){r._recursivelyAnimateChildrenIn(e,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),t),r._isSingleParent()&&t-1===n?(r.setOpacity(1),r._recursivelyRemoveChildrenFromMap(e,t)):r.setOpacity(0),r._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,0,t,null,function(e){e.setOpacity(1)})},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,-1,t,function(r){if(t!==r._zoom)for(var a=r._markers.length-1;a>=0;a--){var i=r._markers[a];n.contains(i._latlng)&&(e&&(i._backupLatlng=i.getLatLng(),i.setLatLng(e),i.setOpacity&&i.setOpacity(0)),r._group._featureGroup.addLayer(i))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){
for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var a=this._childClusters.length-1;a>=0;a--)this._childClusters[a]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n){var r,a;this._recursively(e,-1,t-1,function(e){for(a=e._markers.length-1;a>=0;a--)r=e._markers[a],n&&n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.setOpacity&&r.setOpacity(1))},function(e){for(a=e._childClusters.length-1;a>=0;a--)r=e._childClusters[a],n&&n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.setOpacity&&r.setOpacity(1))})},_recursively:function(e,t,n,r,a){var i,o,s=this._childClusters,u=this._zoom;if(t>u)for(i=s.length-1;i>=0;i--)o=s[i],e.intersects(o._bounds)&&o._recursively(e,t,n,r,a);else if(r&&r(this),a&&this._zoom===n&&a(this),n>u)for(i=s.length-1;i>=0;i--)o=s[i],e.intersects(o._bounds)&&o._recursively(e,t,n,r,a)},_recalculateBounds:function(){var e,t=this._markers,n=this._childClusters;for(this._bounds=new L.LatLngBounds,delete this._wLatLng,e=t.length-1;e>=0;e--)this._expandBounds(t[e]);for(e=n.length-1;e>=0;e--)this._expandBounds(n[e])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),r=this._getCoord(t.y),a=this._grid,i=a[r]=a[r]||{},o=i[n]=i[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,o.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,r,a=this._getCoord(t.x),i=this._getCoord(t.y),o=this._grid,s=o[i]=o[i]||{},u=s[a]=s[a]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,r=u.length;r>n;n++)if(u[n]===e)return u.splice(n,1),1===r&&delete s[a],!0},eachObject:function(e,t){var n,r,a,i,o,s,u,l=this._grid;for(n in l){o=l[n];for(r in o)for(s=o[r],a=0,i=s.length;i>a;a++)u=e.call(t,s[a]),u&&(a--,i--)}},getNearObject:function(e){var t,n,r,a,i,o,s,u,l=this._getCoord(e.x),c=this._getCoord(e.y),d=this._objectPoint,f=this._sqCellSize,p=null;for(t=c-1;c+1>=t;t++)if(a=this._grid[t])for(n=l-1;l+1>=n;n++)if(i=a[n])for(r=0,o=i.length;o>r;r++)s=i[r],u=this._sqDist(d[L.Util.stamp(s)],e),f>u&&(f=u,p=s);return p},_getCoord:function(e){return Math.floor(e/this._cellSize)},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},function(){L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat,r=t[0].lng-t[1].lng;return r*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,r,a,i=0,o=null,s=[];for(n=t.length-1;n>=0;n--)r=t[n],a=this.getDistant(r,e),a>0&&(s.push(r),a>i&&(i=a,o=r));return{maxPoint:o,newPoints:s}},buildConvexHull:function(e,t){var n=[],r=this.findMostDistantPointFromBaseLine(e,t);return r.maxPoint?(n=n.concat(this.buildConvexHull([e[0],r.maxPoint],r.newPoints)),n=n.concat(this.buildConvexHull([r.maxPoint,e[1]],r.newPoints))):[e[0]]},getConvexHull:function(e){var t,n=!1,r=!1,a=null,i=null;for(t=e.length-1;t>=0;t--){var o=e[t];(n===!1||o.lat>n)&&(a=o,n=o.lat),(r===!1||o.lat<r)&&(i=o,r=o.lat)}var s=[].concat(this.buildConvexHull([i,a],e),this.buildConvexHull([a,i],e));return s}}}(),L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),r=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),r.push(e);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(),n=this._group,r=n._map,a=r.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,a):(a.y+=10,e=this._generatePointsCircle(t.length,a)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,r,a=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e),i=a/this._2PI,o=this._2PI/e,s=[];for(s.length=e,n=e-1;n>=0;n--)r=this._circleStartAngle+n*o,s[n]=new L.Point(t.x+i*Math.cos(r),t.y+i*Math.sin(r))._round();return s},_generatePointsSpiral:function(e,t){var n,r=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,a=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,i=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,o=0,s=[];for(s.length=e,n=e-1;n>=0;n--)o+=a/r+5e-4*n,s[n]=new L.Point(t.x+r*Math.cos(o),t.y+r*Math.sin(o))._round(),r+=this._2PI*i/o;return s},_noanimationUnspiderfy:function(){var e,t,n=this._group,r=n._map,a=n._featureGroup,i=this.getAllChildMarkers();for(this.setOpacity(1),t=i.length-1;t>=0;t--)e=i[t],a.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(r.removeLayer(e._spiderLeg),delete e._spiderLeg);n._spiderfied=null}}),L.MarkerCluster.include(L.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return t.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate")>-1}(),_animationSpiderfy:function(e,n){var r,a,i,o,s=this,u=this._group,l=u._map,c=u._featureGroup,d=l.latLngToLayerPoint(this._latlng);for(r=e.length-1;r>=0;r--)a=e[r],a.setOpacity?(a.setZIndexOffset(1e6),a.setOpacity(0),c.addLayer(a),a._setPos(d)):c.addLayer(a);u._forceLayout(),u._animationStart();var f=L.Path.SVG?0:.3,p=L.Path.SVG_NS;for(r=e.length-1;r>=0;r--)if(o=l.layerPointToLatLng(n[r]),a=e[r],a._preSpiderfyLatlng=a._latlng,a.setLatLng(o),a.setOpacity&&a.setOpacity(1),i=new L.Polyline([s._latlng,o],{weight:1.5,color:"#222",opacity:f}),l.addLayer(i),a._spiderLeg=i,L.Path.SVG&&this.SVG_ANIMATION){var h=i._path.getTotalLength();i._path.setAttribute("stroke-dasharray",h+","+h);var m=t.createElementNS(p,"animate");m.setAttribute("attributeName","stroke-dashoffset"),m.setAttribute("begin","indefinite"),m.setAttribute("from",h),m.setAttribute("to",0),m.setAttribute("dur",.25),i._path.appendChild(m),m.beginElement(),m=t.createElementNS(p,"animate"),m.setAttribute("attributeName","stroke-opacity"),m.setAttribute("attributeName","stroke-opacity"),m.setAttribute("begin","indefinite"),m.setAttribute("from",0),m.setAttribute("to",.5),m.setAttribute("dur",.25),i._path.appendChild(m),m.beginElement()}if(s.setOpacity(.3),L.Path.SVG)for(this._group._forceLayout(),r=e.length-1;r>=0;r--)a=e[r]._spiderLeg,a.options.opacity=.5,a._path.setAttribute("stroke-opacity",.5);setTimeout(function(){u._animationEnd(),u.fire("spiderfied")},200)},_animationUnspiderfy:function(e){var t,n,r,a=this._group,i=a._map,o=a._featureGroup,s=e?i._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):i.latLngToLayerPoint(this._latlng),u=this.getAllChildMarkers(),l=L.Path.SVG&&this.SVG_ANIMATION;for(a._animationStart(),this.setOpacity(1),n=u.length-1;n>=0;n--)t=u[n],t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,t.setOpacity?(t._setPos(s),t.setOpacity(0)):o.removeLayer(t),l&&(r=t._spiderLeg._path.childNodes[0],r.setAttribute("to",r.getAttribute("from")),r.setAttribute("from",0),r.beginElement(),r=t._spiderLeg._path.childNodes[1],r.setAttribute("from",.5),r.setAttribute("to",0),r.setAttribute("stroke-opacity",0),r.beginElement(),t._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var e=0;for(n=u.length-1;n>=0;n--)t=u[n],t._spiderLeg&&e++;for(n=u.length-1;n>=0;n--)t=u[n],t._spiderLeg&&(t.setOpacity&&(t.setOpacity(1),t.setZIndexOffset(0)),e>1&&o.removeLayer(t),i.removeLayer(t._spiderLeg),delete t._spiderLeg);a._animationEnd()},200)}}:{_animationSpiderfy:function(e,t){var n,r,a,i,o=this._group,s=o._map,u=o._featureGroup;for(n=e.length-1;n>=0;n--)i=s.layerPointToLatLng(t[n]),r=e[n],r._preSpiderfyLatlng=r._latlng,r.setLatLng(i),r.setZIndexOffset&&r.setZIndexOffset(1e6),u.addLayer(r),a=new L.Polyline([this._latlng,i],{weight:1.5,color:"#222"}),s.addLayer(a),r._spiderLeg=a;this.setOpacity(.3),o.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.setOpacity(1),e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}})}(window,document)},function(e,t){},,function(e,t){},,function(e,t){e.exports='<div class=map><smt-searchbox ng-show="_params.searchBox != undefined" filters=_filters custom-controls="[\'taxonomies\', \'text\', \'starts\', \'ends\']" reload=reload()></smt-searchbox><leaflet defaults=defaults layers=layers markers=markers center=center bounds=bounds height=480px width=100% class=map zoom=zoom></leaflet><div class=events><div ng-hide=hasSomethingSelected()><div ng-repeat="item in events | visible_on_map:bounds | take:25" class=list-element><smt-event type=list event=item.event params=map></smt-event></div><div ng-repeat="item in places | visible_on_map:bounds | take:25" class=list-element><smt-place type=list place=item.place params=map></smt-place></div></div><div ng-show=hasSomethingSelected()><div ng-repeat="item in eventSelected | visible_on_map:bounds | take:25" class=list-element><smt-event type=list event=item.event params=map></smt-event></div><div ng-repeat="item in placeSelected | visible_on_map:bounds | take:25" class=list-element><smt-place type=list place=item.place params=map></smt-place></div></div></div></div>'},function(e,t,n){"use strict";angular.module("smartvel-inspire").directive("smtInspire",["Session",function(e){return{template:n(130),restrict:"E",scope:{filters:"=",starts:"=",ends:"=",period:"@",controlWidth:"@",region:"@",searchBox:"@",key:"@",language:"@",bookParams:"@",allowTickets:"@",allowTravelplan:"@",latitude:"@",longitude:"@",zoom:"@",showPlaces:"@"},compile:function(t,n){return{pre:function(){return e.setApiKey(n.key),void 0!==n.language?locale.setLang(n.language):void 0}}},controller:["$scope","$attrs","params",function(e,t,n){return e._params=n.getParams(t),e.view="map",e.changeView=function(t){return e.view=t},e.checkView=function(t){return e.view===t}}]}}])},function(e,t){e.exports='<ul class="nav nav-tabs"><li class=active><a data-toggle=tab ng-click="changeView(\'map\')">Map</a></li><li><a data-toggle=tab ng-click="changeView(\'calendar\')">Calendar</a></li><li><a data-toggle=tab ng-click="changeView(\'highlights\')">Highlights</a></li></ul><div class=tab-content><div class="tab-pane fade in active" ng-show="checkView(\'highlights\')"><smt-highlights search-box="="><h1>{{\'INSPIRE_TEXT\' | translate}}</h1></smt-highlights></div><div class="tab-pane fade in active" ng-show="checkView(\'map\')"><smt-map search-box="=" latitude="=" longitude="=" zoom="=" allow-tickets="=" show-places="=" allow-travelplan="=" book-params="="></smt-map></div><div class="tab-pane fade in active" ng-show="checkView(\'calendar\')"><smt-calendar search-box="=" allow-tickets="=" allow-travelplan="=" book-params="="></smt-calendar></div></div>'}])});